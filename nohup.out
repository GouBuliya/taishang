 * Serving Flask app 'app'
 * Debug mode: on
[2025-05-28 19:38:21] INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://198.18.0.1:5000
[2025-05-28 19:38:21] INFO [33mPress CTRL+C to quit[0m
[2025-05-28 19:38:21] INFO  * Restarting with stat
[2025-05-28 19:38:22] WARNING  * Debugger is active!
[2025-05-28 19:38:22] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:38:30] INFO 开始 Gemini API 流式推理。
[2025-05-28 19:38:30] INFO 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 19:39:24] INFO Gemini流式推理参数: prompt_text=code/cache_screenshots/tradingview_clipboard_20250528_193905.png
2025-05-28T19:39:22+08:00
0.0084%
0..., screenshot_path=code/cache_screenshots/tradingview_clipboard_20250528_193905.png, reasoning_effort='high'
[2025-05-28 19:39:24] INFO 60.211.79.243 - - [28/May/2025 19:39:24] "POST /api/gemini_advice HTTP/1.1" 200 -
[2025-05-28 19:39:24] INFO 动态加载 Gemini API 模块: /root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py
[2025-05-28 19:39:24] INFO Gemini API 模块加载完成，开始流式推理...
[2025-05-28 19:39:24] INFO 60.211.79.243 - - [28/May/2025 19:39:24] "GET /data.json HTTP/1.1" 200 -
[2025-05-28 19:39:24] INFO 60.211.79.243 - - [28/May/2025 19:39:24] "GET /cache_screenshots/tradingview_clipboard_20250528_193905.png?t=1748432364906 HTTP/1.1" 200 -
[2025-05-28 19:40:25] INFO Retrying request to /chat/completions in 0.377003 seconds
[2025-05-28 19:41:25] INFO Retrying request to /chat/completions in 0.876757 seconds
[2025-05-28 19:42:27] ERROR [gemini_api_caller] Gemini API调用异常: Connection error.
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 231, in _receive_event
    raise RemoteProtocolError(msg)
httpcore.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 969, in request
    response = self._client.send(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py", line 130, in call_gemini_api_stream
    stream = client.chat.completions.create(**chat_params)
  File "/usr/local/lib/python3.10/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py", line 925, in create
    return self._post(
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 1001, in request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

[2025-05-28 19:42:27] INFO Gemini流式推理结束。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:25:41] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:25:41] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:35] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:36] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:36] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:36] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:36] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:28:37] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:19] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:06] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:11] ERROR 获取或处理 15m 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=15m&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f0897687ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:11] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:16] ERROR 获取或处理 1h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=1H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f5bd0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:16] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:42:27] INFO [Gemini子模块] [2025-05-28 19:39:21] ERROR 获取或处理 4h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=4H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f4ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:42:27] INFO Gemini流式推理流程已完成，error_occurred=False
[2025-05-28 19:42:27] INFO Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_194227.txt
[2025-05-28 19:49:19] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:49:21] INFO  * Restarting with stat
[2025-05-28 19:49:26] WARNING  * Debugger is active!
[2025-05-28 19:49:26] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:49:40] INFO 开始 Gemini API 流式推理。
[2025-05-28 19:49:40] INFO 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 19:50:22] INFO Gemini流式推理参数: prompt_text=code/cache_screenshots/tradingview_clipboard_20250528_195017.png
ETH-USDT-SWAP
ETHUSDT.P
ETH-USDT-SW..., screenshot_path=code/cache_screenshots/tradingview_clipboard_20250528_195017.png, reasoning_effort='high'
[2025-05-28 19:50:22] INFO 60.211.79.243 - - [28/May/2025 19:50:22] "POST /api/gemini_advice HTTP/1.1" 200 -
[2025-05-28 19:50:22] INFO 动态加载 Gemini API 模块: /root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py
[2025-05-28 19:50:22] INFO Gemini API 模块加载完成，开始流式推理...
[2025-05-28 19:50:22] INFO 60.211.79.243 - - [28/May/2025 19:50:22] "GET /data.json HTTP/1.1" 200 -
[2025-05-28 19:50:22] INFO 60.211.79.243 - - [28/May/2025 19:50:22] "GET /cache_screenshots/tradingview_clipboard_20250528_195017.png?t=1748433022777 HTTP/1.1" 200 -
[2025-05-28 19:51:05] INFO HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
[2025-05-28 19:51:37] INFO Gemini流式推理结束。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:28:36] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:28:37] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:19] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:06] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:11] ERROR 获取或处理 15m 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=15m&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f0897687ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:11] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:16] ERROR 获取或处理 1h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=1H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f5bd0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:16] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:39:21] ERROR 获取或处理 4h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=4H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f4ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 19:51:37] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 19:51:37] INFO Gemini流式推理流程已完成，error_occurred=False
[2025-05-28 19:51:37] INFO Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_195137.txt
[2025-05-28 19:52:29] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:52:30] INFO  * Restarting with stat
[2025-05-28 19:52:32] WARNING  * Debugger is active!
[2025-05-28 19:52:32] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:52:34] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:52:35] INFO  * Restarting with stat
[2025-05-28 19:52:37] WARNING  * Debugger is active!
[2025-05-28 19:52:37] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:54:36] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:54:37] INFO  * Restarting with stat
[2025-05-28 19:54:39] WARNING  * Debugger is active!
[2025-05-28 19:54:39] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:54:41] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:54:43] INFO  * Restarting with stat
[2025-05-28 19:54:47] WARNING  * Debugger is active!
[2025-05-28 19:54:47] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:54:50] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:54:51] INFO  * Restarting with stat
[2025-05-28 19:54:54] WARNING  * Debugger is active!
[2025-05-28 19:54:54] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:55:02] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:55:02] INFO  * Restarting with stat
[2025-05-28 19:55:05] WARNING  * Debugger is active!
[2025-05-28 19:55:05] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:59:28] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:59:29] INFO  * Restarting with stat
[2025-05-28 19:59:32] WARNING  * Debugger is active!
[2025-05-28 19:59:32] INFO  * Debugger PIN: 138-205-243
[2025-05-28 19:59:57] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 19:59:58] INFO  * Restarting with stat
[2025-05-28 20:00:00] WARNING  * Debugger is active!
[2025-05-28 20:00:00] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:00:19] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:00:20] INFO  * Restarting with stat
[2025-05-28 20:00:23] WARNING  * Debugger is active!
[2025-05-28 20:00:23] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:00:24] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:00:24] INFO  * Restarting with stat
[2025-05-28 20:00:26] WARNING  * Debugger is active!
[2025-05-28 20:00:26] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:00:42] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:00:43] INFO  * Restarting with stat
[2025-05-28 20:00:45] WARNING  * Debugger is active!
[2025-05-28 20:00:45] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:00:46] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:00:47] INFO  * Restarting with stat
[2025-05-28 20:00:48] WARNING  * Debugger is active!
[2025-05-28 20:00:48] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:01:22] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:01:23] INFO  * Restarting with stat
[2025-05-28 20:01:25] WARNING  * Debugger is active!
[2025-05-28 20:01:25] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:01:29] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:01:30] INFO  * Restarting with stat
[2025-05-28 20:01:34] WARNING  * Debugger is active!
[2025-05-28 20:01:34] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:01:38] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:01:39] INFO  * Restarting with stat
[2025-05-28 20:01:42] WARNING  * Debugger is active!
[2025-05-28 20:01:42] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:04:45] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:04:46] INFO  * Restarting with stat
[2025-05-28 20:04:48] WARNING  * Debugger is active!
[2025-05-28 20:04:48] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:04:51] INFO 开始 Gemini API 流式推理。
[2025-05-28 20:04:51] INFO 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 20:05:44] INFO Gemini流式推理参数: prompt_text=code/cache_screenshots/tradingview_clipboard_20250528_200538.png
ETH-USDT-SWAP
ETHUSDT.P
ETH-USDT-SW..., screenshot_path=code/cache_screenshots/tradingview_clipboard_20250528_200538.png, reasoning_effort='high'
[2025-05-28 20:05:44] INFO 60.211.79.243 - - [28/May/2025 20:05:44] "POST /api/gemini_advice HTTP/1.1" 200 -
[2025-05-28 20:05:44] INFO 动态加载 Gemini API 模块: /root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py
[2025-05-28 20:05:44] INFO Gemini API 模块加载完成，开始流式推理...
[2025-05-28 20:05:44] INFO 60.211.79.243 - - [28/May/2025 20:05:44] "GET /data.json HTTP/1.1" 200 -
[2025-05-28 20:05:44] INFO 60.211.79.243 - - [28/May/2025 20:05:44] "GET /cache_screenshots/tradingview_clipboard_20250528_200538.png?t=1748433944946 HTTP/1.1" 200 -
[2025-05-28 20:06:31] INFO HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
[2025-05-28 20:06:56] INFO Gemini流式推理结束。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:34:20] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:06] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:11] ERROR 获取或处理 15m 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=15m&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f0897687ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:11] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:16] ERROR 获取或处理 1h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=1H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f5bd0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:16] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:39:21] ERROR 获取或处理 4h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=4H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f4ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:06:56] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:06:56] INFO Gemini流式推理流程已完成，error_occurred=False
[2025-05-28 20:06:56] INFO Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_200656.txt
[2025-05-28 20:07:00] INFO AI回复已发送到邮箱：['1528895030@qq.com']
[2025-05-28 20:07:45] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:07:46] INFO  * Restarting with stat
[2025-05-28 20:07:58] WARNING  * Debugger is active!
[2025-05-28 20:07:58] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:08:00] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:08:00] INFO  * Restarting with stat
[2025-05-28 20:08:01] WARNING  * Debugger is active!
[2025-05-28 20:08:01] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:12:58] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:12:59] INFO  * Restarting with stat
Exception in thread Thread-1 (schedule_gemini_task):
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "/root/codespace/Qwen_quant_v1/code/web_gui/app.py", line 293, in schedule_gemini_task
    now = datetime.datetime.now()
NameError: name 'datetime' is not defined
[2025-05-28 20:13:01] WARNING  * Debugger is active!
[2025-05-28 20:13:01] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:13:32] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:13:32] INFO  * Restarting with stat
Exception in thread Thread-1 (schedule_gemini_task):
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "/root/codespace/Qwen_quant_v1/code/web_gui/app.py", line 293, in schedule_gemini_task
    now = datetime.datetime.now()
NameError: name 'datetime' is not defined
[2025-05-28 20:13:34] WARNING  * Debugger is active!
[2025-05-28 20:13:34] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:17:04] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:17:05] INFO  * Restarting with stat
Exception in thread Thread-1 (schedule_gemini_task):
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "/usr/local/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "/root/codespace/Qwen_quant_v1/code/web_gui/app.py", line 294, in schedule_gemini_task
    now = datetime.datetime.now()
NameError: name 'datetime' is not defined
[2025-05-28 20:17:08] WARNING  * Debugger is active!
[2025-05-28 20:17:08] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:21:17] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:21:18] INFO  * Restarting with stat
[2025-05-28 20:21:19] WARNING  * Debugger is active!
[2025-05-28 20:21:19] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:21:22] INFO 开始 Gemini API 流式推理。
[2025-05-28 20:21:22] INFO 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 20:22:03] INFO Gemini流式推理参数: prompt_text=[DEBUG] 跳转到目标页面: https://cn.tradingview.com/chart/mJjA2OR8/?symbol=OKX%3AETHUSD.P
ETH-USDT-SWAP
ETHU..., screenshot_path=[DEBUG] 跳转到目标页面: https://cn.tradingview.com/chart/mJjA2OR8/?symbol=OKX%3AETHUSD.P, reasoning_effort='high'
[2025-05-28 20:22:03] INFO 60.211.79.243 - - [28/May/2025 20:22:03] "POST /api/gemini_advice HTTP/1.1" 200 -
[2025-05-28 20:22:03] INFO 动态加载 Gemini API 模块: /root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py
[2025-05-28 20:22:03] INFO Gemini API 模块加载完成，开始流式推理...
[2025-05-28 20:22:03] INFO 60.211.79.243 - - [28/May/2025 20:22:03] "GET /data.json HTTP/1.1" 200 -
[2025-05-28 20:22:03] INFO 60.211.79.243 - - [28/May/2025 20:22:03] "[33mGET /cache_screenshots/?symbol=OKX:ETHUSD.P?t=1748434923851 HTTP/1.1[0m" 404 -
[2025-05-28 20:22:40] INFO HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
[2025-05-28 20:23:04] INFO Gemini流式推理结束。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:39:16] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:39:21] ERROR 获取或处理 4h 周期数据失败: HTTPSConnectionPool(host='www.okx.com', port=443): Max retries exceeded with url: /api/v5/market/history-candles?instId=ETH-USDT-SWAP&bar=4H&limit=300 (Caused by ProxyError('Unable to connect to proxy', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f08976f4ee0>: Failed to establish a new connection: [Errno 111] Connection refused')))
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:18] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 19:50:19] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:40] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:05:41] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:56] INFO 正在获取 ETH-USDT-SWAP 在 15m (15m) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:57] INFO 成功获取并处理 15m 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:57] INFO 正在获取 ETH-USDT-SWAP 在 1h (1H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:57] INFO 成功获取并处理 1h 周期的数据。
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:57] INFO 正在获取 ETH-USDT-SWAP 在 4h (4H) 周期的数据...
[2025-05-28 20:23:04] INFO [Gemini子模块] [2025-05-28 20:21:58] INFO 成功获取并处理 4h 周期的数据。
[2025-05-28 20:23:04] INFO Gemini流式推理流程已完成，error_occurred=False
[2025-05-28 20:23:04] INFO Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_202304.txt
[2025-05-28 20:23:09] INFO AI回复已发送到邮箱：['1837572554@qq.com', 'a528895030@gmail.com', '1528895030@qq.com']
[2025-05-28 20:23:23] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:23:23] INFO  * Restarting with stat
[2025-05-28 20:23:26] WARNING  * Debugger is active!
[2025-05-28 20:23:26] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:23:40] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:23:41] INFO  * Restarting with stat
[2025-05-28 20:23:43] WARNING  * Debugger is active!
[2025-05-28 20:23:43] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:28:18] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:28:19] INFO  * Restarting with stat
[2025-05-28 20:28:21] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:28:21] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:28:21] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:28:21] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:28:21] WARNING  * Debugger is active!
[2025-05-28 20:28:21] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:28:28] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:28:28] INFO  * Restarting with stat
[2025-05-28 20:28:30] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:28:30] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:28:30] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:28:30] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:28:30] WARNING  * Debugger is active!
[2025-05-28 20:28:30] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:30:00] INFO [定时任务] 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 20:30:29] INFO [定时任务] 触发 Gemini API 推理...
[2025-05-28 20:31:11] INFO HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
[2025-05-28 20:31:38] INFO [定时任务] Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_203000_auto.txt
[2025-05-28 20:31:42] INFO AI回复已发送到邮箱：['jeffreymcadams750@gmail.com', '1528895030@qq.com']
[2025-05-28 20:34:28] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/tradingview_auto_screenshot.py', reloading
[2025-05-28 20:34:29] INFO  * Restarting with stat
[2025-05-28 20:34:31] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:34:31] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:34:31] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:34:32] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:34:32] WARNING  * Debugger is active!
[2025-05-28 20:34:32] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:34:47] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/tradingview_auto_screenshot.py', reloading
[2025-05-28 20:34:47] INFO  * Restarting with stat
[2025-05-28 20:34:50] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:34:50] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:34:50] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:34:50] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:34:50] WARNING  * Debugger is active!
[2025-05-28 20:34:50] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:38:43] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/tradingview_auto_screenshot.py', reloading
[2025-05-28 20:38:45] INFO  * Restarting with stat
[2025-05-28 20:38:47] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:38:47] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:38:47] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:38:48] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:38:48] WARNING  * Debugger is active!
[2025-05-28 20:38:48] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:43:09] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 20:43:10] INFO  * Restarting with stat
[2025-05-28 20:43:17] INFO 启动时主动清理内存和缓存...
[2025-05-28 20:43:17] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 20:43:17] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 20:43:17] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 20:43:17] WARNING  * Debugger is active!
[2025-05-28 20:43:17] INFO  * Debugger PIN: 138-205-243
[2025-05-28 20:45:01] INFO [定时任务] 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 20:45:48] INFO [定时任务] 触发 Gemini API 推理...
[2025-05-28 20:46:49] INFO Retrying request to /chat/completions in 0.412943 seconds
[2025-05-28 20:47:50] INFO Retrying request to /chat/completions in 0.759690 seconds
[2025-05-28 20:48:51] ERROR [gemini_api_caller] Gemini API调用异常: Connection error.
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http_proxy.py", line 343, in handle_request
    return self._connection.handle_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_sync/http11.py", line 231, in _receive_event
    raise RemoteProtocolError(msg)
httpcore.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 969, in request
    response = self._client.send(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/codespace/Qwen_quant_v1/code/web_gui/../gemini_api_caller.py", line 130, in call_gemini_api_stream
    stream = client.chat.completions.create(**chat_params)
  File "/usr/local/lib/python3.10/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py", line 925, in create
    return self._post(
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/usr/local/lib/python3.10/site-packages/openai/_base_client.py", line 1001, in request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

[2025-05-28 20:48:51] INFO [定时任务] Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_204501_auto.txt
[2025-05-28 20:48:56] INFO AI回复已发送到邮箱：['jeffreymcadams750@gmail.com', '1528895030@qq.com']
[2025-05-28 20:50:44] INFO 60.211.79.243 - - [28/May/2025 20:50:44] "GET / HTTP/1.1" 200 -
[2025-05-28 21:00:00] INFO [定时任务] 自动运行数据采集脚本: /root/codespace/Qwen_quant_v1/code/web_gui/../main.py
[2025-05-28 21:00:51] INFO [定时任务] 触发 Gemini API 推理...
[2025-05-28 21:01:29] INFO HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
[2025-05-28 21:01:55] INFO [定时任务] Gemini推理结果已缓存到: /root/codespace/Qwen_quant_v1/code/web_gui/../reply_cache/gemini_reply_20250528_210000_auto.txt
[2025-05-28 21:01:59] INFO AI回复已发送到邮箱：['jeffreymcadams750@gmail.com', '1528895030@qq.com']
[2025-05-28 21:07:36] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 21:07:37] INFO  * Restarting with stat
[2025-05-28 21:07:41] INFO 启动时主动清理内存和缓存...
[2025-05-28 21:07:42] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 21:07:42] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 21:07:42] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 21:07:43] WARNING  * Debugger is active!
[2025-05-28 21:07:43] INFO  * Debugger PIN: 138-205-243
[2025-05-28 21:07:45] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/web_gui/app.py', reloading
[2025-05-28 21:07:46] INFO  * Restarting with stat
[2025-05-28 21:07:52] INFO 启动时主动清理内存和缓存...
[2025-05-28 21:07:52] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 21:07:52] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 21:07:52] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 21:07:52] WARNING  * Debugger is active!
[2025-05-28 21:07:52] INFO  * Debugger PIN: 138-205-243
[2025-05-28 21:09:50] INFO  * Detected change in '/root/codespace/Qwen_quant_v1/code/tradingview_auto_screenshot.py', reloading
[2025-05-28 21:09:50] INFO  * Restarting with stat
[2025-05-28 21:09:53] INFO 启动时主动清理内存和缓存...
[2025-05-28 21:09:53] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../__pycache__
[2025-05-28 21:09:53] INFO 已清理缓存目录: /root/codespace/Qwen_quant_v1/code/web_gui/../web_gui/__pycache__
[2025-05-28 21:09:53] INFO 已尝试释放 Linux 系统缓存
[2025-05-28 21:09:53] WARNING  * Debugger is active!
[2025-05-28 21:09:53] INFO  * Debugger PIN: 138-205-243
