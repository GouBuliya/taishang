[auto_trader.py][17:24:08] [ERROR] 第1条交易指令缺少必要字段: symbol
[auto_trader.py][17:24:08] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][17:27:17] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:27:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:27:18] [ERROR] 设置杠杆失败，错误信息：
[auto_trader.py][17:27:18] [INFO] 下单结果: {'success': False, 'error': '', 'response': {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'cross', 'posSide': ''}], 'msg': ''}}
[auto_trader.py][17:27:18] [ERROR] 下单失败，跳过止盈止损设置
[auto_trader.py][17:28:06] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:28:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:28:07] [INFO] 设置杠杆成功：100倍
[_client.py][17:28:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:28:08] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][17:28:08] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749288488715'}], 'inTime': '1749288488714153', 'msg': 'All operations failed', 'outTime': '1749288488716998'}}
[auto_trader.py][17:28:08] [ERROR] 下单失败，跳过止盈止损设置
[auto_trader.py][17:29:30] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:29:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:29:31] [INFO] 设置杠杆成功：100倍
[_client.py][17:29:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:29:31] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:29:31] [INFO] 下单结果: {'success': True, 'order_id': '2576516376907616256', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576516376907616256', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749288571701'}], 'inTime': '1749288571700129', 'msg': '', 'outTime': '1749288571703299'}}
[_client.py][17:29:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 400 Bad Request"
[tp_sl.py][17:29:32] [ERROR] 止损下单失败，错误信息：Either parameter sz or closeFraction is required
[auto_trader.py][17:29:32] [INFO] 止盈止损设置结果: {'success': False, 'error': 'Either parameter sz or closeFraction is required', 'response': {'code': '50015', 'data': [], 'msg': 'Either parameter sz or closeFraction is required'}}
[auto_trader.py][17:30:37] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:30:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:30:39] [INFO] 设置杠杆成功：100倍
[_client.py][17:30:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:30:40] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:30:40] [INFO] 下单结果: {'success': True, 'order_id': '2576518674211803136', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576518674211803136', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749288640166'}], 'inTime': '1749288640165075', 'msg': '', 'outTime': '1749288640168079'}}
[_client.py][17:30:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 400 Bad Request"
[tp_sl.py][17:30:40] [ERROR] 止损下单失败，错误信息：Parameter tpTriggerPx error
[auto_trader.py][17:30:40] [INFO] 止盈止损设置结果: {'success': False, 'error': 'Parameter tpTriggerPx error', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter tpTriggerPx error'}}
[auto_trader.py][17:31:43] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:31:44] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:31:44] [INFO] 设置杠杆成功：100倍
[_client.py][17:31:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:31:45] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:31:45] [INFO] 下单结果: {'success': True, 'order_id': '2576520866356400128', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576520866356400128', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749288705497'}], 'inTime': '1749288705496051', 'msg': '', 'outTime': '1749288705499189'}}
[_client.py][17:31:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[_client.py][17:31:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:31:46] [ERROR] 止盈下单失败，错误信息：
[_client.py][17:31:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[auto_trader.py][17:31:46] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'stop_loss', 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576520893647323136', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'take_profit', 'price': 2400.0, 'size': 11.65, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576520901767495680', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][17:39:09] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:39:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:39:09] [INFO] 设置杠杆成功：100倍
[_client.py][17:39:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:39:10] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:39:10] [INFO] 下单结果: {'success': True, 'order_id': '2576535795796938752', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576535795796938752', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289150429'}], 'inTime': '1749289150429087', 'msg': '', 'outTime': '1749289150432256'}}
[_client.py][17:39:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[_client.py][17:39:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:39:11] [ERROR] 止盈下单失败，错误信息：
[_client.py][17:39:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[auto_trader.py][17:39:11] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'stop_loss', 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576535812182671360', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'take_profit', 'price': 2400.0, 'size': 11.65, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576535822282555392', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][17:41:34] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:41:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:41:35] [INFO] 设置杠杆成功：100倍
[_client.py][17:41:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:41:36] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:41:36] [INFO] 下单结果: {'success': True, 'order_id': '2576540680785367040', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576540680785367040', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289296013'}], 'inTime': '1749289296012599', 'msg': '', 'outTime': '1749289296015615'}}
[_client.py][17:41:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[_client.py][17:41:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:41:36] [ERROR] 止盈下单失败，错误信息：
[_client.py][17:41:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[auto_trader.py][17:41:36] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'stop_loss', 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576540701734502400', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'take_profit', 'price': 2400.0, 'size': 11.65, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576540709720457216', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][17:47:06] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:47:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:47:07] [INFO] 设置杠杆成功：100倍
[_client.py][17:47:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:47:07] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:47:07] [INFO] 下单结果: {'success': True, 'order_id': '2576551815924289536', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576551815924289536', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289627866'}], 'inTime': '1749289627865396', 'msg': '', 'outTime': '1749289627868632'}}
[tp_sl.py][17:47:07] [ERROR] 设置止盈止损失败，错误信息：TradeAPI.place_algo_order() got an unexpected keyword argument 'ordPx'. Did you mean 'orderPx'?
[auto_trader.py][17:47:07] [INFO] 止盈止损设置结果: {'success': False, 'error': "TradeAPI.place_algo_order() got an unexpected keyword argument 'ordPx'. Did you mean 'orderPx'?", 'response': None}
[auto_trader.py][17:48:34] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:48:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:48:34] [INFO] 设置杠杆成功：100倍
[_client.py][17:48:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:48:35] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:48:35] [INFO] 下单结果: {'success': True, 'order_id': '2576554750829793280', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576554750829793280', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289715333'}], 'inTime': '1749289715332661', 'msg': '', 'outTime': '1749289715335743'}}
[_client.py][17:48:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 400 Bad Request"
[tp_sl.py][17:48:36] [ERROR] 止损下单失败，错误信息：Either parameter tpTriggerPx or slTriggerPx is required
[auto_trader.py][17:48:36] [INFO] 止盈止损设置结果: {'success': False, 'error': 'Either parameter tpTriggerPx or slTriggerPx is required', 'response': {'code': '50015', 'data': [], 'msg': 'Either parameter tpTriggerPx or slTriggerPx is required'}}
[auto_trader.py][17:50:23] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:50:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:50:23] [INFO] 设置杠杆成功：100倍
[_client.py][17:50:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:50:24] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:50:24] [INFO] 下单结果: {'success': True, 'order_id': '2576558414839549952', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576558414839549952', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289824529'}], 'inTime': '1749289824528193', 'msg': '', 'outTime': '1749289824531215'}}
[_client.py][17:50:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 400 Bad Request"
[tp_sl.py][17:50:25] [ERROR] 止损下单失败，错误信息：Parameter tpTriggerPx error
[auto_trader.py][17:50:25] [INFO] 止盈止损设置结果: {'success': False, 'error': 'Parameter tpTriggerPx error', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter tpTriggerPx error'}}
[auto_trader.py][17:51:47] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:51:48] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:51:48] [INFO] 设置杠杆成功：100倍
[_client.py][17:51:48] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:51:48] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:51:48] [INFO] 下单结果: {'success': True, 'order_id': '2576561238713438208', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576561238713438208', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749289908687'}], 'inTime': '1749289908686517', 'msg': '', 'outTime': '1749289908689728'}}
[_client.py][17:51:49] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:51:49] [ERROR] OCO订单下单失败，错误信息：
[auto_trader.py][17:51:49] [INFO] 止盈止损设置结果: {'success': False, 'error': '', 'response': {'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size. ', 'tag': ''}], 'msg': ''}}
[auto_trader.py][17:59:52] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][17:59:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][17:59:53] [INFO] 设置杠杆成功：100倍
[_client.py][17:59:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][17:59:53] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][17:59:53] [INFO] 下单结果: {'success': True, 'order_id': '2576577515498639360', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576577515498639360', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749290393773'}], 'inTime': '1749290393772019', 'msg': '', 'outTime': '1749290393775076'}}
[_client.py][17:59:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:59:54] [INFO] OCO订单设置成功: 止盈价格=2450.0, 止损价格=2510.0, 数量=104.9 (90.0%)
[_client.py][17:59:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][17:59:54] [ERROR] OCO订单下单失败，错误信息：
[auto_trader.py][17:59:54] [INFO] 止盈止损设置结果: {'success': False, 'error': '', 'response': {'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size. ', 'tag': ''}], 'msg': ''}}
[auto_trader.py][18:01:01] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][18:01:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:01:03] [INFO] 设置杠杆成功：100倍
[_client.py][18:01:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:01:03] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][18:01:03] [INFO] 下单结果: {'success': True, 'order_id': '2576579861859405824', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576579861859405824', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749290463700'}], 'inTime': '1749290463699228', 'msg': '', 'outTime': '1749290463702286'}}
[_client.py][18:01:04] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:01:04] [ERROR] OCO订单下单失败，错误信息：
[auto_trader.py][18:01:04] [INFO] 止盈止损设置结果: {'success': False, 'error': '', 'response': {'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size. ', 'tag': ''}], 'msg': ''}}
[auto_trader.py][18:02:23] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][18:02:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:02:24] [INFO] 设置杠杆成功：100倍
[_client.py][18:02:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:02:25] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][18:02:25] [INFO] 下单结果: {'success': True, 'order_id': '2576582588291223552', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576582588291223552', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749290544954'}], 'inTime': '1749290544952812', 'msg': '', 'outTime': '1749290544955985'}}
[_client.py][18:02:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:02:25] [ERROR] OCO订单下单失败，错误信息：
[auto_trader.py][18:02:25] [INFO] 止盈止损设置结果: {'success': False, 'error': '', 'response': {'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size. ', 'tag': ''}], 'msg': ''}}
[auto_trader.py][18:03:45] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于下跌趋势，多时间框架指标显示空头主导。短期超卖可能引发反弹，但MACD和EMA的强劲空头信号支持在反弹至阻力位时做空。风险回报比良好。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 0.9}, {'price': 2400.0, 'size': 0.1}], 'size': 116.5, 'market': False, 'expected_winrate': 0.7673, 'expected_return': 0.010457639942137576, 'trade_RR_ratio': 2.0, 'signal_strength': 0.85, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。风险等级：中等。'}
[_client.py][18:03:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:03:45] [INFO] 设置杠杆成功：100倍
[_client.py][18:03:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:03:46] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][18:03:46] [INFO] 下单结果: {'success': True, 'order_id': '2576585328480358400', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576585328480358400', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749290626618'}], 'inTime': '1749290626617283', 'msg': '', 'outTime': '1749290626620350'}}
[_client.py][18:03:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:03:47] [INFO] OCO订单设置成功: 止盈价格=2450.0, 止损价格=2510.0, 数量=104.80000000000001 (1048 lots, 90.0%)
[_client.py][18:03:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:03:47] [INFO] 条件订单设置成功: 止盈价格=2400.0, 数量=11.700000000000001 (117 lots, 10.0%)
[auto_trader.py][18:03:47] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2450.0, 'stop_loss_price': 2510.0, 'size': 104.80000000000001, 'lots': 1048, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576585343658131456', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2400.0, 'stop_loss_price': None, 'size': 11.700000000000001, 'lots': 117, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576585347584000000', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][18:13:54] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体趋势看跌，当前无持仓，为最大化收益，在价格反弹至短期阻力位附近入场做空，并设置止损止盈。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 38.83}, {'price': 2420.0, 'size': 38.83}, {'price': 2380.0, 'size': 38.84}], 'size': 116.5, 'market': False, 'expected_winrate': 0.6353, 'expected_return': 0.007276, 'trade_RR_ratio': 2.0, 'signal_strength': 0.75, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'position_action': 'add_position', 'risk_assessment': '当前市场风险中等，主要来自短期超卖可能引发的反弹，但整体趋势强劲，风险可控。考虑到当前市场情绪中性，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:13:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:13:55] [INFO] 设置杠杆成功：100倍
[_client.py][18:13:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:13:56] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][18:13:56] [INFO] 下单结果: {'success': True, 'order_id': '2576605779067801600', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576605779067801600', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749291236093'}], 'inTime': '1749291236092609', 'msg': '', 'outTime': '1749291236095684'}}
[tp_sl.py][18:13:56] [ERROR] 无效的止盈配置: 价格=2450.0, 比例=38.83
[tp_sl.py][18:13:56] [ERROR] 无效的止盈配置: 价格=2420.0, 比例=38.83
[tp_sl.py][18:13:56] [ERROR] 无效的止盈配置: 价格=2380.0, 比例=38.84
[auto_trader.py][18:13:56] [INFO] 止盈止损设置结果: {'success': False, 'error': '未设置任何止盈止损', 'response': None}
[auto_trader.py][18:15:44] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体趋势看跌，当前无持仓，为最大化收益，在价格反弹至短期阻力位附近入场做空，并设置止损止盈。', 'type': 'sell', 'price': 2490.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2450.0, 'size': 38.83}, {'price': 2420.0, 'size': 38.83}, {'price': 2380.0, 'size': 38.84}], 'size': 116.5, 'market': False, 'expected_winrate': 0.6353, 'expected_return': 0.007276, 'trade_RR_ratio': 2.0, 'signal_strength': 0.75, 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并根据市场情境动态调整止损和止盈。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'position_action': 'add_position', 'risk_assessment': '当前市场风险中等，主要来自短期超卖可能引发的反弹，但整体趋势强劲，风险可控。考虑到当前市场情绪中性，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:15:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:15:45] [INFO] 设置杠杆成功：100倍
[_client.py][18:15:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:15:46] [INFO] 下单成功：方向=sell, 价格=2490.0, 数量=116.5
[auto_trader.py][18:15:46] [INFO] 下单结果: {'success': True, 'order_id': '2576609468981579776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576609468981579776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749291346061'}], 'inTime': '1749291346060235', 'msg': '', 'outTime': '1749291346063312'}}
[_client.py][18:15:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:15:46] [INFO] OCO订单设置成功: 止盈价格=2450.0, 止损价格=2510.0, 数量=38.800000000000004 (388 lots)
[_client.py][18:15:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:15:46] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=38.800000000000004 (388 lots)
[_client.py][18:15:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:15:46] [INFO] 条件订单设置成功: 止盈价格=2380.0, 数量=38.800000000000004 (388 lots)
[auto_trader.py][18:15:46] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2450.0, 'stop_loss_price': 2510.0, 'size': 38.800000000000004, 'lots': 388, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576609489326735360', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 38.800000000000004, 'lots': 388, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576609493453930496', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2380.0, 'stop_loss_price': None, 'size': 38.800000000000004, 'lots': 388, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576609497446907904', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][18:21:25] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于强劲下跌趋势，MACD和EMA均显示空头主导。当前价格接近短期阻力位，是做空入场的良好机会。尽管RSI超卖，但预计为趋势延续中的短暂回调。', 'type': 'sell', 'price': 2495.0, 'stop_loss': 2510.0, 'take_profit': [{'price': 2470.0, 'size': 51.78}, {'price': 2440.0, 'size': 51.78}, {'price': 2420.0, 'size': 51.77}], 'size': 155.33, 'market': False, 'expected_winrate': '0.6993', 'expected_return': '0.005', 'trade_RR_ratio': '1.67', 'signal_strength': '0.75', 'risk_management_strategy': '严格控制单笔交易风险在可用保证金的2%以内，并设置止损以限制潜在亏损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。'}
[_client.py][18:21:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:21:26] [INFO] 设置杠杆成功：100倍
[_client.py][18:21:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:21:26] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=155.33
[auto_trader.py][18:21:26] [INFO] 下单结果: {'success': True, 'order_id': '2576620890742460416', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576620890742460416', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749291686456'}], 'inTime': '1749291686455307', 'msg': '', 'outTime': '1749291686458392'}}
[_client.py][18:21:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:21:26] [INFO] OCO订单设置成功: 止盈价格=2470.0, 止损价格=2510.0, 数量=51.800000000000004 (518 lots)
[_client.py][18:21:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:21:27] [INFO] 条件订单设置成功: 止盈价格=2440.0, 数量=51.800000000000004 (518 lots)
[_client.py][18:21:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:21:27] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=51.800000000000004 (518 lots)
[auto_trader.py][18:21:27] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2470.0, 'stop_loss_price': 2510.0, 'size': 51.800000000000004, 'lots': 518, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576620905148481536', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2440.0, 'stop_loss_price': None, 'size': 51.800000000000004, 'lots': 518, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576620908973686784', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 51.800000000000004, 'lots': 518, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576620912698228736', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][18:28:29] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在一个未成交的卖出订单（155.33 ETH，价格2495）。根据最新分析，市场处于下跌后的盘整，倾向于下跌趋势延续，因此该卖出订单方向与判断一致。为确保最佳入场价格，维持现有挂单，等待价格触及入场点。如果价格未能触及，则等待后续信号。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 'N/A', 'market': False, 'expected_winrate': 0.6931739493259501, 'expected_return': 0.007344036806762277, 'trade_RR_ratio': 1.5, 'signal_strength': 0.75, 'position_action': 'maintain_position', 'risk_assessment': '市场波动性较低，但布林带收缩预示即将到来的剧烈波动。维持挂单等待入场，风险中等。'}
[place_order.py][18:28:29] [ERROR] 无效的订单数量
[auto_trader.py][18:28:29] [INFO] 下单结果: {'success': False, 'error': '无效的订单数量', 'response': None}
[auto_trader.py][18:28:29] [ERROR] 下单失败，跳过止盈止损设置
[auto_trader.py][18:30:12] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在一个未成交的卖出订单（155.33 ETH，价格2495）。根据最新分析，市场处于下跌后的盘整，倾向于下跌趋势延续，因此该卖出订单方向与判断一致。为确保最佳入场价格，维持现有挂单，等待价格触及入场点。如果价格未能触及，则等待后续信号。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 'N/A', 'market': False, 'expected_winrate': 0.6931739493259501, 'expected_return': 0.007344036806762277, 'trade_RR_ratio': 1.5, 'signal_strength': 0.75, 'position_action': 'maintain_position', 'risk_assessment': '市场波动性较低，但布林带收缩预示即将到来的剧烈波动。维持挂单等待入场，风险中等。'}
[_client.py][18:30:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:30:13] [INFO] 设置杠杆成功：100倍
[_client.py][18:30:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:30:14] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][18:30:14] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter sz error', 'tag': '', 'ts': '1749292214295'}], 'inTime': '1749292214294996', 'msg': 'All operations failed', 'outTime': '1749292214295121'}}
[auto_trader.py][18:30:14] [ERROR] 下单失败，跳过止盈止损设置
[auto_trader.py][18:34:14] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在一个未成交的卖出订单（155.33 ETH，价格2495）。根据最新分析，市场处于下跌后的盘整，倾向于下跌趋势延续，因此该卖出订单方向与判断一致。为确保最佳入场价格，维持现有挂单，等待价格触及入场点。如果价格未能触及，则等待后续信号。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 'N/A', 'market': False, 'expected_winrate': 0.6931739493259501, 'expected_return': 0.007344036806762277, 'trade_RR_ratio': 1.5, 'signal_strength': 0.75, 'position_action': 'maintain_position', 'risk_assessment': '市场波动性较低，但布林带收缩预示即将到来的剧烈波动。维持挂单等待入场，风险中等。'}
[auto_trader.py][18:34:14] [INFO] 收到等待指令，跳过交易执行
[auto_trader.py][18:36:26] [ERROR] 配置文件JSON格式错误
[auto_trader.py][18:36:26] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][18:37:19] [INFO] 执行第1条交易指令: {'operation_comment': '市场整体处于强劲下跌趋势，MACD和EMA均显示空头主导。当前价格接近短期阻力位，是做空入场的良好机会。尽管RSI超卖，但预计为趋势延续中的短暂回调。', 'type': 'close', 'price': 2495.0, 'stop_loss': 'N/A', 'take_profit': [{'price': 'N/A', 'size': 'N/A'}], 'size': 155.33, 'market': True, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'risk_management_strategy': '严格控制单笔交易风险在可用保证金的2%以内，并设置止损以限制潜在亏损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。'}
[_client.py][18:37:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:37:20] [INFO] 设置杠杆成功：100倍
[_client.py][18:37:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:37:20] [INFO] 下单成功：方向=sell, 价格=, 数量=155.33
[auto_trader.py][18:37:20] [INFO] 下单结果: {'success': True, 'order_id': '2576652912575778816', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576652912575778816', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749292640781'}], 'inTime': '1749292640779615', 'msg': '', 'outTime': '1749292640782867'}}
[tp_sl.py][18:37:20] [ERROR] 设置止盈止损失败，错误信息：could not convert string to float: 'N/A'
[auto_trader.py][18:37:20] [INFO] 止盈止损设置结果: {'success': False, 'error': "could not convert string to float: 'N/A'", 'response': None}
[auto_trader.py][18:52:52] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:52:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:52:53] [INFO] 设置杠杆成功：100倍
[_client.py][18:52:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:52:53] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:52:53] [INFO] 下单结果: {'success': True, 'order_id': '2576684207989198848', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576684207989198848', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293573457'}], 'inTime': '1749293573456678', 'msg': '', 'outTime': '1749293573459743'}}
[auto_trader.py][18:52:53] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:52:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:52:53] [INFO] 设置杠杆成功：100倍
[_client.py][18:52:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:52:53] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:52:53] [INFO] 下单结果: {'success': True, 'order_id': '2576684216814014464', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576684216814014464', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293573720'}], 'inTime': '1749293573719306', 'msg': '', 'outTime': '1749293573722371'}}
[tp_sl.py][18:52:53] [ERROR] 设置止盈止损失败: TradeAPI.place_algo_order() got an unexpected keyword argument 'px'
[auto_trader.py][18:52:53] [INFO] 止盈止损设置结果: {'success': False, 'error': "TradeAPI.place_algo_order() got an unexpected keyword argument 'px'", 'response': None}
[auto_trader.py][18:54:26] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:54:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:54:27] [INFO] 设置杠杆成功：100倍
[_client.py][18:54:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:54:27] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:54:27] [INFO] 下单结果: {'success': True, 'order_id': '2576687377406627840', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576687377406627840', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293667913'}], 'inTime': '1749293667912401', 'msg': '', 'outTime': '1749293667915541'}}
[auto_trader.py][18:54:27] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:54:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:54:28] [INFO] 设置杠杆成功：100倍
[_client.py][18:54:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:54:28] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:54:28] [INFO] 下单结果: {'success': True, 'order_id': '2576687385795235840', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576687385795235840', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293668163'}], 'inTime': '1749293668162810', 'msg': '', 'outTime': '1749293668165861'}}
[tp_sl.py][18:54:28] [ERROR] 设置止盈止损失败: TradeAPI.place_algo_order() got an unexpected keyword argument 'tpPx'
[auto_trader.py][18:54:28] [INFO] 止盈止损设置结果: {'success': False, 'error': "TradeAPI.place_algo_order() got an unexpected keyword argument 'tpPx'", 'response': None}
[auto_trader.py][18:55:15] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:55:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:55:16] [INFO] 设置杠杆成功：100倍
[_client.py][18:55:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:55:16] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:55:16] [INFO] 下单结果: {'success': True, 'order_id': '2576689019963183104', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576689019963183104', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293716865'}], 'inTime': '1749293716864090', 'msg': '', 'outTime': '1749293716867037'}}
[auto_trader.py][18:55:16] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:55:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:55:17] [INFO] 设置杠杆成功：100倍
[_client.py][18:55:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:55:17] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:55:17] [INFO] 下单结果: {'success': True, 'order_id': '2576689028486008832', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576689028486008832', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293717119'}], 'inTime': '1749293717118087', 'msg': '', 'outTime': '1749293717120964'}}
[_client.py][18:55:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:55:17] [ERROR] OCO订单下单失败，错误信息：
[auto_trader.py][18:55:17] [INFO] 止盈止损设置结果: {'success': False, 'error': '', 'response': {'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': ''}], 'msg': ''}}
[auto_trader.py][18:56:21] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:56:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:56:22] [INFO] 设置杠杆成功：100倍
[_client.py][18:56:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:56:23] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:56:23] [INFO] 下单结果: {'success': True, 'order_id': '2576691248615002112', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576691248615002112', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293783284'}], 'inTime': '1749293783283136', 'msg': '', 'outTime': '1749293783286168'}}
[auto_trader.py][18:56:23] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:56:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:56:23] [INFO] 设置杠杆成功：100倍
[_client.py][18:56:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:56:23] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:56:23] [INFO] 下单结果: {'success': True, 'order_id': '2576691263882268672', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576691263882268672', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293783739'}], 'inTime': '1749293783737969', 'msg': '', 'outTime': '1749293783741095'}}
[_client.py][18:56:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:56:24] [INFO] OCO订单设置成功: 止盈价格=2470.0, 止损价格=2515.0, 数量=38.7 (38.7 lots)
[tp_sl.py][18:56:24] [ERROR] 设置止盈止损失败: TradeAPI.place_algo_order() got an unexpected keyword argument 'ordPx'. Did you mean 'orderPx'?
[auto_trader.py][18:56:24] [INFO] 止盈止损设置结果: {'success': False, 'error': "TradeAPI.place_algo_order() got an unexpected keyword argument 'ordPx'. Did you mean 'orderPx'?", 'response': None}
[auto_trader.py][18:57:13] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:57:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:57:13] [INFO] 设置杠杆成功：100倍
[_client.py][18:57:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:57:14] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:57:14] [INFO] 下单结果: {'success': True, 'order_id': '2576692952005742592', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576692952005742592', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293834049'}], 'inTime': '1749293834048234', 'msg': '', 'outTime': '1749293834051143'}}
[auto_trader.py][18:57:14] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:57:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:57:14] [INFO] 设置杠杆成功：100倍
[_client.py][18:57:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:57:14] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:57:14] [INFO] 下单结果: {'success': True, 'order_id': '2576692962105626624', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576692962105626624', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293834350'}], 'inTime': '1749293834348798', 'msg': '', 'outTime': '1749293834351857'}}
[_client.py][18:57:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:57:15] [INFO] OCO订单设置成功: 止盈价格=2470.0, 止损价格=2515.0, 数量=38.7 (38.7 lots)
[_client.py][18:57:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 400 Bad Request"
[tp_sl.py][18:57:15] [ERROR] 条件订单下单失败，错误信息：Either parameter tpTriggerPx or slTriggerPx is required
[auto_trader.py][18:57:15] [INFO] 止盈止损设置结果: {'success': False, 'error': 'Either parameter tpTriggerPx or slTriggerPx is required', 'response': {'code': '50015', 'data': [], 'msg': 'Either parameter tpTriggerPx or slTriggerPx is required'}}
[auto_trader.py][18:57:55] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[_client.py][18:57:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:57:55] [INFO] 设置杠杆成功：100倍
[_client.py][18:57:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:57:56] [INFO] 下单成功：方向=buy, 价格=market, 数量=155.33
[auto_trader.py][18:57:56] [INFO] 下单结果: {'success': True, 'order_id': '2576694370922008576', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576694370922008576', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293876336'}], 'inTime': '1749293876335305', 'msg': '', 'outTime': '1749293876338262'}}
[auto_trader.py][18:57:56] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][18:57:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:57:56] [INFO] 设置杠杆成功：100倍
[_client.py][18:57:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:57:56] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][18:57:56] [INFO] 下单结果: {'success': True, 'order_id': '2576694379344171008', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576694379344171008', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749293876587'}], 'inTime': '1749293876586514', 'msg': '', 'outTime': '1749293876589627'}}
[_client.py][18:57:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:57:57] [INFO] OCO订单设置成功: 止盈价格=2470.0, 止损价格=2515.0, 数量=38.7 (38.7 lots)
[_client.py][18:57:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:57:57] [INFO] 条件订单设置成功: 止盈价格=2460.0, 数量=38.7 (38.7 lots)
[_client.py][18:57:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][18:57:57] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=38.6 (38.6 lots)
[auto_trader.py][18:57:57] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2470.0, 'stop_loss_price': 2515.0, 'size': 38.7, 'lots': 38.7, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576694398414258176', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2460.0, 'stop_loss_price': None, 'size': 38.7, 'lots': 38.7, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576694402306572288', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 38.6, 'lots': 38.6, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576694406031114240', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][19:02:15] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在与做空判断冲突的未成交买单，优先取消该订单以避免方向性错误。', 'type': 'close', 'price': 2495, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 155.33, 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'close_position', 'risk_assessment': '取消现有订单，降低潜在风险。'}
[place_order.py][19:02:15] [INFO] 收到close指令，执行撤单操作
[_client.py][19:02:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&ordType=limit&state=live "HTTP/2 200 OK"
[_client.py][19:02:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][19:02:16] [INFO] 成功取消订单 2576702836705202176
[auto_trader.py][19:02:16] [INFO] 下单结果: {'success': True, 'order_id': None, 'response': {'success': True, 'canceled_orders': ['2576702836705202176'], 'message': 'Successfully canceled 1 orders'}}
[auto_trader.py][19:02:16] [INFO] 执行第2条交易指令: {'operation_comment': '市场H4趋势偏空，M15盘整可能向下突破，模型计算预期收益为正，风险回报比良好，激进做空。', 'type': 'sell', 'price': 2495, 'stop_loss': 2515, 'take_profit': [{'price': 2470, 'size': 38.7}, {'price': 2460, 'size': 38.7}, {'price': 2450, 'size': 38.69}], 'size': 116.09, 'market': False, 'expected_winrate': 0.3283, 'expected_return': 0.000537, 'trade_RR_ratio': 2.25, 'signal_strength': 0.7, 'position_action': 'add_position', 'risk_management_strategy': '基于可用保证金2%的固定风险仓位管理，并设置严格止损。如果价格突破关键阻力位，考虑止损并重新评估。如果趋势加速，考虑进一步加仓。', 'risk_assessment': '市场波动性中等，H4超卖可能引发反弹，但整体趋势偏空，风险可控。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][19:02:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][19:02:17] [INFO] 设置杠杆成功：100倍
[_client.py][19:02:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][19:02:17] [INFO] 下单成功：方向=sell, 价格=2495.0, 数量=116.09
[auto_trader.py][19:02:17] [INFO] 下单结果: {'success': True, 'order_id': '2576703124233129984', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2576703124233129984', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749294137205'}], 'inTime': '1749294137204271', 'msg': '', 'outTime': '1749294137207379'}}
[_client.py][19:02:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][19:02:17] [INFO] OCO订单设置成功: 止盈价格=2470.0, 止损价格=2515.0, 数量=38.7 (38.7 lots)
[_client.py][19:02:17] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][19:02:17] [INFO] 条件订单设置成功: 止盈价格=2460.0, 数量=38.7 (38.7 lots)
[_client.py][19:02:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][19:02:18] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=38.6 (38.6 lots)
[auto_trader.py][19:02:18] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2470.0, 'stop_loss_price': 2515.0, 'size': 38.7, 'lots': 38.7, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576703140652417024', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2460.0, 'stop_loss_price': None, 'size': 38.7, 'lots': 38.7, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576703144880275456', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 38.6, 'lots': 38.6, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2576703149309460480', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][21:41:44] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][21:41:44] [ERROR] 执行交易指令失败: place_order() got an unexpected keyword argument 'tdMode'
[auto_trader.py][21:44:14] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][21:44:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][21:44:15] [INFO] 设置杠杆成功：100倍
[place_order.py][21:44:17] [ERROR] 下单失败，错误信息：TradeAPI.place_order() got an unexpected keyword argument 'lever'
[auto_trader.py][21:44:17] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'lever'", 'response': None}
[auto_trader.py][21:44:17] [ERROR] 交易失败: TradeAPI.place_order() got an unexpected keyword argument 'lever'
[auto_trader.py][21:47:05] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][21:47:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][21:47:06] [INFO] 设置杠杆成功：100倍
[_client.py][21:47:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][21:47:07] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][21:47:07] [INFO] 交易结果: {'success': True, 'order_id': '2577034968539467776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577034968539467776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749304026936'}], 'inTime': '1749304026934635', 'msg': '', 'outTime': '1749304026937746'}}
[_client.py][21:47:07] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:08] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:13] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:20] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:23] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:24] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:25] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:29] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:30] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:33] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[_client.py][21:47:36] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577034968539467776 "HTTP/2 200 OK"
[auto_trader.py][21:47:37] [WARNING] 等待订单2577034968539467776完成超时
[auto_trader.py][21:47:37] [WARNING] 订单未完全成交,状态:timeout
[_client.py][21:47:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:47:38] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:47:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:47:38] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:47:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:47:38] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][21:47:38] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577036004577280000', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577036014509391872', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577036024240177152', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][21:49:34] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][21:49:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][21:49:35] [INFO] 设置杠杆成功：100倍
[_client.py][21:49:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][21:49:35] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][21:49:35] [INFO] 交易结果: {'success': True, 'order_id': '2577039965096382464', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577039965096382464', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749304175845'}], 'inTime': '1749304175844893', 'msg': '', 'outTime': '1749304175848034'}}
[_client.py][21:49:36] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[auto_trader.py][21:49:36] [INFO] 订单2577039965096382464状态更新: live, 成交进度: 0.00% (0/231.34)
[_client.py][21:49:37] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:38] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:39] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:40] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:41] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:43] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:45] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:52] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:49:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:50:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[_client.py][21:50:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577039965096382464 "HTTP/2 200 OK"
[auto_trader.py][21:50:07] [WARNING] 等待订单2577039965096382464完成超时（30秒）
[auto_trader.py][21:50:07] [WARNING] 订单未完全成交,状态:timeout
[_client.py][21:50:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:50:08] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:50:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:50:08] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:50:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:50:08] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][21:50:08] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577041051365179392', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577041056331235328', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577041061129519104', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][21:52:08] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][21:52:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][21:52:08] [INFO] 设置杠杆成功：100倍
[_client.py][21:52:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][21:52:08] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][21:52:08] [INFO] 交易结果: {'success': True, 'order_id': '2577045100702863360', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577045100702863360', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749304328898'}], 'inTime': '1749304328897056', 'msg': '', 'outTime': '1749304328900199'}}
[auto_trader.py][21:52:08] [INFO] 订单2577045100702863360已提交成功
[_client.py][21:52:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:52:09] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:52:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:52:09] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:52:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:52:09] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][21:52:09] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577045116518170624', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577045120813137920', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577045125242322944', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][21:53:28] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[_client.py][21:53:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][21:53:29] [INFO] 设置杠杆成功：100倍
[_client.py][21:53:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][21:53:29] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][21:53:29] [INFO] 交易结果: {'success': True, 'order_id': '2577047813612244992', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577047813612244992', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749304409749'}], 'inTime': '1749304409748521', 'msg': '', 'outTime': '1749304409751727'}}
[auto_trader.py][21:53:29] [INFO] 订单2577047813612244992已提交成功
[_client.py][21:53:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:53:31] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:53:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:53:31] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][21:53:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][21:53:31] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][21:53:31] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577047858921897984', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577047863451746304', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577047867880931328', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][22:03:40] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:03:40] [INFO] 执行加仓操作
[_client.py][22:03:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][22:03:40] [INFO] 设置杠杆成功：100倍
[_client.py][22:03:42] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][22:03:42] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][22:03:42] [INFO] 交易结果: {'success': True, 'order_id': '2577068345300750336', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577068345300750336', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749305021641'}], 'inTime': '1749305021640770', 'msg': '', 'outTime': '1749305021643963'}}
[auto_trader.py][22:03:42] [INFO] 订单2577068345300750336已提交成功
[_client.py][22:03:43] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][22:03:43] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][22:03:43] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][22:03:43] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][22:03:44] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][22:03:44] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][22:03:44] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577068399468773376', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577068409501548544', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577068427990040576', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][22:10:01] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:10:01] [INFO] 执行平仓操作
[place_order.py][22:10:01] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:10:02] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:10:02] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:10:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:10:03] [ERROR] 订单数量必须大于0
[auto_trader.py][22:10:03] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:10:03] [ERROR] 交易失败: 未知错误
[auto_trader.py][22:10:47] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:10:47] [INFO] 执行平仓操作
[place_order.py][22:10:47] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:10:47] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:10:47] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:10:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:10:48] [ERROR] 订单数量必须大于0
[auto_trader.py][22:10:48] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:10:48] [ERROR] 交易失败: 未知错误
[auto_trader.py][22:11:24] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:11:24] [INFO] 执行平仓操作
[place_order.py][22:11:24] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:11:25] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:11:25] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:11:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:11:26] [ERROR] 订单数量必须大于0
[auto_trader.py][22:11:26] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:11:26] [ERROR] 交易失败: 未知错误
[auto_trader.py][22:14:15] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:14:15] [INFO] 执行平仓操作，大小: 231.34，市价
[place_order.py][22:14:15] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:14:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:14:15] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:14:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:14:16] [ERROR] 订单数量必须大于0
[auto_trader.py][22:14:16] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:14:16] [ERROR] 交易失败: 平仓执行完成，成功: 0，失败: 1
[auto_trader.py][22:54:34] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:54:34] [INFO] 执行平仓操作
[place_order.py][22:54:34] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:54:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:54:35] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:54:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:54:35] [ERROR] 订单数量必须大于0
[auto_trader.py][22:54:35] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:54:35] [ERROR] 交易失败: 未知错误
[auto_trader.py][22:55:30] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][22:55:30] [INFO] 执行平仓操作
[place_order.py][22:55:30] [INFO] 开始查询ETH-USDT-SWAP的未完成止盈止损订单
[_client.py][22:55:31] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:55:31] [INFO] 没有需要撤销的止盈止损订单
[_client.py][22:55:33] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][22:55:33] [ERROR] 订单数量必须大于0
[auto_trader.py][22:55:33] [INFO] 交易结果: {'success': False, 'message': '平仓执行完成，成功: 0，失败: 1', 'results': [{'success': False, 'error': '订单数量必须大于0', 'response': None}]}
[auto_trader.py][22:55:33] [ERROR] 交易失败: 未知错误
[auto_trader.py][23:04:01] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:04:01] [INFO] 执行平仓操作
[_client.py][23:04:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:04:01] [INFO] 成功取消ETH-USDT-SWAP的订单
[auto_trader.py][23:04:01] [INFO] 交易结果: None
[auto_trader.py][23:04:01] [ERROR] 执行交易指令失败: 'NoneType' object is not subscriptable
[auto_trader.py][23:04:46] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:04:46] [INFO] 执行平仓操作
[_client.py][23:04:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:04:47] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:04:47] [ERROR] 取消订单失败: Position doesn't exist.
[auto_trader.py][23:04:47] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:04:47] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:15:24] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:15:24] [INFO] 执行平仓操作
[_client.py][23:15:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:15:25] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:15:25] [ERROR] 取消订单失败: Position doesn't exist.
[auto_trader.py][23:15:25] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:15:25] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:16:00] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:16:00] [INFO] 执行平仓操作
[_client.py][23:16:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][23:16:00] [INFO] 成功查询ETH-USDT-SWAP的止盈止损订单
[_client.py][23:16:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][23:16:01] [WARNING] 取消止盈止损订单失败: Incorrect json data format
[_client.py][23:16:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][23:16:01] [WARNING] 取消止盈止损订单失败: Incorrect json data format
[place_order.py][23:16:01] [INFO] result: {'code': '0', 'data': [{'activePx': '', 'actualPx': '', 'actualSide': '', 'actualSz': '0', 'algoClOrdId': '', 'algoId': '2577068427990040576', 'amendPxOnTriggerType': '0', 'attachAlgoOrds': [], 'cTime': '1749305024106', 'callbackRatio': '', 'callbackSpread': '', 'ccy': '', 'chaseType': '', 'chaseVal': '', 'clOrdId': '', 'closeFraction': '', 'failCode': '0', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'isTradeBorrowMode': '', 'last': '2505.59', 'lever': '100', 'linkedOrd': {'ordId': ''}, 'maxChaseType': '', 'maxChaseVal': '', 'moveTriggerPx': '', 'ordId': '', 'ordIdList': [], 'ordPx': '', 'ordType': 'conditional', 'posSide': 'net', 'pxLimit': '', 'pxSpread': '', 'pxVar': '', 'quickMgnType': '', 'reduceOnly': 'false', 'side': 'buy', 'slOrdPx': '', 'slTriggerPx': '', 'slTriggerPxType': '', 'state': 'live', 'sz': '771', 'szLimit': '', 'tag': '', 'tdMode': 'cross', 'tgtCcy': '', 'timeInterval': '', 'tpOrdPx': '-1', 'tpTriggerPx': '2420', 'tpTriggerPxType': 'last', 'triggerPx': '', 'triggerPxType': '', 'triggerTime': '', 'uTime': '1749305024106'}, {'activePx': '', 'actualPx': '', 'actualSide': '', 'actualSz': '0', 'algoClOrdId': '', 'algoId': '2577068409501548544', 'amendPxOnTriggerType': '0', 'attachAlgoOrds': [], 'cTime': '1749305023555', 'callbackRatio': '', 'callbackSpread': '', 'ccy': '', 'chaseType': '', 'chaseVal': '', 'clOrdId': '', 'closeFraction': '', 'failCode': '0', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'isTradeBorrowMode': '', 'last': '2505.59', 'lever': '100', 'linkedOrd': {'ordId': ''}, 'maxChaseType': '', 'maxChaseVal': '', 'moveTriggerPx': '', 'ordId': '', 'ordIdList': [], 'ordPx': '', 'ordType': 'conditional', 'posSide': 'net', 'pxLimit': '', 'pxSpread': '', 'pxVar': '', 'quickMgnType': '', 'reduceOnly': 'false', 'side': 'buy', 'slOrdPx': '', 'slTriggerPx': '', 'slTriggerPxType': '', 'state': 'live', 'sz': '771', 'szLimit': '', 'tag': '', 'tdMode': 'cross', 'tgtCcy': '', 'timeInterval': '', 'tpOrdPx': '-1', 'tpTriggerPx': '2450', 'tpTriggerPxType': 'last', 'triggerPx': '', 'triggerPxType': '', 'triggerTime': '', 'uTime': '1749305023555'}], 'msg': ''}
[auto_trader.py][23:16:01] [INFO] 交易结果: None
[auto_trader.py][23:16:01] [ERROR] 执行交易指令失败: 'NoneType' object is not subscriptable
[auto_trader.py][23:16:54] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:16:54] [INFO] 执行平仓操作
[_client.py][23:16:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:16:54] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:16:54] [ERROR] 取消订单失败: Position doesn't exist.
[auto_trader.py][23:16:54] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:16:54] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:19:48] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:19:48] [INFO] 执行平仓操作
[_client.py][23:19:49] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:19:49] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:19:49] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:19:49] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:19:49] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:27:59] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:27:59] [INFO] 执行平仓操作
[_client.py][23:28:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:28:00] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:28:00] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:28:00] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:28:00] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:28:04] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:28:04] [INFO] 执行平仓操作
[_client.py][23:28:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:28:05] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:28:05] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:28:05] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:28:05] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:29:42] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:29:42] [INFO] 执行平仓操作
[place_order.py][23:29:42] [ERROR] 平仓过程发生异常: TradeAPI.close_positions() missing 1 required positional argument: 'instId'
[auto_trader.py][23:29:42] [INFO] 交易结果: None
[auto_trader.py][23:29:42] [ERROR] 执行交易指令失败: 'NoneType' object is not subscriptable
[auto_trader.py][23:30:02] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:30:02] [INFO] 执行平仓操作
[_client.py][23:30:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:30:02] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:30:02] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:30:02] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:30:02] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:32:39] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:32:39] [INFO] 执行平仓操作
[_client.py][23:32:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[place_order.py][23:32:40] [INFO] result: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[place_order.py][23:32:40] [ERROR] 平仓过程发生异常: Parameter posSide error
[auto_trader.py][23:32:40] [INFO] 交易结果: {'success': False, 'error': 'Parameter posSide error', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][23:32:40] [ERROR] 交易失败: Parameter posSide error
[auto_trader.py][23:35:14] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:35:14] [INFO] 执行平仓操作
[_client.py][23:35:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:35:15] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:35:15] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:35:15] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:35:15] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:35:46] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:35:46] [INFO] 执行平仓操作
[_client.py][23:35:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:35:47] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:35:47] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:35:47] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:35:47] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:36:02] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:36:02] [INFO] 执行平仓操作
[_client.py][23:36:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:36:03] [INFO] result: {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}
[place_order.py][23:36:03] [ERROR] 平仓过程发生异常: Position doesn't exist.
[auto_trader.py][23:36:03] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:36:03] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:42:02] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:42:02] [INFO] 执行平仓操作
[place_order.py][23:42:02] [INFO] 尝试做空平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'sz': '231.34', 'ordType': 'market', 'side': 'sell'}
[_client.py][23:42:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][23:42:03] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577266360238084096', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749310922946'}], 'inTime': '1749310922944809', 'msg': '', 'outTime': '1749310922947888'}
[auto_trader.py][23:42:03] [INFO] 交易结果: {'success': True, 'order_id': '2577266360238084096', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577266360238084096', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749310922946'}], 'inTime': '1749310922944809', 'msg': '', 'outTime': '1749310922947888'}}
[auto_trader.py][23:42:03] [INFO] 订单2577266360238084096已提交成功
[auto_trader.py][23:42:42] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:42:42] [INFO] 执行平仓操作
[place_order.py][23:42:42] [INFO] 尝试做空平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'sz': '231.34', 'ordType': 'market', 'side': 'sell'}
[_client.py][23:42:42] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][23:42:42] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577267701408731136', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749310962916'}], 'inTime': '1749310962915062', 'msg': '', 'outTime': '1749310962918057'}
[auto_trader.py][23:42:42] [INFO] 交易结果: {'success': True, 'order_id': '2577267701408731136', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577267701408731136', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749310962916'}], 'inTime': '1749310962915062', 'msg': '', 'outTime': '1749310962918057'}}
[auto_trader.py][23:42:42] [INFO] 订单2577267701408731136已提交成功
[auto_trader.py][23:45:13] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:45:13] [INFO] 执行平仓操作
[place_order.py][23:45:13] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'mgnMode': 'cross', 'sz': '231.34', 'ccy': 'USDT'}
[place_order.py][23:45:13] [ERROR] 平仓过程发生异常: TradeAPI.close_positions() got an unexpected keyword argument 'sz'
[auto_trader.py][23:45:13] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.close_positions() got an unexpected keyword argument 'sz'", 'response': None}
[auto_trader.py][23:45:13] [ERROR] 交易失败: TradeAPI.close_positions() got an unexpected keyword argument 'sz'
[auto_trader.py][23:47:14] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:47:14] [INFO] 执行平仓操作
[place_order.py][23:47:14] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross', 'autoCxl': True, 'pos': '231.34'}
[place_order.py][23:47:14] [ERROR] 平仓过程发生异常: TradeAPI.close_positions() got an unexpected keyword argument 'pos'
[auto_trader.py][23:47:14] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.close_positions() got an unexpected keyword argument 'pos'", 'response': None}
[auto_trader.py][23:47:14] [ERROR] 交易失败: TradeAPI.close_positions() got an unexpected keyword argument 'pos'
[auto_trader.py][23:49:41] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:49:41] [INFO] 执行平仓操作
[place_order.py][23:49:41] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross', 'sz': '231.34', 'tgtCcy': 'base_ccy'}
[place_order.py][23:49:41] [ERROR] 平仓过程发生异常: TradeAPI.close_positions() got an unexpected keyword argument 'sz'
[auto_trader.py][23:49:41] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.close_positions() got an unexpected keyword argument 'sz'", 'response': None}
[auto_trader.py][23:49:41] [ERROR] 交易失败: TradeAPI.close_positions() got an unexpected keyword argument 'sz'
[auto_trader.py][23:53:17] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:53:17] [INFO] 执行平仓操作
[place_order.py][23:53:17] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][23:53:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:53:18] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}
[auto_trader.py][23:53:18] [INFO] 交易结果: {'success': True, 'order_id': None, 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}}
[auto_trader.py][23:53:18] [INFO] 订单None已提交成功
[auto_trader.py][23:53:31] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:53:31] [INFO] 执行平仓操作
[place_order.py][23:53:31] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][23:53:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:53:31] [ERROR] 平仓失败: Position doesn't exist.
[auto_trader.py][23:53:31] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:53:31] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:54:04] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:54:04] [INFO] 执行加仓操作
[_client.py][23:54:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][23:54:05] [INFO] 设置杠杆成功：100倍
[_client.py][23:54:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][23:54:06] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][23:54:06] [INFO] 交易结果: {'success': True, 'order_id': '2577290632272678912', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577290632272678912', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749311646309'}], 'inTime': '1749311646308261', 'msg': '', 'outTime': '1749311646311303'}}
[auto_trader.py][23:54:06] [INFO] 订单2577290632272678912已提交成功
[_client.py][23:54:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:54:07] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][23:54:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:54:07] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][23:54:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:54:07] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][23:54:07] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577290658422751232', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577290663523024896', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577290668656852992', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][23:54:21] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:54:21] [INFO] 执行平仓操作
[place_order.py][23:54:21] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][23:54:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:54:21] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}
[auto_trader.py][23:54:21] [INFO] 交易结果: {'success': True, 'order_id': None, 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}}
[auto_trader.py][23:54:21] [INFO] 订单None已提交成功
[auto_trader.py][23:57:22] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:57:22] [INFO] 执行平仓操作
[place_order.py][23:57:22] [INFO] 正在撤销止盈止损订单...
[place_order.py][23:57:22] [ERROR] 平仓过程发生异常: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][23:57:22] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'", 'response': None}
[auto_trader.py][23:57:22] [ERROR] 交易失败: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][23:58:29] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:58:29] [INFO] 执行平仓操作
[place_order.py][23:58:29] [INFO] 正在撤销止盈止损订单...
[_client.py][23:58:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][23:58:29] [WARNING] 撤销止盈止损订单可能存在问题: Parameter algoIds error
[place_order.py][23:58:29] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][23:58:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][23:58:29] [ERROR] 平仓失败: Position doesn't exist.
[auto_trader.py][23:58:29] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][23:58:29] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][23:58:52] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][23:58:52] [INFO] 执行加仓操作
[_client.py][23:58:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][23:58:53] [INFO] 设置杠杆成功：100倍
[_client.py][23:58:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][23:58:54] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][23:58:54] [INFO] 交易结果: {'success': True, 'order_id': '2577300284104380416', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577300284104380416', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749311933957'}], 'inTime': '1749311933955529', 'msg': '', 'outTime': '1749311933958604'}}
[auto_trader.py][23:58:54] [INFO] 订单2577300284104380416已提交成功
[_client.py][23:58:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:58:55] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][23:58:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:58:55] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][23:58:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][23:58:55] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][23:58:55] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577300315925151744', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577300322971582464', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577300328944271360', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][23:59:26] [ERROR] 配置文件JSON格式错误
[auto_trader.py][23:59:26] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][23:59:44] [ERROR] 配置文件JSON格式错误
[auto_trader.py][23:59:44] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][00:00:40] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:00:40] [INFO] 执行平仓操作
[place_order.py][00:00:40] [INFO] 正在撤销止盈止损订单...
[_client.py][00:00:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:00:40] [WARNING] 撤销止盈止损订单可能存在问题: Parameter algoIds error
[place_order.py][00:00:40] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][00:00:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][00:00:41] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}
[auto_trader.py][00:00:41] [INFO] 交易结果: {'success': True, 'order_id': None, 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'tag': ''}], 'msg': ''}}
[auto_trader.py][00:00:41] [INFO] 订单None已提交成功
[auto_trader.py][00:05:23] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:05:23] [INFO] 执行平仓操作
[place_order.py][00:05:23] [INFO] 正在撤销止盈止损订单...
[_client.py][00:05:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 200 OK"
[place_order.py][00:05:24] [WARNING] 撤销止盈止损订单可能存在问题: 
[place_order.py][00:05:24] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'posSide': 'net', 'mgnMode': 'cross'}
[_client.py][00:05:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][00:05:24] [ERROR] 平仓失败: Position doesn't exist.
[auto_trader.py][00:05:24] [INFO] 交易结果: {'success': False, 'error': "Position doesn't exist.", 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][00:05:24] [ERROR] 交易失败: Position doesn't exist.
[auto_trader.py][00:16:09] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:16:09] [INFO] 执行平仓操作
[_client.py][00:16:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:16:10] [ERROR] 当前没有持仓
[auto_trader.py][00:16:10] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749311933958', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049356382', 'uTime': '1749312041033', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:16:10] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:16:37] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:16:37] [INFO] 执行加仓操作
[_client.py][00:16:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:16:38] [INFO] 设置杠杆成功：100倍
[_client.py][00:16:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:16:39] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:16:39] [INFO] 交易结果: {'success': True, 'order_id': '2577336019104698368', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577336019104698368', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749312998942'}], 'inTime': '1749312998941769', 'msg': '', 'outTime': '1749312998944903'}}
[auto_trader.py][00:16:39] [INFO] 订单2577336019104698368已提交成功
[_client.py][00:16:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:16:39] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:16:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:16:39] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:16:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:16:40] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:16:40] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577336037201707008', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577336050422153216', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577336055623090176', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:16:49] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:16:49] [INFO] 执行平仓操作
[_client.py][00:16:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:16:50] [INFO] 当前持仓:-231.34, 平仓方向:buy
[place_order.py][00:16:50] [INFO] 正在撤销止盈止损订单...
[_client.py][00:16:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 200 OK"
[place_order.py][00:16:51] [WARNING] 撤销止盈止损订单可能存在问题: 
[place_order.py][00:16:51] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'side': 'buy', 'ordType': 'limit', 'sz': '231.34', 'px': '2515.0'}
[_client.py][00:16:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:16:51] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577336429005639680', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313011158'}], 'inTime': '1749313011157167', 'msg': '', 'outTime': '1749313011160237'}
[auto_trader.py][00:16:51] [INFO] 交易结果: {'success': True, 'order_id': '2577336429005639680', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577336429005639680', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313011158'}], 'inTime': '1749313011157167', 'msg': '', 'outTime': '1749313011160237'}}
[auto_trader.py][00:16:51] [INFO] 订单2577336429005639680已提交成功
[auto_trader.py][00:26:25] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:26:25] [INFO] 执行平仓操作
[_client.py][00:26:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:26:26] [ERROR] 当前没有持仓
[auto_trader.py][00:26:26] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749312998943', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049370483', 'uTime': '1749313452769', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:26:26] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:26:50] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:26:50] [INFO] 执行加仓操作
[_client.py][00:26:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:26:51] [INFO] 设置杠杆成功：100倍
[_client.py][00:26:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:26:51] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:26:51] [INFO] 交易结果: {'success': True, 'order_id': '2577356579784232960', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577356579784232960', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313611698'}], 'inTime': '1749313611697299', 'msg': '', 'outTime': '1749313611700397'}}
[auto_trader.py][00:26:51] [INFO] 订单2577356579784232960已提交成功
[_client.py][00:26:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:26:52] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:26:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:26:52] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:26:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:26:52] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:26:52] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577356597310816256', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577356602142654464', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577356607041601536', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:27:00] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:27:00] [INFO] 执行平仓操作
[_client.py][00:27:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:27:00] [INFO] 当前持仓:-231.34, 平仓方向:buy
[place_order.py][00:27:00] [INFO] 正在撤销止盈止损订单...
[_client.py][00:27:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?instId=ETH-USDT-SWAP "HTTP/2 400 Bad Request"
[_client.py][00:27:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[place_order.py][00:27:01] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'side': 'buy', 'ordType': 'market', 'sz': '231.34'}
[_client.py][00:27:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:27:01] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577356907443261440', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313621463'}], 'inTime': '1749313621461991', 'msg': '', 'outTime': '1749313621464972'}
[auto_trader.py][00:27:01] [INFO] 交易结果: {'success': True, 'order_id': '2577356907443261440', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577356907443261440', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313621463'}], 'inTime': '1749313621461991', 'msg': '', 'outTime': '1749313621464972'}}
[auto_trader.py][00:27:01] [INFO] 订单2577356907443261440已提交成功
[auto_trader.py][00:31:08] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:31:08] [INFO] 执行平仓操作
[_client.py][00:31:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:31:09] [ERROR] 当前没有持仓
[auto_trader.py][00:31:09] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313611699', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049372848', 'uTime': '1749313621464', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:31:09] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:31:26] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:31:26] [INFO] 执行加仓操作
[_client.py][00:31:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:31:27] [INFO] 设置杠杆成功：100倍
[_client.py][00:31:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:31:27] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:31:27] [INFO] 交易结果: {'success': True, 'order_id': '2577365830002937856', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577365830002937856', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749313887376'}], 'inTime': '1749313887374906', 'msg': '', 'outTime': '1749313887378114'}}
[auto_trader.py][00:31:27] [INFO] 订单2577365830002937856已提交成功
[_client.py][00:31:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:31:28] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:31:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:31:28] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:31:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:31:29] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:31:29] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577365856320782336', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577365878869360640', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577365884674277376', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:32:02] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:32:02] [INFO] 执行平仓操作
[_client.py][00:32:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:32:03] [ERROR] 当前没有持仓
[auto_trader.py][00:32:03] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313611699', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049372848', 'uTime': '1749313621464', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:32:03] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:32:48] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:32:48] [INFO] 执行平仓操作
[_client.py][00:32:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:32:48] [INFO] 当前持仓:-231.34, 平仓方向:buy
[place_order.py][00:32:48] [INFO] 正在撤销止盈止损订单...
[_client.py][00:32:49] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:32:49] [ERROR] 平仓过程发生异常: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][00:32:49] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'", 'response': None}
[auto_trader.py][00:32:49] [ERROR] 交易失败: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][00:33:10] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:33:10] [INFO] 执行平仓操作
[_client.py][00:33:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:33:12] [INFO] 当前持仓:-231.34, 平仓方向:buy
[place_order.py][00:33:12] [INFO] 正在撤销止盈止损订单...
[_client.py][00:33:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:33:12] [ERROR] 平仓过程发生异常: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][00:33:12] [INFO] 交易结果: {'success': False, 'error': "TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'", 'response': None}
[auto_trader.py][00:33:12] [ERROR] 交易失败: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[auto_trader.py][00:34:32] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:34:32] [INFO] 执行平仓操作
[place_order.py][00:34:32] [INFO] 检查并撤销未成交订单...
[_client.py][00:34:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:34:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:34:32] [ERROR] 撤销订单过程中发生错误: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[_client.py][00:34:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:34:35] [INFO] 当前持仓:-231.34, 平仓方向:buy
[place_order.py][00:34:35] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'side': 'buy', 'ordType': 'market', 'sz': '231.34'}
[_client.py][00:34:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:34:35] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577372129646219264', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749314075120'}], 'inTime': '1749314075119437', 'msg': '', 'outTime': '1749314075122412'}
[auto_trader.py][00:34:35] [INFO] 交易结果: {'success': True, 'order_id': '2577372129646219264', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577372129646219264', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749314075120'}], 'inTime': '1749314075119437', 'msg': '', 'outTime': '1749314075122412'}}
[auto_trader.py][00:34:35] [INFO] 订单2577372129646219264已提交成功
[auto_trader.py][00:35:14] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:35:14] [INFO] 执行平仓操作
[place_order.py][00:35:14] [INFO] 检查并撤销未成交订单...
[_client.py][00:35:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:35:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:35:15] [ERROR] 撤销订单过程中发生错误: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[_client.py][00:35:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:35:15] [ERROR] 当前没有持仓
[auto_trader.py][00:35:15] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:35:15] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:35:28] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:35:28] [INFO] 执行加仓操作
[_client.py][00:35:30] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:35:30] [INFO] 设置杠杆成功：100倍
[_client.py][00:35:30] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:35:30] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:35:30] [INFO] 交易结果: {'success': True, 'order_id': '2577373998393200640', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577373998393200640', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749314130813'}], 'inTime': '1749314130811631', 'msg': '', 'outTime': '1749314130814742'}}
[auto_trader.py][00:35:30] [INFO] 订单2577373998393200640已提交成功
[_client.py][00:35:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:35:31] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:35:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:35:31] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:35:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:35:32] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:35:32] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577374019644325888', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577374025113698304', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577374030146863104', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:35:43] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:35:43] [INFO] 执行平仓操作
[place_order.py][00:35:43] [INFO] 检查并撤销未成交订单...
[_client.py][00:35:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:35:44] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][00:35:44] [INFO] 成功撤销限价订单 2577373998393200640
[_client.py][00:35:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:35:44] [ERROR] 撤销订单过程中发生错误: TradeAPI.cancel_algo_order() got an unexpected keyword argument 'instId'
[_client.py][00:35:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:35:44] [ERROR] 当前没有持仓
[auto_trader.py][00:35:44] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:35:44] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:37:06] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:37:06] [INFO] 执行加仓操作
[_client.py][00:37:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:37:06] [INFO] 设置杠杆成功：100倍
[_client.py][00:37:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:37:07] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:37:07] [INFO] 交易结果: {'success': True, 'order_id': '2577377233745088512', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577377233745088512', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749314227234'}], 'inTime': '1749314227233603', 'msg': '', 'outTime': '1749314227236644'}}
[auto_trader.py][00:37:07] [INFO] 订单2577377233745088512已提交成功
[_client.py][00:37:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:37:08] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:37:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:37:08] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:37:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:37:08] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:37:08] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577377253922471936', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577377272343855104', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577377277679009792', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:37:16] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:37:16] [INFO] 执行平仓操作
[place_order.py][00:37:16] [INFO] 检查并撤销未成交订单...
[_client.py][00:37:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:37:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][00:37:18] [INFO] 成功撤销限价订单 2577377233745088512
[_client.py][00:37:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][00:37:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:19] [WARNING] 撤销止盈止损订单 2577377277679009792 失败: Incorrect json data format
[_client.py][00:37:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:19] [WARNING] 撤销止盈止损订单 2577377272343855104 失败: Incorrect json data format
[_client.py][00:37:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:19] [WARNING] 撤销止盈止损订单 2577377253922471936 失败: Incorrect json data format
[_client.py][00:37:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:19] [WARNING] 撤销止盈止损订单 2577374030146863104 失败: Incorrect json data format
[_client.py][00:37:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:20] [WARNING] 撤销止盈止损订单 2577374025113698304 失败: Incorrect json data format
[_client.py][00:37:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:20] [WARNING] 撤销止盈止损订单 2577374019644325888 失败: Incorrect json data format
[_client.py][00:37:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:21] [WARNING] 撤销止盈止损订单 2577365884674277376 失败: Incorrect json data format
[_client.py][00:37:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:21] [WARNING] 撤销止盈止损订单 2577365878869360640 失败: Incorrect json data format
[_client.py][00:37:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:21] [WARNING] 撤销止盈止损订单 2577365856320782336 失败: Incorrect json data format
[_client.py][00:37:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:21] [WARNING] 撤销止盈止损订单 2577356607041601536 失败: Incorrect json data format
[_client.py][00:37:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:23] [WARNING] 撤销止盈止损订单 2577356602142654464 失败: Incorrect json data format
[_client.py][00:37:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:37:23] [WARNING] 撤销止盈止损订单 2577356597310816256 失败: Incorrect json data format
[_client.py][00:37:24] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:37:24] [ERROR] 当前没有持仓
[auto_trader.py][00:37:24] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:37:24] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:40:34] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:40:34] [INFO] 执行平仓操作
[place_order.py][00:40:34] [INFO] 检查并撤销未成交订单...
[_client.py][00:40:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:40:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][00:40:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:35] [WARNING] 撤销止盈止损订单 2577377277679009792 失败: Incorrect json data format
[_client.py][00:40:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:35] [WARNING] 撤销止盈止损订单 2577377272343855104 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577377253922471936 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577374030146863104 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577374025113698304 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577374019644325888 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577365884674277376 失败: Incorrect json data format
[_client.py][00:40:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:36] [WARNING] 撤销止盈止损订单 2577365878869360640 失败: Incorrect json data format
[_client.py][00:40:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:37] [WARNING] 撤销止盈止损订单 2577365856320782336 失败: Incorrect json data format
[_client.py][00:40:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:37] [WARNING] 撤销止盈止损订单 2577356607041601536 失败: Incorrect json data format
[_client.py][00:40:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:37] [WARNING] 撤销止盈止损订单 2577356602142654464 失败: Incorrect json data format
[_client.py][00:40:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:40:37] [WARNING] 撤销止盈止损订单 2577356597310816256 失败: Incorrect json data format
[_client.py][00:40:38] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:40:38] [ERROR] 当前没有持仓
[auto_trader.py][00:40:38] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:40:38] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:45:36] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:45:36] [INFO] 执行平仓操作
[place_order.py][00:45:36] [INFO] 检查并撤销未成交订单...
[_client.py][00:45:37] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:45:37] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][00:45:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:45:37] [WARNING] 批量撤销止盈止损订单失败: Incorrect json data format
[_client.py][00:45:38] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:45:38] [ERROR] 当前没有持仓
[auto_trader.py][00:45:38] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:45:38] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:50:08] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:50:08] [INFO] 执行平仓操作
[_client.py][00:50:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:50:09] [ERROR] 当前没有持仓
[auto_trader.py][00:50:09] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:50:09] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:51:23] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:51:23] [INFO] 执行加仓操作
[_client.py][00:51:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:51:24] [INFO] 设置杠杆成功：100倍
[_client.py][00:51:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:51:24] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][00:51:24] [INFO] 交易结果: {'success': True, 'order_id': '2577406000966275072', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577406000966275072', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749315084564'}], 'inTime': '1749315084562707', 'msg': '', 'outTime': '1749315084566002'}}
[auto_trader.py][00:51:24] [INFO] 订单2577406000966275072已提交成功
[_client.py][00:51:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:51:25] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:51:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:51:25] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][00:51:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][00:51:25] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][00:51:25] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577406016815136768', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577406021714083840', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577406026814357504', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][00:51:34] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:51:34] [INFO] 执行平仓操作
[_client.py][00:51:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:51:35] [ERROR] 当前没有持仓
[auto_trader.py][00:51:35] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:51:35] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:51:47] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:51:47] [INFO] 执行平仓操作
[_client.py][00:51:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:51:48] [ERROR] 当前没有持仓
[auto_trader.py][00:51:48] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:51:48] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][00:52:22] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'close_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][00:52:22] [INFO] 执行平仓操作
[place_order.py][00:52:22] [INFO] 检查并撤销未成交订单...
[_client.py][00:52:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][00:52:23] [INFO] 成功撤销限价订单 2577406000966275072
[_client.py][00:52:23] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending?ordType=conditional,oco&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:23] [WARNING] 撤销止盈止损订单 2577406026814357504 失败: Incorrect json data format
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:23] [WARNING] 撤销止盈止损订单 2577406021714083840 失败: Incorrect json data format
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:23] [WARNING] 撤销止盈止损订单 2577406016815136768 失败: Incorrect json data format
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:23] [WARNING] 撤销止盈止损订单 2577377277679009792 失败: Incorrect json data format
[_client.py][00:52:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:23] [WARNING] 撤销止盈止损订单 2577377272343855104 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577377253922471936 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577374030146863104 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577374025113698304 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577374019644325888 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577365884674277376 失败: Incorrect json data format
[_client.py][00:52:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:24] [WARNING] 撤销止盈止损订单 2577365878869360640 失败: Incorrect json data format
[_client.py][00:52:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:25] [WARNING] 撤销止盈止损订单 2577365856320782336 失败: Incorrect json data format
[_client.py][00:52:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:25] [WARNING] 撤销止盈止损订单 2577356607041601536 失败: Incorrect json data format
[_client.py][00:52:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:25] [WARNING] 撤销止盈止损订单 2577356602142654464 失败: Incorrect json data format
[_client.py][00:52:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-algos "HTTP/2 400 Bad Request"
[place_order.py][00:52:25] [WARNING] 撤销止盈止损订单 2577356597310816256 失败: Incorrect json data format
[_client.py][00:52:25] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][00:52:25] [ERROR] 当前没有持仓
[auto_trader.py][00:52:25] [INFO] 交易结果: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749313935705', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049377713', 'uTime': '1749314075121', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749310074715', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2577237898328674304', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049355448', 'uTime': '1749311617743', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][00:52:25] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][01:11:25] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:11:25] [INFO] 执行加仓操作
[_client.py][01:11:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:11:25] [INFO] 设置杠杆成功：100倍
[_client.py][01:11:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:11:26] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[auto_trader.py][01:11:26] [INFO] 交易结果: {'success': True, 'order_id': '2577446321280389120', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577446321280389120', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749316286203'}], 'inTime': '1749316286201940', 'msg': '', 'outTime': '1749316286205102'}}
[auto_trader.py][01:11:26] [INFO] 订单2577446321280389120已提交成功
[_client.py][01:11:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][01:11:26] [INFO] OCO订单设置成功: 止盈价格=2480.0, 止损价格=2525.0, 数量=77.10000000000001 (771 lots)
[_client.py][01:11:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][01:11:26] [INFO] 条件订单设置成功: 止盈价格=2450.0, 数量=77.10000000000001 (771 lots)
[_client.py][01:11:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order-algo "HTTP/2 200 OK"
[tp_sl.py][01:11:27] [INFO] 条件订单设置成功: 止盈价格=2420.0, 数量=77.10000000000001 (771 lots)
[auto_trader.py][01:11:27] [INFO] 止盈止损设置结果: {'success': True, 'results': [{'type': 'oco', 'take_profit_price': 2480.0, 'stop_loss_price': 2525.0, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577446337397686272', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2450.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577446342632177664', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}, {'type': 'conditional', 'take_profit_price': 2420.0, 'stop_loss_price': None, 'size': 77.10000000000001, 'lots': 771, 'result': {'code': '0', 'data': [{'algoClOrdId': '', 'algoId': '2577446348000886784', 'clOrdId': '', 'sCode': '0', 'sMsg': '', 'tag': ''}], 'msg': ''}}]}
[auto_trader.py][01:16:21] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:16:21] [INFO] 执行加仓操作
[_client.py][01:16:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:16:21] [INFO] 设置杠杆成功：100倍
[_client.py][01:16:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:16:22] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:16:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:16:22] [ERROR] 交易失败: 未知错误
[auto_trader.py][01:19:03] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:19:03] [INFO] 执行加仓操作
[_client.py][01:19:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:19:03] [INFO] 设置杠杆成功：100倍
[_client.py][01:19:04] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:19:04] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:19:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:19:04] [ERROR] 交易失败: 未知错误
[auto_trader.py][01:19:04] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577461684747505664', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577461684747505664', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749316744070'}], 'inTime': '1749316744069134', 'msg': '', 'outTime': '1749316744072318'}}, 'tp_sl_orders': {'success': False, 'error': '未找到有效持仓', 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:20:40] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:20:40] [INFO] 执行加仓操作
[_client.py][01:20:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:20:41] [INFO] 设置杠杆成功：100倍
[_client.py][01:20:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:20:41] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:20:41] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:20:41] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:20:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:20:44] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:20:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:20:46] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:20:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:20:48] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:20:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:20:50] [ERROR] 交易失败: 未知错误
[auto_trader.py][01:20:50] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577464960767365120', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577464960767365120', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749316841703'}], 'inTime': '1749316841701967', 'msg': '', 'outTime': '1749316841705071'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:23:13] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:23:13] [INFO] 执行加仓操作
[_client.py][01:23:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:23:14] [INFO] 设置杠杆成功：100倍
[_client.py][01:23:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:23:14] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:23:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577470091139354624 "HTTP/2 200 OK"
[place_order.py][01:23:14] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:23:17] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577470091139354624 "HTTP/2 200 OK"
[place_order.py][01:23:17] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:23:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577470091139354624 "HTTP/2 200 OK"
[place_order.py][01:23:19] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:23:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577470091139354624 "HTTP/2 200 OK"
[place_order.py][01:23:21] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:23:23] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577470091139354624 "HTTP/2 200 OK"
[place_order.py][01:23:23] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][01:23:23] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:23:23] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:23:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:23:26] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:23:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:23:28] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:23:30] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:23:30] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:23:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:23:32] [ERROR] 交易失败: 未知错误
[auto_trader.py][01:23:32] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577470091139354624', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577470091139354624', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749316994600'}], 'inTime': '1749316994599348', 'msg': '', 'outTime': '1749316994610479'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:24:56] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:24:56] [INFO] 执行加仓操作
[_client.py][01:24:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:24:56] [INFO] 设置杠杆成功：100倍
[_client.py][01:24:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:24:57] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:24:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577473525368360960 "HTTP/2 200 OK"
[place_order.py][01:24:57] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:24:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577473525368360960 "HTTP/2 200 OK"
[place_order.py][01:24:59] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:25:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577473525368360960 "HTTP/2 200 OK"
[place_order.py][01:25:01] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:25:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577473525368360960 "HTTP/2 200 OK"
[place_order.py][01:25:03] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:25:05] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577473525368360960 "HTTP/2 200 OK"
[place_order.py][01:25:05] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][01:25:06] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:25:06] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:25:08] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:25:08] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:25:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:25:10] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:25:13] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:25:13] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:25:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:25:15] [ERROR] 交易失败: 未知错误
[auto_trader.py][01:25:15] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577473525368360960', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577473525368360960', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317096948'}], 'inTime': '1749317096947481', 'msg': '', 'outTime': '1749317096950511'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:31:38] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:31:38] [INFO] 执行加仓操作
[_client.py][01:31:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:31:39] [INFO] 设置杠杆成功：100倍
[_client.py][01:31:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:31:39] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:31:39] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577487031664775168 "HTTP/2 200 OK"
[place_order.py][01:31:39] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:31:41] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577487031664775168 "HTTP/2 200 OK"
[place_order.py][01:31:41] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:31:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577487031664775168 "HTTP/2 200 OK"
[place_order.py][01:31:44] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:31:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577487031664775168 "HTTP/2 200 OK"
[place_order.py][01:31:46] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:31:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577487031664775168 "HTTP/2 200 OK"
[place_order.py][01:31:48] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][01:31:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:31:48] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:31:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:31:50] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:31:53] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:31:53] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:31:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:31:55] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:31:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:31:57] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:31:57] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577487031664775168', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577487031664775168', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317499467'}], 'inTime': '1749317499465664', 'msg': '', 'outTime': '1749317499468943'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:36:08] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:36:08] [INFO] 执行加仓操作
[_client.py][01:36:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:36:09] [INFO] 设置杠杆成功：100倍
[_client.py][01:36:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:36:09] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:36:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577496098273628160 "HTTP/2 200 OK"
[place_order.py][01:36:09] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:36:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577496098273628160 "HTTP/2 200 OK"
[place_order.py][01:36:12] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:36:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577496098273628160 "HTTP/2 200 OK"
[place_order.py][01:36:14] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:36:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577496098273628160 "HTTP/2 200 OK"
[place_order.py][01:36:16] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:36:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577496098273628160 "HTTP/2 200 OK"
[place_order.py][01:36:18] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][01:36:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:19] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:36:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:21] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:36:23] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:23] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:36:25] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:25] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:36:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:36:27] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:36:27] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577496098273628160', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577496098273628160', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317769673'}], 'inTime': '1749317769671974', 'msg': '', 'outTime': '1749317769675169'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:36:47] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:36:47] [INFO] 执行加仓操作
[_client.py][01:36:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:36:47] [INFO] 设置杠杆成功：100倍
[_client.py][01:36:48] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:36:48] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:36:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:48] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:36:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:36:48] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'
[auto_trader.py][01:36:48] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:36:48] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577497389280399360', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577497389280399360', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317808148'}], 'inTime': '1749317808147352', 'msg': '', 'outTime': '1749317808150402'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:38:09] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:38:09] [INFO] 执行加仓操作
[_client.py][01:38:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:38:09] [INFO] 设置杠杆成功：100倍
[_client.py][01:38:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:38:10] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:38:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:38:10] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:38:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:38:10] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'tpTriggerPx'
[auto_trader.py][01:38:10] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:38:10] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577500145340780544', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577500145340780544', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317890285'}], 'inTime': '1749317890284650', 'msg': '', 'outTime': '1749317890287733'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'tpTriggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:39:26] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:39:26] [INFO] 执行加仓操作
[_client.py][01:39:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:39:26] [INFO] 设置杠杆成功：100倍
[_client.py][01:39:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:39:27] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:39:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:39:27] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:39:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:39:27] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'tpOrdPx'
[auto_trader.py][01:39:27] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:39:27] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577502720609882112', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577502720609882112', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749317967034'}], 'inTime': '1749317967033230', 'msg': '', 'outTime': '1749317967036314'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'tpOrdPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:40:19] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 'N/A', 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:40:19] [INFO] 执行加仓操作
[_client.py][01:40:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:40:20] [INFO] 设置杠杆成功：100倍
[_client.py][01:40:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:40:20] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:40:20] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:40:20] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:40:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:40:21] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'tpTriggerPx'
[auto_trader.py][01:40:21] [ERROR] 保存交易记录失败: could not convert string to float: 'N/A'
[auto_trader.py][01:40:21] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577504522919088128', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577504522919088128', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749318020747'}], 'inTime': '1749318020746818', 'msg': '', 'outTime': '1749318020750053'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'tpTriggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:44:54] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 'N/A', 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:44:54] [INFO] 执行加仓操作
[_client.py][01:44:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:44:54] [INFO] 设置杠杆成功：100倍
[_client.py][01:44:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:44:55] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:44:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:44:55] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:44:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:44:55] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'
[auto_trader.py][01:44:55] [ERROR] 保存交易记录失败: could not convert string to float: 'N/A'
[auto_trader.py][01:44:55] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577513729215041536', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577513729215041536', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749318295116'}], 'inTime': '1749318295115480', 'msg': '', 'outTime': '1749318295118494'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:46:01] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 'N/A', 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:46:01] [INFO] 执行加仓操作
[_client.py][01:46:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:46:02] [INFO] 设置杠杆成功：100倍
[_client.py][01:46:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:46:02] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:46:02] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:02] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][01:46:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:03] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'
[auto_trader.py][01:46:03] [ERROR] 保存交易记录失败: could not convert string to float: 'N/A'
[auto_trader.py][01:46:03] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577515996957773824', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577515996957773824', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749318362700'}], 'inTime': '1749318362699337', 'msg': '', 'outTime': '1749318362702450'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][01:46:41] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:46:41] [INFO] 执行加仓操作
[_client.py][01:46:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][01:46:41] [INFO] 设置杠杆成功：100倍
[_client.py][01:46:42] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][01:46:42] [INFO] 下单成功：方向=sell, 价格=2515.0, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][01:46:42] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577517316284485632 "HTTP/2 200 OK"
[place_order.py][01:46:42] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:46:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577517316284485632 "HTTP/2 200 OK"
[place_order.py][01:46:44] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:46:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577517316284485632 "HTTP/2 200 OK"
[place_order.py][01:46:46] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:46:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577517316284485632 "HTTP/2 200 OK"
[place_order.py][01:46:48] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][01:46:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577517316284485632 "HTTP/2 200 OK"
[place_order.py][01:46:50] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][01:46:51] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:51] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:46:53] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:53] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:46:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:55] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:46:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:46:57] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][01:46:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][01:46:59] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][01:46:59] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577517316284485632', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577517316284485632', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749318402019'}], 'inTime': '1749318402018468', 'msg': '', 'outTime': '1749318402021644'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][01:47:26] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:47:26] [INFO] 执行平仓操作
[_client.py][01:47:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:47:27] [ERROR] 当前没有持仓
[auto_trader.py][01:47:27] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][01:47:27] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][01:59:05] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][01:59:05] [INFO] 执行平仓操作
[_client.py][01:59:06] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][01:59:06] [ERROR] 当前没有持仓
[auto_trader.py][01:59:06] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][01:59:06] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:01:18] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:01:18] [INFO] 执行平仓操作
[_client.py][02:01:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:01:19] [INFO] {'code': '0', 'data': [{'accFillSz': '0', 'algoClOrdId': '', 'algoId': '', 'attachAlgoClOrdId': '', 'attachAlgoOrds': [], 'avgPx': '', 'cTime': '1749318402019', 'cancelSource': '', 'cancelSourceReason': '', 'category': 'normal', 'ccy': '', 'clOrdId': '', 'fee': '0', 'feeCcy': 'USDT', 'fillPx': '', 'fillSz': '0', 'fillTime': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'isTpLimit': 'false', 'lever': '100', 'linkedAlgoOrd': {'algoId': ''}, 'ordId': '2577517316284485632', 'ordType': 'limit', 'pnl': '0', 'posSide': 'net', 'px': '2515', 'pxType': '', 'pxUsd': '', 'pxVol': '', 'quickMgnType': '', 'rebate': '0', 'rebateCcy': 'USDT', 'reduceOnly': 'false', 'side': 'sell', 'slOrdPx': '', 'slTriggerPx': '', 'slTriggerPxType': '', 'source': '', 'state': 'live', 'stpId': '', 'stpMode': 'cancel_maker', 'sz': '231.34', 'tag': '', 'tdMode': 'cross', 'tgtCcy': '', 'tpOrdPx': '', 'tpTriggerPx': '', 'tpTriggerPxType': '', 'tradeId': '', 'uTime': '1749318402019'}], 'msg': ''}
[_client.py][02:01:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:01:19] [ERROR] 当前没有持仓
[auto_trader.py][02:01:19] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:01:19] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:01:44] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:01:44] [INFO] 执行平仓操作
[_client.py][02:01:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:01:44] [INFO] !!!!{'code': '0', 'data': [{'accFillSz': '0', 'algoClOrdId': '', 'algoId': '', 'attachAlgoClOrdId': '', 'attachAlgoOrds': [], 'avgPx': '', 'cTime': '1749318402019', 'cancelSource': '', 'cancelSourceReason': '', 'category': 'normal', 'ccy': '', 'clOrdId': '', 'fee': '0', 'feeCcy': 'USDT', 'fillPx': '', 'fillSz': '0', 'fillTime': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'isTpLimit': 'false', 'lever': '100', 'linkedAlgoOrd': {'algoId': ''}, 'ordId': '2577517316284485632', 'ordType': 'limit', 'pnl': '0', 'posSide': 'net', 'px': '2515', 'pxType': '', 'pxUsd': '', 'pxVol': '', 'quickMgnType': '', 'rebate': '0', 'rebateCcy': 'USDT', 'reduceOnly': 'false', 'side': 'sell', 'slOrdPx': '', 'slTriggerPx': '', 'slTriggerPxType': '', 'source': '', 'state': 'live', 'stpId': '', 'stpMode': 'cancel_maker', 'sz': '231.34', 'tag': '', 'tdMode': 'cross', 'tgtCcy': '', 'tpOrdPx': '', 'tpTriggerPx': '', 'tpTriggerPxType': '', 'tradeId': '', 'uTime': '1749318402019'}], 'msg': ''}
[_client.py][02:01:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:01:44] [ERROR] 当前没有持仓
[auto_trader.py][02:01:44] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:01:44] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:03:07] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:03:07] [INFO] 执行平仓操作
[_client.py][02:03:08] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:03:08] [INFO] !!!!2577517316284485632
[_client.py][02:03:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:03:09] [ERROR] 当前没有持仓
[auto_trader.py][02:03:09] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:03:09] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:04:33] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': False, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:04:33] [INFO] 执行平仓操作
[_client.py][02:04:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][02:04:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][02:04:34] [INFO] 成功撤销限价订单 2577517316284485632
[_client.py][02:04:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:04:34] [ERROR] 当前没有持仓
[auto_trader.py][02:04:34] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:04:34] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749317890286', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049393107', 'uTime': '1749318372212', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:05:12] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'sell', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:05:12] [INFO] 执行加仓操作
[_client.py][02:05:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][02:05:13] [INFO] 设置杠杆成功：100倍
[_client.py][02:05:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:05:13] [INFO] 下单成功：方向=sell, 价格=market, 数量=231.34, 交易模式=cross, 杠杆=100倍
[_client.py][02:05:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:05:14] [INFO] 已确认持仓建立，开始设置止盈止损
[_client.py][02:05:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:05:14] [ERROR] 设置止盈止损时发生异常: TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'
[auto_trader.py][02:05:14] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][02:05:14] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577554622068428800', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577554622068428800', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749319513818'}], 'inTime': '1749319513817323', 'msg': '', 'outTime': '1749319513820229'}}, 'tp_sl_orders': {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'triggerPx'", 'response': None}, 'message': '主订单：成功, 止盈止损：失败'}
[auto_trader.py][02:05:46] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:05:46] [INFO] 执行平仓操作
[_client.py][02:05:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:05:46] [ERROR] 平仓过程发生异常: list index out of range
[auto_trader.py][02:05:46] [ERROR] 交易失败: list index out of range
[auto_trader.py][02:05:46] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'list index out of range', 'response': None}
[auto_trader.py][02:06:51] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:06:51] [INFO] 执行平仓操作
[_client.py][02:06:52] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:06:52] [ERROR] 平仓过程发生异常: list index out of range
[auto_trader.py][02:06:52] [ERROR] 交易失败: list index out of range
[auto_trader.py][02:06:52] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'list index out of range', 'response': None}
[auto_trader.py][02:07:17] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:07:17] [INFO] 执行平仓操作
[place_order.py][02:07:17] [ERROR] 平仓过程发生异常: name 'position_result' is not defined
[auto_trader.py][02:07:17] [ERROR] 交易失败: name 'position_result' is not defined
[auto_trader.py][02:07:17] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': "name 'position_result' is not defined", 'response': None}
[auto_trader.py][02:07:31] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:07:31] [INFO] 执行平仓操作
[_client.py][02:07:31] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:07:31] [INFO] 当前持仓:-231.34, 平仓方向:buy, 平仓数量:231.34
[_client.py][02:07:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[place_order.py][02:07:32] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'side': 'buy', 'ordType': 'market', 'sz': '231.34'}
[_client.py][02:07:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:07:32] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577559267545321472', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749319652264'}], 'inTime': '1749319652263479', 'msg': '', 'outTime': '1749319652266565'}
[auto_trader.py][02:07:32] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][02:07:32] [ERROR] 交易执行失败或返回结果格式不正确: {'success': True, 'order_id': '2577559267545321472', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577559267545321472', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749319652264'}], 'inTime': '1749319652263479', 'msg': '', 'outTime': '1749319652266565'}}
[auto_trader.py][02:08:06] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:08:06] [INFO] 执行平仓操作
[_client.py][02:08:06] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:08:06] [ERROR] 获取订单列表过程中发生异常: list index out of range
[auto_trader.py][02:08:06] [ERROR] 交易失败: list index out of range
[auto_trader.py][02:08:06] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'list index out of range', 'response': None}
[auto_trader.py][02:08:18] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:08:18] [INFO] 执行平仓操作
[_client.py][02:08:19] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:08:19] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][02:08:20] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:08:20] [ERROR] 当前没有持仓
[auto_trader.py][02:08:20] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:08:20] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749319513819', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049399960', 'uTime': '1749319652265', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:14:11] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:14:11] [INFO] 执行平仓操作
[_client.py][02:14:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:14:11] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][02:14:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:14:12] [ERROR] 当前没有持仓
[auto_trader.py][02:14:12] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:14:12] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749319513819', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049399960', 'uTime': '1749319652265', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:15:32] [INFO] 执行第1条交易指令: {'operation_comment': '当前存在未成交的空头限价订单，为确保仓位大小与最新风险管理计算一致，并优化止盈目标，撤销现有订单并重新下达。', 'type': 'close', 'price': 2515.0, 'stop_loss': 2525.0, 'take_profit': [{'price': 2480.0, 'size': 77.11}, {'price': 2450.0, 'size': 77.11}, {'price': 2420.0, 'size': 77.12}], 'size': 231.34, 'market': True, 'expected_winrate': 0.6308, 'expected_return': 0.00731, 'trade_RR_ratio': 3.5, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易风险控制在可用保证金的2%，采用分级止盈策略，TP1达成后止损上移。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期反弹风险，但整体趋势偏空。需警惕价格突破关键阻力位2525 USDT，这将是趋势反转的信号。严格执行止损，并关注资金费率和持仓量变化。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。'}
[auto_trader.py][02:15:32] [INFO] 执行平仓操作
[_client.py][02:15:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:15:32] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][02:15:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:15:32] [ERROR] 当前没有持仓
[auto_trader.py][02:15:32] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:15:32] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749319513819', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049399960', 'uTime': '1749319652265', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:21:40] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:21:40] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:30:15] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:30:15] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:31:15] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:31:15] [ERROR] 第2条交易指令的size字段格式错误: 42.61
[auto_trader.py][02:31:15] [INFO] 执行第1条交易指令: {'operation_comment': '检测到存在与当前看涨判断冲突的未成交空头限价订单，为避免潜在风险并确保交易方向一致性，优先撤销该订单。', 'type': 'close', 'price': 2515.0, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': '231.34', 'market': True, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'modify_order', 'risk_assessment': '撤销订单操作风险低，旨在规避潜在冲突。'}
[auto_trader.py][02:31:15] [INFO] 执行平仓操作
[okx_client.py][02:31:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending
[okx_client.py][02:31:15] [INFO] 401 Unauthorized
[okx_client.py][02:31:15] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[okx_client.py][02:31:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending
[okx_client.py][02:31:16] [INFO] 401 Unauthorized
[okx_client.py][02:31:16] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:31:16] [INFO] 已取消 0 个限价单和 0 个止盈止损单
[okx_client.py][02:31:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions
[okx_client.py][02:31:16] [INFO] 401 Unauthorized
[okx_client.py][02:31:16] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:31:16] [ERROR] 获取持仓信息失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:31:16] [ERROR] 交易失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:31:16] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"Invalid Sign","code":"50113"}', 'response': {'code': '401', 'msg': '{"msg":"Invalid Sign","code":"50113"}'}}
[auto_trader.py][02:31:16] [INFO] 执行第2条交易指令: {'operation_comment': '在撤销冲突订单后，根据H4和H1的强劲看涨趋势，在回调至关键支撑位附近建立多头头寸，以获取更好的风险回报比。', 'type': 'buy', 'price': 2505.0, 'stop_loss': 2450.0, 'take_profit': [{'price': 2575.0, 'size': 0.33}, {'price': 2650.0, 'size': 0.33}, {'price': 2700.0, 'size': 0.34}], 'size': '42.61', 'market': False, 'expected_winrate': 0.8858, 'expected_return': 0.0222, 'trade_RR_ratio': 1.27, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易最大亏损不超过可用保证金的2%。如果价格突破关键阻力（如2525 USDT）并伴随放量，则将止损上移至新的支撑位（如2510 USDT），并考虑小幅加仓。如果价格回调至2500-2505 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2450 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期回调风险，但整体趋势偏多。需警惕价格未能有效突破2525 USDT阻力。严格执行止损，并关注资金费率和持仓量变化。'}
[auto_trader.py][02:31:16] [INFO] 执行加仓操作
[okx_client.py][02:31:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage
[okx_client.py][02:31:17] [INFO] 401 Unauthorized
[okx_client.py][02:31:17] [ERROR] API请求失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[place_order.py][02:31:17] [ERROR] 设置杠杆失败，错误信息：{"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:31:17] [ERROR] 交易失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:31:17] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"APIKey does not match current environment.","code":"50101"}', 'response': {'code': '401', 'msg': '{"msg":"APIKey does not match current environment.","code":"50101"}'}}
[auto_trader.py][02:32:42] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:32:42] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:33:58] [INFO] 执行第1条交易指令: {'operation_comment': '检测到存在与当前看涨判断冲突的未成交空头限价订单，为避免潜在风险并确保交易方向一致性，优先撤销该订单。', 'type': 'close', 'price': 2515.0, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 231.34, 'market': True, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'modify_order', 'risk_assessment': '撤销订单操作风险低，旨在规避潜在冲突。'}
[auto_trader.py][02:33:58] [INFO] 执行平仓操作
[okx_client.py][02:33:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending
[okx_client.py][02:33:59] [INFO] 401 Unauthorized
[okx_client.py][02:33:59] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[okx_client.py][02:33:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending
[okx_client.py][02:33:59] [INFO] 401 Unauthorized
[okx_client.py][02:33:59] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:33:59] [INFO] 已取消 0 个限价单和 0 个止盈止损单
[okx_client.py][02:33:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions
[okx_client.py][02:34:00] [INFO] 401 Unauthorized
[okx_client.py][02:34:00] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:34:00] [ERROR] 获取持仓信息失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:34:00] [ERROR] 交易失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:34:00] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"Invalid Sign","code":"50113"}', 'response': {'code': '401', 'msg': '{"msg":"Invalid Sign","code":"50113"}'}}
[auto_trader.py][02:34:00] [INFO] 执行第2条交易指令: {'operation_comment': '在撤销冲突订单后，根据H4和H1的强劲看涨趋势，在回调至关键支撑位附近建立多头头寸，以获取更好的风险回报比。', 'type': 'buy', 'price': 2505.0, 'stop_loss': 2450.0, 'take_profit': [{'price': 2575.0, 'size': 0.33}, {'price': 2650.0, 'size': 0.33}, {'price': 2700.0, 'size': 0.34}], 'size': 42.61, 'market': False, 'expected_winrate': 0.8858, 'expected_return': 0.0222, 'trade_RR_ratio': 1.27, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易最大亏损不超过可用保证金的2%。如果价格突破关键阻力（如2525 USDT）并伴随放量，则将止损上移至新的支撑位（如2510 USDT），并考虑小幅加仓。如果价格回调至2500-2505 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2450 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期回调风险，但整体趋势偏多。需警惕价格未能有效突破2525 USDT阻力。严格执行止损，并关注资金费率和持仓量变化。'}
[auto_trader.py][02:34:00] [INFO] 执行加仓操作
[okx_client.py][02:34:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage
[okx_client.py][02:34:01] [INFO] 401 Unauthorized
[okx_client.py][02:34:01] [ERROR] API请求失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[place_order.py][02:34:01] [ERROR] 设置杠杆失败，错误信息：{"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:34:01] [ERROR] 交易失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:34:01] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"APIKey does not match current environment.","code":"50101"}', 'response': {'code': '401', 'msg': '{"msg":"APIKey does not match current environment.","code":"50101"}'}}
[auto_trader.py][02:35:59] [INFO] 执行第1条交易指令: {'operation_comment': '检测到存在与当前看涨判断冲突的未成交空头限价订单，为避免潜在风险并确保交易方向一致性，优先撤销该订单。', 'type': 'close', 'price': 2515.0, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 231.34, 'market': True, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'modify_order', 'risk_assessment': '撤销订单操作风险低，旨在规避潜在冲突。'}
[auto_trader.py][02:35:59] [INFO] 执行平仓操作
[okx_client.py][02:35:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending
[okx_client.py][02:36:00] [INFO] 401 Unauthorized
[okx_client.py][02:36:00] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[okx_client.py][02:36:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-algo-pending
[okx_client.py][02:36:00] [INFO] 401 Unauthorized
[okx_client.py][02:36:00] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:36:00] [INFO] 已取消 0 个限价单和 0 个止盈止损单
[okx_client.py][02:36:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions
[okx_client.py][02:36:01] [INFO] 401 Unauthorized
[okx_client.py][02:36:01] [ERROR] API请求失败: {"msg":"Invalid Sign","code":"50113"}
[place_order.py][02:36:01] [ERROR] 获取持仓信息失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:36:01] [ERROR] 交易失败: {"msg":"Invalid Sign","code":"50113"}
[auto_trader.py][02:36:01] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"Invalid Sign","code":"50113"}', 'response': {'code': '401', 'msg': '{"msg":"Invalid Sign","code":"50113"}'}}
[auto_trader.py][02:36:01] [INFO] 执行第2条交易指令: {'operation_comment': '在撤销冲突订单后，根据H4和H1的强劲看涨趋势，在回调至关键支撑位附近建立多头头寸，以获取更好的风险回报比。', 'type': 'buy', 'price': 2505.0, 'stop_loss': 2450.0, 'take_profit': [{'price': 2575.0, 'size': 0.33}, {'price': 2650.0, 'size': 0.33}, {'price': 2700.0, 'size': 0.34}], 'size': 42.61, 'market': False, 'expected_winrate': 0.8858, 'expected_return': 0.0222, 'trade_RR_ratio': 1.27, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易最大亏损不超过可用保证金的2%。如果价格突破关键阻力（如2525 USDT）并伴随放量，则将止损上移至新的支撑位（如2510 USDT），并考虑小幅加仓。如果价格回调至2500-2505 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2450 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期回调风险，但整体趋势偏多。需警惕价格未能有效突破2525 USDT阻力。严格执行止损，并关注资金费率和持仓量变化。'}
[auto_trader.py][02:36:01] [INFO] 执行加仓操作
[okx_client.py][02:36:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage
[okx_client.py][02:36:01] [INFO] 401 Unauthorized
[okx_client.py][02:36:01] [ERROR] API请求失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[place_order.py][02:36:01] [ERROR] 设置杠杆失败，错误信息：{"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:36:01] [ERROR] 交易失败: {"msg":"APIKey does not match current environment.","code":"50101"}
[auto_trader.py][02:36:01] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '{"msg":"APIKey does not match current environment.","code":"50101"}', 'response': {'code': '401', 'msg': '{"msg":"APIKey does not match current environment.","code":"50101"}'}}
[auto_trader.py][02:36:36] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:36:36] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:36:47] [ERROR] 第1条交易指令的size字段格式错误: 231.34
[auto_trader.py][02:36:47] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:36:58] [INFO] 执行第1条交易指令: {'operation_comment': '检测到存在与当前看涨判断冲突的未成交空头限价订单，为避免潜在风险并确保交易方向一致性，优先撤销该订单。', 'type': 'close', 'price': 2515.0, 'stop_loss': 'N/A', 'take_profit': 'N/A', 'size': 231.34, 'market': True, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'modify_order', 'risk_assessment': '撤销订单操作风险低，旨在规避潜在冲突。'}
[auto_trader.py][02:36:58] [INFO] 执行平仓操作
[_client.py][02:36:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:36:58] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][02:36:59] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:36:59] [ERROR] 当前没有持仓
[auto_trader.py][02:36:59] [ERROR] 交易失败: 当前没有持仓
[auto_trader.py][02:36:59] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749319513819', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1049399960', 'uTime': '1749319652265', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][02:36:59] [INFO] 执行第2条交易指令: {'operation_comment': '在撤销冲突订单后，根据H4和H1的强劲看涨趋势，在回调至关键支撑位附近建立多头头寸，以获取更好的风险回报比。', 'type': 'buy', 'price': 2505.0, 'stop_loss': 2450.0, 'take_profit': [{'price': 2575.0, 'size': 0.33}, {'price': 2650.0, 'size': 0.33}, {'price': 2700.0, 'size': 0.34}], 'size': 42.61, 'market': False, 'expected_winrate': 0.8858, 'expected_return': 0.0222, 'trade_RR_ratio': 1.27, 'signal_strength': 0.75, 'risk_management_strategy': '单笔交易最大亏损不超过可用保证金的2%。如果价格突破关键阻力（如2525 USDT）并伴随放量，则将止损上移至新的支撑位（如2510 USDT），并考虑小幅加仓。如果价格回调至2500-2505 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2450 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场中性情绪，建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。', 'position_action': 'add_position', 'risk_assessment': '市场波动性较高，存在短期回调风险，但整体趋势偏多。需警惕价格未能有效突破2525 USDT阻力。严格执行止损，并关注资金费率和持仓量变化。'}
[auto_trader.py][02:36:59] [INFO] 执行加仓操作
[_client.py][02:36:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][02:36:59] [INFO] 设置杠杆成功：100倍
[_client.py][02:36:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:36:59] [INFO] 下单成功：方向=buy, 价格=2505.0, 数量=42.61, 交易模式=cross, 杠杆=100倍
[_client.py][02:37:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577618566212620288 "HTTP/2 200 OK"
[place_order.py][02:37:00] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][02:37:02] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577618566212620288 "HTTP/2 200 OK"
[place_order.py][02:37:02] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][02:37:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577618566212620288 "HTTP/2 200 OK"
[place_order.py][02:37:04] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][02:37:06] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577618566212620288 "HTTP/2 200 OK"
[place_order.py][02:37:06] [INFO] 等待订单成交，2.0秒后重试...
[_client.py][02:37:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/order?instId=ETH-USDT-SWAP&ordId=2577618566212620288 "HTTP/2 200 OK"
[place_order.py][02:37:09] [WARNING] 订单未完全成交，继续设置止盈止损
[_client.py][02:37:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:37:09] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][02:37:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:37:11] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][02:37:13] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:37:13] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][02:37:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][02:37:15] [INFO] 等待持仓确认，2.0秒后重试...
[_client.py][02:37:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][02:37:18] [INFO] 交易记录已保存，止盈止损状态: 未设置
[auto_trader.py][02:37:18] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'main_order': {'success': True, 'order_id': '2577618566212620288', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2577618566212620288', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749321419502'}], 'inTime': '1749321419501735', 'msg': '', 'outTime': '1749321419505003'}}, 'tp_sl_orders': {'success': False, 'error': '等待持仓确认超时', 'response': None}, 'message': '主订单：成功, 止盈止损：失败（等待持仓确认超时）'}
[auto_trader.py][02:23:45] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振和积极资金面，ETHUSDT有望延续上涨。当前价格处于入场区间，风险回报比良好。', 'type': 'buy', 'price': 2707.55, 'stop_loss': 2650.0, 'take_profit': [{'price': 2795.0, 'size': 0.3333}, {'price': 2850.0, 'size': 0.3333}, {'price': 2900.0, 'size': 0.3334}], 'size': 35.67, 'market': False, 'expected_winrate': 0.7358, 'expected_return': 0.0181, 'trade_RR_ratio': 1.5191, 'signal_strength': 0.9069, 'risk_management_strategy': '本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场极度贪婪情绪（FGI=78），建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。如果价格突破关键阻力（如2720 USDT）并伴随放量，则将止损上移至新的支撑位（如2700 USDT），并考虑小幅加仓。如果价格回调至2600-2620 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2650 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。', 'position_action': 'add_position', 'risk_assessment': '市场情绪极度贪婪，短期存在回调风险，但趋势强劲，风险可控。建议严格止损，并分批止盈。'}
[auto_trader.py][02:23:45] [INFO] 执行加仓操作
[_client.py][02:23:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][02:23:46] [INFO] 设置杠杆成功：100倍
[_client.py][02:23:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:23:47] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][02:23:47] [ERROR] 交易失败: All operations failed
[auto_trader.py][02:23:47] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,626.78, min sell price: 2,523.71)', 'tag': '', 'ts': '1749493426873'}], 'inTime': '1749493426873463', 'msg': 'All operations failed', 'outTime': '1749493426873638'}}
[auto_trader.py][02:25:00] [ERROR] 第1条交易指令的size字段格式错误: 35.67
[auto_trader.py][02:25:00] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:25:13] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振和积极资金面，ETHUSDT有望延续上涨。当前价格处于入场区间，风险回报比良好。', 'type': 'buy', 'price': 2707.55, 'stop_loss': 2650.0, 'take_profit': [{'price': 2795.0, 'size': 0.3333}, {'price': 2850.0, 'size': 0.3333}, {'price': 2900.0, 'size': 0.3334}], 'size': 35.67, 'market': False, 'expected_winrate': 0.7358, 'expected_return': 0.0181, 'trade_RR_ratio': 1.5191, 'signal_strength': 0.9069, 'risk_management_strategy': '本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场极度贪婪情绪（FGI=78），建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。如果价格突破关键阻力（如2720 USDT）并伴随放量，则将止损上移至新的支撑位（如2700 USDT），并考虑小幅加仓。如果价格回调至2600-2620 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2650 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。', 'position_action': 'add_position', 'risk_assessment': '市场情绪极度贪婪，短期存在回调风险，但趋势强劲，风险可控。建议严格止损，并分批止盈。'}
[auto_trader.py][02:25:13] [INFO] 执行加仓操作
[_client.py][02:25:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][02:25:14] [INFO] 设置杠杆成功：100倍
[_client.py][02:25:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:25:15] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][02:25:15] [ERROR] 交易失败: All operations failed
[auto_trader.py][02:25:15] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,628.17, min sell price: 2,525.04)', 'tag': '', 'ts': '1749493515029'}], 'inTime': '1749493515029507', 'msg': 'All operations failed', 'outTime': '1749493515029707'}}
[auto_trader.py][02:25:35] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振和积极资金面，ETHUSDT有望延续上涨。当前价格处于入场区间，风险回报比良好。', 'type': 'buy', 'price': 2707.55, 'stop_loss': 2650.0, 'take_profit': [{'price': 2795.0, 'size': 0.3333}, {'price': 2850.0, 'size': 0.3333}, {'price': 2900.0, 'size': 0.3334}], 'size': 35.67, 'market': False, 'expected_winrate': 0.7358, 'expected_return': 0.0181, 'trade_RR_ratio': 1.5191, 'signal_strength': 0.9069, 'risk_management_strategy': '本次交易属于趋势跟踪的风险中性策略，建议占总加密货币投资组合的比例不超过10%。考虑到当前市场极度贪婪情绪（FGI=78），建议避免过度杠杆，并保持部分现金头寸以应对可能的市场情绪逆转或突发消息面冲击。如果价格突破关键阻力（如2720 USDT）并伴随放量，则将止损上移至新的支撑位（如2700 USDT），并考虑小幅加仓。如果价格回调至2600-2620 USDT区域并获得支撑（如出现看涨K线或缩量），则视为入场机会，止损保持不变。如果价格跌破止损位（2650 USDT），或出现放量滞涨并迅速回落，则立即止损，并考虑反手做空或离场观望。在美联储会议纪要公布前，考虑减半仓位或将止损上移至盈亏平衡点，以规避突发消息面的影响。如果出现交易所大规模资金外流或链上数据急剧恶化等黑天鹅事件，将立即平仓所有头寸并暂停交易。', 'position_action': 'add_position', 'risk_assessment': '市场情绪极度贪婪，短期存在回调风险，但趋势强劲，风险可控。建议严格止损，并分批止盈。'}
[auto_trader.py][02:25:35] [INFO] 执行加仓操作
[_client.py][02:25:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][02:25:36] [INFO] 设置杠杆成功：100倍
[_client.py][02:25:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][02:25:37] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][02:25:37] [ERROR] 交易失败: All operations failed
[auto_trader.py][02:25:37] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,628.1, min sell price: 2,524.99)', 'tag': '', 'ts': '1749493537479'}], 'inTime': '1749493537479638', 'msg': 'All operations failed', 'outTime': '1749493537479854'}}
[auto_trader.py][02:35:00] [ERROR] 第1条交易指令的take_profit数组格式错误: 2790.0
[auto_trader.py][02:35:00] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:35:56] [ERROR] 第1条交易指令的take_profit数组格式错误: 2790.0
[auto_trader.py][02:35:56] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:40:38] [ERROR] 第1条交易指令缺少必要字段: risk_assessment
[auto_trader.py][02:40:38] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:43:25] [ERROR] 第1条交易指令的take_profit字段格式错误: {'target1': 2750.0, 'target2': 2800.0, 'target3': 2850.0}
[auto_trader.py][02:43:25] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:49:12] [ERROR] 第1条交易指令的take_profit字段格式错误: {'target1': 2750.0, 'target2': 2800.0, 'target3': 2850.0}
[auto_trader.py][02:49:12] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:51:01] [ERROR] 第1条交易指令的take_profit字段格式错误: {'tp1': {'price': 2750.0, 'size': 24.84}, 'tp2': {'price': 2800.0, 'size': 24.84}, 'tp3': {'price': 2850.0, 'size': 24.84}}
[auto_trader.py][02:51:01] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:52:46] [ERROR] 第1条交易指令的take_profit数组格式错误: {'price': 2750.0, 'size': 24.84}
[auto_trader.py][02:52:46] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:58:34] [ERROR] 第1条交易指令的take_profit数组格式错误: {'price': 2750, 'size': 11.89}
[auto_trader.py][02:58:34] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:58:56] [ERROR] 第1条交易指令的take_profit数组格式错误: {'price': 2750, 'size': 11.89}
[auto_trader.py][02:58:56] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][02:59:54] [ERROR] 第1条交易指令的take_profit数组格式错误: {'price': 2750, 'size': 11.89}
[auto_trader.py][02:59:54] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:00:26] [ERROR] 第1条交易指令的signal_strength字段格式错误: High
[auto_trader.py][03:00:26] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:01:31] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架看涨趋势，等待回调至支撑位入场做多ETH。', 'type': 'buy', 'price': 2680, 'stop_loss': 2650, 'take_profit': [{'price': 2750, 'size': 11.89}, {'price': 2800, 'size': 11.89}, {'price': 2850, 'size': 11.89}], 'size': 35.67, 'market': False, 'expected_winrate': 0.877, 'expected_return': 0.0273, 'trade_RR_ratio': 1.606, 'signal_strength': 'High', 'risk_management_strategy': '单笔交易最大亏损不超过可用保证金的2%。等待价格回调至支撑位入场，以优化风险回报。若趋势加速突破，考虑追涨并上移止损。若趋势恶化，立即止损。', 'risk_assessment': '当前市场存在短期回调风险（RSI超买，FGI极度贪婪），但整体趋势强劲。主要风险在于情绪反转或突发宏观事件。已通过严格止损和分级止盈进行风险控制。', 'position_action': 'N/A'}
[auto_trader.py][03:04:14] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架强劲看涨信号，ETHUSDT有望延续上涨趋势。尽管短期超买，但量价配合良好，回调提供入场机会。本次操作为在回调区间限价开多，严格控制单笔亏损在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2775.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'expected_winrate': 0.9711508140894314, 'expected_return': 0.026442167318955153, 'trade_RR_ratio': 1.5, 'signal_strength': 'High', 'risk_management_strategy': '严格控制单笔亏损在可用保证金的2%以内，通过限价单在回调区间入场，并设置多级止盈目标以锁定利润。TP1达成后止损上移。', 'risk_assessment': '市场存在短期回调风险，但长期趋势强劲。主要风险来自宏观突发事件或市场情绪的急剧逆转。通过严格止损和分批止盈进行风险控制。', 'position_action': 'add_position'}
[auto_trader.py][03:04:14] [INFO] 执行加仓操作
[_client.py][03:04:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:04:15] [INFO] 设置杠杆成功：100倍
[_client.py][03:04:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:04:16] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:04:16] [ERROR] 交易失败: All operations failed
[auto_trader.py][03:04:16] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,630.8, min sell price: 2,527.58)', 'tag': '', 'ts': '1749495855839'}], 'inTime': '1749495855838847', 'msg': 'All operations failed', 'outTime': '1749495855839087'}}
[auto_trader.py][03:06:03] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架强劲看涨信号，ETHUSDT有望延续上涨趋势。尽管短期超买，但量价配合良好，回调提供入场机会。本次操作为在回调区间限价开多，严格控制单笔亏损在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2775.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'expected_winrate': 0.9711508140894314, 'expected_return': 0.026442167318955153, 'trade_RR_ratio': 1.5, 'signal_strength': 'High', 'risk_management_strategy': '严格控制单笔亏损在可用保证金的2%以内，通过限价单在回调区间入场，并设置多级止盈目标以锁定利润。TP1达成后止损上移。', 'risk_assessment': '市场存在短期回调风险，但长期趋势强劲。主要风险来自宏观突发事件或市场情绪的急剧逆转。通过严格止损和分批止盈进行风险控制。', 'position_action': 'add_position'}
[auto_trader.py][03:06:03] [INFO] 执行加仓操作
[_client.py][03:06:04] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:06:04] [INFO] 设置杠杆成功：100倍
[_client.py][03:06:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:06:05] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:06:05] [ERROR] 交易失败: All operations failed
[auto_trader.py][03:06:05] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,632.26, min sell price: 2,528.97)', 'tag': '', 'ts': '1749495965012'}], 'inTime': '1749495965012438', 'msg': 'All operations failed', 'outTime': '1749495965012622'}}
[auto_trader.py][03:07:20] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架强劲看涨信号，ETHUSDT有望延续上涨趋势。尽管短期超买，但量价配合良好，回调提供入场机会。本次操作为在回调区间限价开多，严格控制单笔亏损在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2775.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'expected_winrate': 0.9711508140894314, 'expected_return': 0.026442167318955153, 'trade_RR_ratio': 1.5, 'signal_strength': 'High', 'risk_management_strategy': '严格控制单笔亏损在可用保证金的2%以内，通过限价单在回调区间入场，并设置多级止盈目标以锁定利润。TP1达成后止损上移。', 'risk_assessment': '市场存在短期回调风险，但长期趋势强劲。主要风险来自宏观突发事件或市场情绪的急剧逆转。通过严格止损和分批止盈进行风险控制。', 'position_action': 'add_position'}
[auto_trader.py][03:07:20] [INFO] 执行加仓操作
[_client.py][03:07:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:07:21] [INFO] 设置杠杆成功：100倍
[_client.py][03:07:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:07:22] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:07:22] [ERROR] 交易失败: 下单价格超出交易所限制。错误码: 51006, 错误信息: Order price is not within the price limit (max buy price: 2,631.9, min sell price: 2,528.63). 跳过当前交易指令。
[auto_trader.py][03:08:22] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架强劲看涨信号，ETHUSDT有望延续上涨趋势。尽管短期超买，但量价配合良好，回调提供入场机会。本次操作为在回调区间限价开多，严格控制单笔亏损在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2775.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'expected_winrate': 0.9711508140894314, 'expected_return': 0.026442167318955153, 'trade_RR_ratio': 1.5, 'signal_strength': 'High', 'risk_management_strategy': '严格控制单笔亏损在可用保证金的2%以内，通过限价单在回调区间入场，并设置多级止盈目标以锁定利润。TP1达成后止损上移。', 'risk_assessment': '市场存在短期回调风险，但长期趋势强劲。主要风险来自宏观突发事件或市场情绪的急剧逆转。通过严格止损和分批止盈进行风险控制。', 'position_action': 'add_position'}
[auto_trader.py][03:08:22] [INFO] 执行加仓操作
[_client.py][03:08:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:08:23] [INFO] 设置杠杆成功：100倍
[_client.py][03:08:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:08:24] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:08:24] [ERROR] 交易失败: All operations failed
[auto_trader.py][03:08:24] [ERROR] 交易执行失败或返回结果格式不正确: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,631.19, min sell price: 2,527.95)', 'tag': '', 'ts': '1749496104310'}], 'inTime': '1749496104310042', 'msg': 'All operations failed', 'outTime': '1749496104310274'}}
[auto_trader.py][03:09:10] [ERROR] 第1条交易指令的signal_strength字段格式错误: High
[auto_trader.py][03:09:10] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:09:24] [ERROR] 第1条交易指令缺少必要字段: signal_strength
[auto_trader.py][03:09:24] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:09:46] [ERROR] 第1条交易指令的signal_strength字段格式错误: High
[auto_trader.py][03:09:46] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:09:58] [ERROR] 第1条交易指令的signal_strength字段格式错误: High
[auto_trader.py][03:09:58] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:13:24] [ERROR] 第1条交易指令的signal_strength字段格式错误: High
[auto_trader.py][03:13:24] [ERROR] 加载配置文件失败，自动化交易终止。
[auto_trader.py][03:16:24] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架强劲看涨信号，ETHUSDT有望延续上涨趋势。尽管短期超买，但量价配合良好，回调提供入场机会。本次操作为在回调区间限价开多，严格控制单笔亏损在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2775.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'expected_winrate': 0.9711508140894314, 'expected_return': 0.026442167318955153, 'trade_RR_ratio': 1.5, 'signal_strength': 'High', 'risk_management_strategy': '严格控制单笔亏损在可用保证金的2%以内，通过限价单在回调区间入场，并设置多级止盈目标以锁定利润。TP1达成后止损上移。', 'risk_assessment': '市场存在短期回调风险，但长期趋势强劲。主要风险来自宏观突发事件或市场情绪的急剧逆转。通过严格止损和分批止盈进行风险控制。', 'position_action': 'add_position'}
[auto_trader.py][03:16:24] [ERROR] 发生未知错误: 'NoneType' object has no attribute 'get_ticker'
[auto_trader.py][03:18:01] [INFO] 执行第1条交易指令: {'operation_comment': '根据ETH-USDT-SWAP的强劲看涨趋势，在回调至支撑位附近时限价开多。风险控制在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[auto_trader.py][03:18:01] [ERROR] 发生未知错误: 'NoneType' object has no attribute 'get_ticker'
[auto_trader.py][03:20:47] [ERROR] 初始化OKX客户端失败: 缺少必要的API配置
[auto_trader.py][03:24:04] [INFO] 执行第1条交易指令: {'operation_comment': '根据ETH-USDT-SWAP的强劲看涨趋势，在回调至支撑位附近时限价开多。风险控制在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': '68.43', 'market': False, 'position_action': 'add_position'}
[_client.py][03:24:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:24:05] [INFO] 设置杠杆成功：100倍
[_client.py][03:24:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:24:06] [INFO] 下单成功：方向=sell, 价格=2680.0, 数量=68.43, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:24:06] [INFO] 交易执行成功: {'success': True, 'order_id': '2583511635139104768', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583511635139104768', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749497046642'}], 'inTime': '1749497046641593', 'msg': '', 'outTime': '1749497046644518'}}
[auto_trader.py][03:25:31] [INFO] 执行第1条交易指令: {'operation_comment': '根据ETH-USDT-SWAP的强劲看涨趋势，在回调至支撑位附近时限价开多。风险控制在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': '68.43', 'market': False, 'position_action': 'add_position'}
[_client.py][03:25:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:25:32] [INFO] 设置杠杆成功：100倍
[_client.py][03:25:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:25:33] [INFO] 下单成功：方向=sell, 价格=2680.0, 数量=68.43, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:25:33] [INFO] 交易执行成功: {'success': True, 'order_id': '2583514550146830336', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583514550146830336', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749497133516'}], 'inTime': '1749497133515778', 'msg': '', 'outTime': '1749497133519022'}}
[auto_trader.py][03:26:38] [INFO] 执行第1条交易指令: {'operation_comment': '根据ETH-USDT-SWAP的强劲看涨趋势，在回调至支撑位附近时限价开多。风险控制在可用保证金的2%以内。', 'type': 'buy', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '50%'}, {'price': 2800.0, 'size': '30%'}, {'price': 2850.0, 'size': '20%'}], 'size': '68.43', 'market': False, 'position_action': 'add_position'}
[_client.py][03:26:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:26:39] [INFO] 设置杠杆成功：100倍
[_client.py][03:26:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:26:40] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:26:40] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,635.89, min sell price: 2,532.48)', 'tag': '', 'ts': '1749497200472'}], 'inTime': '1749497200471848', 'msg': 'All operations failed', 'outTime': '1749497200472120'}}
[auto_trader.py][03:33:05] [INFO] 执行第1条交易指令: {'operation_comment': '当前持有BTC-USDT-SWAP多头仓位，但缺乏其市场数据，无法进行有效管理。暂时维持该仓位，但需警惕潜在风险。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}], 'size': 'N/A', 'market': False, 'position_action': 'maintain_position'}
[place_order.py][03:33:05] [ERROR] 订单数量必须大于0
[auto_trader.py][03:33:05] [INFO] 交易执行成功: {'success': False, 'error': '订单数量必须大于0', 'response': None}
[auto_trader.py][03:33:05] [INFO] 执行第2条交易指令: {'operation_comment': 'ETH-USDT-SWAP多头趋势强劲，等待回调至支撑位入场，以优化风险回报。基于可用保证金2%的风险控制计算仓位。', 'type': 'buy', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '0.5'}, {'price': 2780.0, 'size': '0.3'}, {'price': 2820.0, 'size': '0.2'}], 'size': 51.33, 'market': False, 'position_action': 'add_position'}
[_client.py][03:33:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:33:06] [INFO] 设置杠杆成功：100倍
[_client.py][03:33:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:33:07] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:33:07] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,632.9, min sell price: 2,529.6)', 'tag': '', 'ts': '1749497587461'}], 'inTime': '1749497587461347', 'msg': 'All operations failed', 'outTime': '1749497587461541'}}
[auto_trader.py][03:33:45] [INFO] 执行第1条交易指令: {'operation_comment': '当前持有BTC-USDT-SWAP多头仓位，但缺乏其市场数据，无法进行有效管理。暂时维持该仓位，但需警惕潜在风险。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': [{'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}], 'size': 'N/A', 'market': False, 'position_action': 'maintain_position'}
[place_order.py][03:33:45] [ERROR] 订单数量必须大于0
[auto_trader.py][03:33:45] [INFO] 交易执行成功: {'success': False, 'error': '订单数量必须大于0', 'response': None}
[auto_trader.py][03:33:45] [INFO] 执行第2条交易指令: {'operation_comment': 'ETH-USDT-SWAP多头趋势强劲，等待回调至支撑位入场，以优化风险回报。基于可用保证金2%的风险控制计算仓位。', 'type': 'buy', 'price': 2490.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': '0.5'}, {'price': 2780.0, 'size': '0.3'}, {'price': 2820.0, 'size': '0.2'}], 'size': 51.33, 'market': False, 'position_action': 'add_position'}
[_client.py][03:33:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:33:46] [INFO] 设置杠杆成功：100倍
[place_order.py][03:33:48] [ERROR] 下单失败，错误信息：TradeAPI.place_order() got an unexpected keyword argument 'slTriggerPx'
[auto_trader.py][03:33:48] [INFO] 交易执行成功: {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'slTriggerPx'", 'response': None}
[auto_trader.py][03:49:27] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'buy', 'price': 2425.0, 'stop_loss': 2380.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][03:49:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:49:28] [INFO] 设置杠杆成功：100倍
[place_order.py][03:49:30] [ERROR] 下单失败，错误信息：TradeAPI.place_order() got an unexpected keyword argument 'slTriggerPx'
[auto_trader.py][03:49:30] [INFO] 交易执行成功: {'success': False, 'error': "TradeAPI.place_order() got an unexpected keyword argument 'slTriggerPx'", 'response': None}
[auto_trader.py][03:50:09] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'buy', 'price': 2425.0, 'stop_loss': 2380.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][03:50:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:50:10] [INFO] 设置杠杆成功：100倍
[_client.py][03:50:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:50:11] [INFO] 下单成功：方向=buy, 价格=2425.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:50:11] [INFO] 交易执行成功: {'success': True, 'order_id': '2583564144067088384', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583564144067088384', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498611530'}], 'inTime': '1749498611529169', 'msg': '', 'outTime': '1749498611532326'}}
[auto_trader.py][03:51:58] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2425.0, 'stop_loss': 2380.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][03:51:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:51:59] [INFO] 设置杠杆成功：100倍
[_client.py][03:52:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:52:00] [ERROR] 下单失败，错误信息：All operations failed
[auto_trader.py][03:52:00] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 'sMsg': 'Order price is not within the price limit (max buy price: 2,632.69, min sell price: 2,529.39)', 'tag': '', 'ts': '1749498720505'}], 'inTime': '1749498720505594', 'msg': 'All operations failed', 'outTime': '1749498720505835'}}
[auto_trader.py][03:52:19] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][03:52:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:52:20] [INFO] 设置杠杆成功：100倍
[_client.py][03:52:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:52:21] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=cross, 杠杆=100倍
[auto_trader.py][03:52:21] [INFO] 交易执行成功: {'success': True, 'order_id': '2583568499835015168', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583568499835015168', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498741342'}], 'inTime': '1749498741341526', 'msg': '', 'outTime': '1749498741344676'}}
[auto_trader.py][03:53:01] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][03:53:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:53:02] [INFO] 设置杠杆成功：100倍
[_client.py][03:53:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:53:03] [INFO] 下单成功：方向=sell, 价格=market, 数量=45.62, 交易模式=cross, 杠杆=100倍
[auto_trader.py][03:53:03] [INFO] 交易执行成功: {'success': True, 'order_id': '2583569906503913472', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583569906503913472', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498783264'}], 'inTime': '1749498783264034', 'msg': '', 'outTime': '1749498783267144'}}
[auto_trader.py][03:53:23] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'buy', 'price': 2225.0, 'stop_loss': 2180.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][03:53:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:53:24] [INFO] 设置杠杆成功：100倍
[_client.py][03:53:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:53:25] [INFO] 下单成功：方向=buy, 价格=market, 数量=45.62, 交易模式=cross, 杠杆=100倍
[auto_trader.py][03:53:25] [INFO] 交易执行成功: {'success': True, 'order_id': '2583570636379918336', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583570636379918336', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498805016'}], 'inTime': '1749498805015702', 'msg': '', 'outTime': '1749498805018884'}}
[auto_trader.py][03:53:30] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'buy', 'price': 2225.0, 'stop_loss': 2180.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][03:53:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:53:31] [INFO] 设置杠杆成功：100倍
[_client.py][03:53:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:53:32] [INFO] 下单成功：方向=buy, 价格=market, 数量=45.62, 交易模式=cross, 杠杆=100倍
[auto_trader.py][03:53:32] [INFO] 交易执行成功: {'success': True, 'order_id': '2583570890688958464', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583570890688958464', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498812595'}], 'inTime': '1749498812594829', 'msg': '', 'outTime': '1749498812597996'}}
[auto_trader.py][03:55:09] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'buy', 'price': 2225.0, 'stop_loss': 2180.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][03:55:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:55:10] [INFO] 设置杠杆成功：100倍
[_client.py][03:55:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:55:11] [INFO] 下单成功：方向=buy, 价格=market, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:55:11] [INFO] 交易执行成功: {'success': True, 'order_id': '2583574188317872128', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583574188317872128', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498910872'}], 'inTime': '1749498910871105', 'msg': '', 'outTime': '1749498910874144'}}
[auto_trader.py][03:55:31] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][03:55:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:55:32] [INFO] 设置杠杆成功：100倍
[_client.py][03:55:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:55:33] [INFO] 下单成功：方向=sell, 价格=market, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:55:33] [INFO] 交易执行成功: {'success': True, 'order_id': '2583574943024156672', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583574943024156672', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749498933364'}], 'inTime': '1749498933364139', 'msg': '', 'outTime': '1749498933367227'}}
[auto_trader.py][03:59:14] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][03:59:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][03:59:14] [INFO] 设置杠杆成功：100倍
[_client.py][03:59:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][03:59:15] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][03:59:15] [INFO] 交易执行成功: {'success': True, 'order_id': '2583582406033149952', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583582406033149952', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749499155779'}], 'inTime': '1749499155777947', 'msg': '', 'outTime': '1749499155781019'}}
[auto_trader.py][04:01:07] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][04:01:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][04:01:08] [INFO] 设置杠杆成功：100倍
[_client.py][04:01:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][04:01:09] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][04:01:09] [INFO] 交易执行成功: {'success': True, 'order_id': '2583586212649242624', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583586212649242624', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749499269225'}], 'inTime': '1749499269224647', 'msg': '', 'outTime': '1749499269227718'}}
[auto_trader.py][04:02:01] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][04:02:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][04:02:02] [INFO] 设置杠杆成功：100倍
[_client.py][04:02:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][04:02:03] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][04:02:03] [INFO] 交易执行成功: {'success': True, 'order_id': '2583588013180063744', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583588013180063744', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749499322885'}], 'inTime': '1749499322884033', 'msg': '', 'outTime': '1749499322887242'}}
[auto_trader.py][04:02:11] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][04:02:12] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][04:02:12] [INFO] 设置杠杆成功：100倍
[_client.py][04:02:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][04:02:13] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][04:02:13] [INFO] 交易执行成功: {'success': True, 'order_id': '2583588375500820480', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583588375500820480', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749499333683'}], 'inTime': '1749499333681768', 'msg': '', 'outTime': '1749499333684890'}}
[auto_trader.py][04:06:33] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2780.0, 'size': 0.35}, {'price': 2820.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[auto_trader.py][04:06:33] [INFO] 收到平仓指令，开始执行批量撤单和市价平仓
[auto_trader.py][04:06:33] [INFO] 批量撤单完成
[_client.py][04:06:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][04:06:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:34] [INFO] 成功撤销限价订单 2583588375500820480
[_client.py][04:06:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][04:06:35] [INFO] 当前持仓:-324.91, 平仓方向:buy, 平仓数量:324.91
[_client.py][04:06:36] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[_client.py][04:06:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:36] [INFO] 成功撤销限价订单 2583588013180063744
[_client.py][04:06:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:36] [INFO] 成功撤销限价订单 2583586212649242624
[_client.py][04:06:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:37] [INFO] 成功撤销限价订单 2583582406033149952
[_client.py][04:06:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:37] [INFO] 成功撤销限价订单 2583568499835015168
[_client.py][04:06:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][04:06:37] [INFO] 成功撤销限价订单 2583564144067088384
[place_order.py][04:06:37] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'cross', 'side': 'buy', 'ordType': 'market', 'sz': '324.91'}
[_client.py][04:06:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][04:06:38] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2583597244809613312', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749499598009'}], 'inTime': '1749499598008197', 'msg': '', 'outTime': '1749499598011283'}
[auto_trader.py][04:06:38] [INFO] 市价平仓执行成功
[auto_trader.py][08:40:59] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:41:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:41:00] [INFO] 设置杠杆成功：100倍
[_client.py][08:41:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:41:01] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:41:01] [INFO] 交易执行成功: {'success': True, 'order_id': '2584149646155583488', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584149646155583488', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516060852'}], 'inTime': '1749516060851630', 'msg': '', 'outTime': '1749516060854508'}}
[auto_trader.py][08:41:22] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:41:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:41:23] [INFO] 设置杠杆成功：100倍
[_client.py][08:41:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:41:24] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:41:24] [INFO] 交易执行成功: {'success': True, 'order_id': '2584150438409277440', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584150438409277440', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516084463'}], 'inTime': '1749516084463068', 'msg': '', 'outTime': '1749516084466235'}}
[auto_trader.py][08:41:26] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:41:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:41:27] [INFO] 设置杠杆成功：100倍
[_client.py][08:41:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:41:28] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:41:28] [INFO] 交易执行成功: {'success': True, 'order_id': '2584150560950063104', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584150560950063104', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516088115'}], 'inTime': '1749516088113607', 'msg': '', 'outTime': '1749516088116777'}}
[auto_trader.py][08:41:38] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:41:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:41:39] [INFO] 设置杠杆成功：100倍
[_client.py][08:41:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:41:40] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:41:40] [INFO] 交易执行成功: {'success': True, 'order_id': '2584150956422598656', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584150956422598656', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516099901'}], 'inTime': '1749516099900554', 'msg': '', 'outTime': '1749516099903621'}}
[auto_trader.py][08:41:56] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:41:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:41:57] [INFO] 设置杠杆成功：100倍
[_client.py][08:41:58] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:41:58] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:41:58] [INFO] 交易执行成功: {'success': True, 'order_id': '2584151562616967168', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584151562616967168', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516117967'}], 'inTime': '1749516117966374', 'msg': '', 'outTime': '1749516117969664'}}
[auto_trader.py][08:43:36] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:43:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:43:37] [INFO] 设置杠杆成功：100倍
[_client.py][08:43:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:43:38] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:43:38] [INFO] 交易执行成功: {'success': True, 'order_id': '2584154916315336704', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584154916315336704', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516217915'}], 'inTime': '1749516217914996', 'msg': '', 'outTime': '1749516217918229'}}
[auto_trader.py][08:51:12] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][08:51:12] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][08:51:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-batch-orders "HTTP/2 200 OK"
[place_order.py][08:51:13] [WARNING] 撤销所有挂单失败 - ETH-USDT-SWAP, 响应: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51003', 'sMsg': 'Either client order ID or order ID is required.', 'ts': '1749516673662'}], 'inTime': '1749516673661908', 'msg': '', 'outTime': '1749516673662113'}
[auto_trader.py][08:51:13] [INFO] 撤销所有挂单结果: {'success': False, 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51003', 'sMsg': 'Either client order ID or order ID is required.', 'ts': '1749516673662'}], 'inTime': '1749516673661908', 'msg': '', 'outTime': '1749516673662113'}}
[_client.py][08:51:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][08:51:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][08:51:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:51:15] [INFO] 成功撤销限价订单 2584154916315336704
[_client.py][08:51:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][08:51:15] [ERROR] 当前没有持仓
[auto_trader.py][08:51:15] [INFO] 交易执行成功: {'success': False, 'error': '当前没有持仓', 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749498910873', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2583574188351426560', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1051713342', 'uTime': '1749498933365', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749451655811', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1051714649', 'uTime': '1749499598010', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][08:53:44] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][08:53:44] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][08:53:45] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][08:53:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:53:45] [INFO] 成功撤销限价订单 2584151562616967168
[_client.py][08:53:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:53:46] [INFO] 成功撤销限价订单 2584150956422598656
[_client.py][08:53:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:53:46] [INFO] 成功撤销限价订单 2584150560950063104
[_client.py][08:53:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:53:46] [INFO] 成功撤销限价订单 2584150438409277440
[_client.py][08:53:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:53:47] [INFO] 成功撤销限价订单 2584149646155583488
[place_order.py][08:53:47] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][08:53:47] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 5/5 orders', 'success_count': 5, 'total_orders': 5}}
[_client.py][08:53:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][08:53:48] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][08:54:10] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][08:54:10] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][08:54:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][08:54:11] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][08:54:11] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][08:54:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][08:54:12] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][08:54:33] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][08:54:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:54:34] [INFO] 设置杠杆成功：100倍
[_client.py][08:54:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:54:35] [INFO] 下单成功：方向=sell, 价格=2725.0, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:54:35] [INFO] 交易执行成功: {'success': True, 'order_id': '2584176971442163712', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584176971442163712', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516875209'}], 'inTime': '1749516875208345', 'msg': '', 'outTime': '1749516875211380'}}
[auto_trader.py][08:54:44] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': True, 'position_action': 'add_position'}
[_client.py][08:54:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][08:54:45] [INFO] 设置杠杆成功：100倍
[_client.py][08:54:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:54:47] [INFO] 下单成功：方向=sell, 价格=market, 数量=45.62, 交易模式=isolated, 杠杆=100倍
[auto_trader.py][08:54:47] [INFO] 交易执行成功: {'success': True, 'order_id': '2584177373357150208', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584177373357150208', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516887187'}], 'inTime': '1749516887186305', 'msg': '', 'outTime': '1749516887189328'}}
[auto_trader.py][08:54:55] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][08:54:55] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][08:54:56] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][08:54:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:54:56] [INFO] 成功撤销限价订单 2584176971442163712
[place_order.py][08:54:56] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][08:54:56] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 1/1 orders', 'success_count': 1, 'total_orders': 1}}
[_client.py][08:54:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][08:54:57] [INFO] 当前持仓: 45.62 (net)
[_client.py][08:54:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][08:54:57] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][08:54:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][08:54:58] [INFO] 当前持仓:-45.62, 平仓方向:buy, 平仓数量:45.62
[_client.py][08:54:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[place_order.py][08:54:58] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'ordType': 'market', 'sz': '45.62'}
[_client.py][08:54:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][08:54:59] [INFO] 平仓成功: {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584177764199174144', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516898835'}], 'inTime': '1749516898833749', 'msg': '', 'outTime': '1749516898836700'}
[auto_trader.py][08:54:59] [INFO] 交易执行成功: {'success': True, 'order_id': '2584177764199174144', 'message': '平仓订单已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584177764199174144', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749516898835'}], 'inTime': '1749516898833749', 'msg': '', 'outTime': '1749516898836700'}}
[auto_trader.py][08:58:48] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][08:58:48] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][08:58:49] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][08:58:49] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][08:58:49] [INFO] 成功撤销限价订单 2584184882201497600
[place_order.py][08:58:49] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][08:58:49] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 1/1 orders', 'success_count': 1, 'total_orders': 1}}
[_client.py][08:58:50] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][08:58:50] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][09:05:42] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'close', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'close_position'}
[place_order.py][09:05:42] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][09:05:43] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][09:05:43] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][09:05:43] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][09:05:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][09:05:44] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][09:05:53] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:05:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[_client.py][09:05:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:05:56] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517555842'}], 'inTime': '1749517555841950', 'msg': 'All operations failed', 'outTime': '1749517555842058'}
[auto_trader.py][09:05:56] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517555842'}], 'inTime': '1749517555841950', 'msg': 'All operations failed', 'outTime': '1749517555842058'}}
[auto_trader.py][09:07:50] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:07:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[_client.py][09:07:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:07:52] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517672585'}], 'inTime': '1749517672585099', 'msg': 'All operations failed', 'outTime': '1749517672585182'}
[auto_trader.py][09:07:52] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517672585'}], 'inTime': '1749517672585099', 'msg': 'All operations failed', 'outTime': '1749517672585182'}}
[auto_trader.py][09:12:27] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:12:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[_client.py][09:12:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:12:29] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517949578'}], 'inTime': '1749517949578444', 'msg': 'All operations failed', 'outTime': '1749517949578530'}
[auto_trader.py][09:12:29] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749517949578'}], 'inTime': '1749517949578444', 'msg': 'All operations failed', 'outTime': '1749517949578530'}}
[auto_trader.py][09:13:45] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:13:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:13:46] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'short', 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[_client.py][09:13:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:13:47] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749518027515'}], 'inTime': '1749518027515021', 'msg': 'All operations failed', 'outTime': '1749518027515126'}
[auto_trader.py][09:13:47] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749518027515'}], 'inTime': '1749518027515021', 'msg': 'All operations failed', 'outTime': '1749518027515126'}}
[auto_trader.py][09:14:28] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:14:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:14:29] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': False, 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[_client.py][09:14:30] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:14:30] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749518070053'}], 'inTime': '1749518070053489', 'msg': 'All operations failed', 'outTime': '1749518070053609'}
[auto_trader.py][09:14:30] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749518070053'}], 'inTime': '1749518070053489', 'msg': 'All operations failed', 'outTime': '1749518070053609'}}
[auto_trader.py][09:14:42] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:14:43] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:14:43] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[_client.py][09:14:44] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:14:44] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518084764'}], 'inTime': '1749518084763326', 'msg': 'All operations failed', 'outTime': '1749518084766003'}
[auto_trader.py][09:14:44] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518084764'}], 'inTime': '1749518084763326', 'msg': 'All operations failed', 'outTime': '1749518084766003'}}
[auto_trader.py][09:16:09] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:16:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:16:10] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[_client.py][09:16:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:16:11] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518171589'}], 'inTime': '1749518171588380', 'msg': 'All operations failed', 'outTime': '1749518171591151'}
[auto_trader.py][09:16:11] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518171589'}], 'inTime': '1749518171588380', 'msg': 'All operations failed', 'outTime': '1749518171591151'}}
[auto_trader.py][09:17:09] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[_client.py][09:17:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:17:10] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[_client.py][09:17:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:17:11] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518231479'}], 'inTime': '1749518231478794', 'msg': 'All operations failed', 'outTime': '1749518231481573'}
[auto_trader.py][09:17:11] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749518231479'}], 'inTime': '1749518231478794', 'msg': 'All operations failed', 'outTime': '1749518231481573'}}
[auto_trader.py][09:18:48] [INFO] 执行第1条交易指令: {'operation_comment': '基于多时间框架看涨共振、MACD强劲动能和持仓量增长，ETH-USDT-SWAP呈现强劲上涨趋势。尽管恐慌贪婪指数较高，但判断为健康牛市情绪。计划在突破关键阻力后入场做多，严格控制风险。', 'type': 'sell', 'price': 2725.0, 'stop_loss': 2880.0, 'take_profit': [{'price': 2750.0, 'size': 0.25}, {'price': 2740.0, 'size': 0.35}, {'price': 2730.0, 'size': 0.4}], 'size': 45.62, 'market': False, 'position_action': 'add_position'}
[place_order.py][09:18:48] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'limit', 'sz': '45.62', 'px': '2725.0'}
[auto_trader.py][09:18:48] [ERROR] 执行交易失败: 'NoneType' object has no attribute 'get'
[auto_trader.py][09:22:44] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架看涨共振和积极市场情绪，开仓做多ETHUSDT。', 'side': 'buy', 'posSide': 'long', 'price': 2707.56, 'stop_loss': 2670, 'take_profit': [{'price': 2730, 'size': 18.22}, {'price': 2750, 'size': 18.22}, {'price': 2780, 'size': 18.22}], 'size': 54.66, 'market': False, 'position_action': 'add_position'}
[place_order.py][09:22:44] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '54.66', 'px': '2707.56'}
[auto_trader.py][09:22:44] [ERROR] 执行交易失败: 'NoneType' object has no attribute 'get'
[auto_trader.py][09:25:56] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架看涨共振和积极市场情绪，开仓做多ETHUSDT。', 'side': 'buy', 'posSide': 'long', 'price': 2707.56, 'stop_loss': 2670, 'take_profit': [{'price': 2730, 'size': 18.22}, {'price': 2750, 'size': 18.22}, {'price': 2780, 'size': 18.22}], 'size': 54.66, 'market': False, 'position_action': 'add_position'}
[place_order.py][09:25:56] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '54.66', 'px': '2707.56'}
[auto_trader.py][09:25:56] [ERROR] 执行交易失败: 'NoneType' object has no attribute 'get'
[auto_trader.py][09:37:45] [INFO] 执行第1条交易指令: close
[auto_trader.py][09:37:45] [ERROR] 执行交易失败: 'str' object has no attribute 'get'
[auto_trader.py][09:37:45] [INFO] 执行第2条交易指令: items
[auto_trader.py][09:37:45] [ERROR] 执行交易失败: 'str' object has no attribute 'get'
[auto_trader.py][09:38:18] [INFO] 执行第1条交易指令: close
[auto_trader.py][09:38:18] [ERROR] 执行交易失败: 'str' object has no attribute 'get'
[auto_trader.py][09:38:18] [INFO] 执行第2条交易指令: items
[auto_trader.py][09:38:18] [ERROR] 执行交易失败: 'str' object has no attribute 'get'
[auto_trader.py][09:39:45] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:39:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:39:46] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:39:46] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0'}
[_client.py][09:39:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:39:47] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter posSide error ",
            "tag": "",
            "ts": "1749519587464"
        }
    ],
    "inTime": "1749519587463526",
    "msg": "All operations failed",
    "outTime": "1749519587466215"
}
[place_order.py][09:39:47] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519587464'}], 'inTime': '1749519587463526', 'msg': 'All operations failed', 'outTime': '1749519587466215'}
[auto_trader.py][09:39:47] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519587464'}], 'inTime': '1749519587463526', 'msg': 'All operations failed', 'outTime': '1749519587466215'}}
[auto_trader.py][09:39:47] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519587464'}], 'inTime': '1749519587463526', 'msg': 'All operations failed', 'outTime': '1749519587466215'}}
[auto_trader.py][09:40:27] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:40:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:40:28] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:40:28] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "posSide": "long",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0"
}
[_client.py][09:40:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:40:29] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter posSide error ",
            "tag": "",
            "ts": "1749519629099"
        }
    ],
    "inTime": "1749519629099064",
    "msg": "All operations failed",
    "outTime": "1749519629101816"
}
[place_order.py][09:40:29] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519629099'}], 'inTime': '1749519629099064', 'msg': 'All operations failed', 'outTime': '1749519629101816'}
[auto_trader.py][09:40:29] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519629099'}], 'inTime': '1749519629099064', 'msg': 'All operations failed', 'outTime': '1749519629101816'}}
[auto_trader.py][09:40:29] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749519629099'}], 'inTime': '1749519629099064', 'msg': 'All operations failed', 'outTime': '1749519629101816'}}
[auto_trader.py][09:40:52] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:40:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:40:53] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:40:53] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0"
}
[_client.py][09:40:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:40:54] [INFO] 下单API响应: {
    "code": "0",
    "data": [
        {
            "clOrdId": "",
            "ordId": "2584270208236392448",
            "sCode": "0",
            "sMsg": "Order placed",
            "tag": "",
            "ts": "1749519653882"
        }
    ],
    "inTime": "1749519653881793",
    "msg": "",
    "outTime": "1749519653884806"
}
[place_order.py][09:40:54] [INFO] 下单成功，订单ID: 2584270208236392448
[auto_trader.py][09:40:54] [INFO] 下单结果: {'success': True, 'order_id': '2584270208236392448', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584270208236392448', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749519653882'}], 'inTime': '1749519653881793', 'msg': '', 'outTime': '1749519653884806'}}
[auto_trader.py][09:40:54] [INFO] 交易执行成功: {'success': True, 'order_id': '2584270208236392448', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584270208236392448', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749519653882'}], 'inTime': '1749519653881793', 'msg': '', 'outTime': '1749519653884806'}}
[auto_trader.py][09:45:23] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:45:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:45:24] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:45:24] [ERROR] posSide参数未指定且无法推断，下单失败。
[auto_trader.py][09:45:24] [INFO] 下单结果: {'success': False, 'error': 'posSide参数缺失', 'response': None}
[auto_trader.py][09:45:24] [INFO] 交易执行成功: {'success': False, 'error': 'posSide参数缺失', 'response': None}
[auto_trader.py][09:45:46] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:45:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:45:47] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:45:47] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "tpTriggerPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]"
    }
}
[_client.py][09:45:48] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:45:48] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "50016",
            "sMsg": "tpTriggerPx and tpOrdPx don't match",
            "tag": "",
            "ts": "1749519948335"
        }
    ],
    "inTime": "1749519948334947",
    "msg": "All operations failed",
    "outTime": "1749519948335149"
}
[place_order.py][09:45:48] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '50016', 'sMsg': "tpTriggerPx and tpOrdPx don't match", 'tag': '', 'ts': '1749519948335'}], 'inTime': '1749519948334947', 'msg': 'All operations failed', 'outTime': '1749519948335149'}
[auto_trader.py][09:45:48] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '50016', 'sMsg': "tpTriggerPx and tpOrdPx don't match", 'tag': '', 'ts': '1749519948335'}], 'inTime': '1749519948334947', 'msg': 'All operations failed', 'outTime': '1749519948335149'}}
[auto_trader.py][09:45:48] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '50016', 'sMsg': "tpTriggerPx and tpOrdPx don't match", 'tag': '', 'ts': '1749519948335'}], 'inTime': '1749519948334947', 'msg': 'All operations failed', 'outTime': '1749519948335149'}}
[auto_trader.py][09:47:26] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:47:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:47:27] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:47:27] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1"
    }
}
[_client.py][09:47:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:47:28] [INFO] 下单API响应: {
    "code": "0",
    "data": [
        {
            "clOrdId": "",
            "ordId": "2584283456465670144",
            "sCode": "0",
            "sMsg": "Order placed",
            "tag": "",
            "ts": "1749520048710"
        }
    ],
    "inTime": "1749520048709811",
    "msg": "",
    "outTime": "1749520048713147"
}
[place_order.py][09:47:28] [INFO] 下单成功，订单ID: 2584283456465670144
[auto_trader.py][09:47:28] [INFO] 下单结果: {'success': True, 'order_id': '2584283456465670144', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584283456465670144', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749520048710'}], 'inTime': '1749520048709811', 'msg': '', 'outTime': '1749520048713147'}}
[auto_trader.py][09:47:28] [INFO] 交易执行成功: {'success': True, 'order_id': '2584283456465670144', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584283456465670144', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749520048710'}], 'inTime': '1749520048709811', 'msg': '', 'outTime': '1749520048713147'}}
[auto_trader.py][09:50:05] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:50:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:50:06] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:50:06] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1",
        "tpTriggerPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "tpOrdPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "sz": "68.43"
    }
}
[_client.py][09:50:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:50:07] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520207549"
        }
    ],
    "inTime": "1749520207549188",
    "msg": "All operations failed",
    "outTime": "1749520207549398"
}
[place_order.py][09:50:07] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520207549'}], 'inTime': '1749520207549188', 'msg': 'All operations failed', 'outTime': '1749520207549398'}
[auto_trader.py][09:50:07] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520207549'}], 'inTime': '1749520207549188', 'msg': 'All operations failed', 'outTime': '1749520207549398'}}
[auto_trader.py][09:50:07] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520207549'}], 'inTime': '1749520207549188', 'msg': 'All operations failed', 'outTime': '1749520207549398'}}
[auto_trader.py][09:53:15] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:53:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:53:16] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:53:16] [ERROR] 下单过程发生异常: 0
[auto_trader.py][09:53:16] [INFO] 下单结果: {'success': False, 'error': '0', 'response': None}
[auto_trader.py][09:53:16] [INFO] 交易执行成功: {'success': False, 'error': '0', 'response': None}
[auto_trader.py][09:53:31] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:53:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:53:32] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:53:32] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1",
        "tpTriggerPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "tpOrdPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "sz": "68.43"
    }
}
[_client.py][09:53:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:53:33] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520412856"
        }
    ],
    "inTime": "1749520412856374",
    "msg": "All operations failed",
    "outTime": "1749520412856721"
}
[place_order.py][09:53:33] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520412856'}], 'inTime': '1749520412856374', 'msg': 'All operations failed', 'outTime': '1749520412856721'}
[auto_trader.py][09:53:33] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520412856'}], 'inTime': '1749520412856374', 'msg': 'All operations failed', 'outTime': '1749520412856721'}}
[auto_trader.py][09:53:33] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520412856'}], 'inTime': '1749520412856374', 'msg': 'All operations failed', 'outTime': '1749520412856721'}}
[auto_trader.py][09:54:36] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:54:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:54:37] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:54:37] [ERROR] 下单过程发生异常: 0
[auto_trader.py][09:54:37] [INFO] 下单结果: {'success': False, 'error': '0', 'response': None}
[auto_trader.py][09:54:37] [INFO] 交易执行成功: {'success': False, 'error': '0', 'response': None}
[auto_trader.py][09:57:50] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:57:51] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:57:51] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:57:51] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1",
        "tpTriggerPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "tpOrdPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "sz": "68.43"
    }
}
[_client.py][09:57:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:57:52] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520672240"
        }
    ],
    "inTime": "1749520672240648",
    "msg": "All operations failed",
    "outTime": "1749520672240845"
}
[place_order.py][09:57:52] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520672240'}], 'inTime': '1749520672240648', 'msg': 'All operations failed', 'outTime': '1749520672240845'}
[auto_trader.py][09:57:52] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520672240'}], 'inTime': '1749520672240648', 'msg': 'All operations failed', 'outTime': '1749520672240845'}}
[auto_trader.py][09:57:52] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520672240'}], 'inTime': '1749520672240648', 'msg': 'All operations failed', 'outTime': '1749520672240845'}}
[auto_trader.py][09:58:06] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:58:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:58:07] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:58:07] [INFO] 止盈参数: ['22.81', '22.81', '22.81'], 止盈价格: ['2750.0', '2800.0', '2850.0']
[place_order.py][09:58:07] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1",
        "tpTriggerPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "tpOrdPx": "[{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}]",
        "sz": "68.43"
    }
}
[_client.py][09:58:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:58:08] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520688584"
        }
    ],
    "inTime": "1749520688583929",
    "msg": "All operations failed",
    "outTime": "1749520688584096"
}
[place_order.py][09:58:08] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520688584'}], 'inTime': '1749520688583929', 'msg': 'All operations failed', 'outTime': '1749520688584096'}
[auto_trader.py][09:58:08] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520688584'}], 'inTime': '1749520688583929', 'msg': 'All operations failed', 'outTime': '1749520688584096'}}
[auto_trader.py][09:58:08] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520688584'}], 'inTime': '1749520688583929', 'msg': 'All operations failed', 'outTime': '1749520688584096'}}
[auto_trader.py][09:59:03] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][09:59:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][09:59:05] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][09:59:05] [INFO] 止盈参数: ['22.81', '22.81', '22.81'], 止盈价格: ['2750.0', '2800.0', '2850.0']
[place_order.py][09:59:05] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": {
        "slTriggerPx": "2650.0",
        "slOrdPx": "-1",
        "tpTriggerPx": [
            "2750.0",
            "2800.0",
            "2850.0"
        ],
        "tpOrdPx": [
            "2750.0",
            "2800.0",
            "2850.0"
        ],
        "sz": [
            "22.81",
            "22.81",
            "22.81"
        ]
    }
}
[_client.py][09:59:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][09:59:06] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520745865"
        }
    ],
    "inTime": "1749520745865399",
    "msg": "All operations failed",
    "outTime": "1749520745865595"
}
[place_order.py][09:59:06] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520745865'}], 'inTime': '1749520745865399', 'msg': 'All operations failed', 'outTime': '1749520745865595'}
[auto_trader.py][09:59:06] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520745865'}], 'inTime': '1749520745865399', 'msg': 'All operations failed', 'outTime': '1749520745865595'}}
[auto_trader.py][09:59:06] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520745865'}], 'inTime': '1749520745865399', 'msg': 'All operations failed', 'outTime': '1749520745865595'}}
[auto_trader.py][10:03:05] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:03:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:03:06] [INFO] 设置杠杆倍数为 100x，产品ID: ETH-USDT-SWAP
[place_order.py][10:03:06] [INFO] 止盈参数: ['22.81', '22.81', '22.81'], 止盈价格: ['2750.0', '2800.0', '2850.0']
[place_order.py][10:03:06] [INFO] 准备下单参数: {
    "instId": "ETH-USDT-SWAP",
    "tdMode": "isolated",
    "side": "buy",
    "ordType": "limit",
    "sz": "68.43",
    "px": "2690.0",
    "attachAlgoOrds": [
        {
            "slTriggerPx": "2650.0",
            "slOrdPx": "-1",
            "tpTriggerPx": [
                "2750.0",
                "2800.0",
                "2850.0"
            ],
            "tpOrdPx": [
                "2750.0",
                "2800.0",
                "2850.0"
            ],
            "sz": [
                "22.81",
                "22.81",
                "22.81"
            ]
        }
    ]
}
[_client.py][10:03:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:03:07] [INFO] 下单API响应: {
    "code": "1",
    "data": [
        {
            "clOrdId": "",
            "ordId": "",
            "sCode": "51000",
            "sMsg": "Parameter tpTriggerPx error",
            "tag": "",
            "ts": "1749520986971"
        }
    ],
    "inTime": "1749520986970918",
    "msg": "All operations failed",
    "outTime": "1749520986971134"
}
[place_order.py][10:03:07] [ERROR] 下单失败，错误信息: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520986971'}], 'inTime': '1749520986970918', 'msg': 'All operations failed', 'outTime': '1749520986971134'}
[auto_trader.py][10:03:07] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520986971'}], 'inTime': '1749520986970918', 'msg': 'All operations failed', 'outTime': '1749520986971134'}}
[auto_trader.py][10:03:07] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpTriggerPx error', 'tag': '', 'ts': '1749520986971'}], 'inTime': '1749520986970918', 'msg': 'All operations failed', 'outTime': '1749520986971134'}}
[auto_trader.py][10:03:39] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:03:40] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:03:40] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '2750.0', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '2800.0', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '2850.0', 'sz': '22.81'}]}
[_client.py][10:03:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:03:41] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51082', 'sMsg': 'TP trigger prices (tpOrdPx) in one order with multiple TPs must be market prices.', 'tag': '', 'ts': '1749521021188'}], 'inTime': '1749521021188028', 'msg': 'All operations failed', 'outTime': '1749521021188330'}
[auto_trader.py][10:03:41] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51082', 'sMsg': 'TP trigger prices (tpOrdPx) in one order with multiple TPs must be market prices.', 'tag': '', 'ts': '1749521021188'}], 'inTime': '1749521021188028', 'msg': 'All operations failed', 'outTime': '1749521021188330'}}
[auto_trader.py][10:03:41] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51082', 'sMsg': 'TP trigger prices (tpOrdPx) in one order with multiple TPs must be market prices.', 'tag': '', 'ts': '1749521021188'}], 'inTime': '1749521021188028', 'msg': 'All operations failed', 'outTime': '1749521021188330'}}
[auto_trader.py][10:05:00] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:05:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:05:01] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '{-1}', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '{-1}', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '{-1}', 'sz': '22.81'}]}
[_client.py][10:05:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:05:02] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521102231'}], 'inTime': '1749521102231508', 'msg': 'All operations failed', 'outTime': '1749521102231737'}
[auto_trader.py][10:05:02] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521102231'}], 'inTime': '1749521102231508', 'msg': 'All operations failed', 'outTime': '1749521102231737'}}
[auto_trader.py][10:05:02] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521102231'}], 'inTime': '1749521102231508', 'msg': 'All operations failed', 'outTime': '1749521102231737'}}
[auto_trader.py][10:05:37] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:05:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:05:38] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '22.81'}]}
[_client.py][10:05:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:05:39] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521139306'}], 'inTime': '1749521139305031', 'msg': 'All operations failed', 'outTime': '1749521139308119'}
[auto_trader.py][10:05:39] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521139306'}], 'inTime': '1749521139305031', 'msg': 'All operations failed', 'outTime': '1749521139308119'}}
[auto_trader.py][10:05:39] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521139306'}], 'inTime': '1749521139305031', 'msg': 'All operations failed', 'outTime': '1749521139308119'}}
[auto_trader.py][10:07:14] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:07:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:07:15] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': {'-1'}, 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': {'-1'}, 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': {'-1'}, 'sz': '22.81'}]}
[place_order.py][10:07:15] [ERROR] 下单过程发生异常: Object of type set is not JSON serializable
Traceback (most recent call last):
  File "/home/li-xufeng/codespace/taishang/function/trade/place_order.py", line 150, in place_order
    response = tradeAPI.place_order(**order_params)
  File "/home/li-xufeng/codespace/taishang/.venv/lib/python3.13/site-packages/okx/Trade.py", line 20, in place_order
    return self._request_with_params(POST, PLACR_ORDER, params)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/li-xufeng/codespace/taishang/.venv/lib/python3.13/site-packages/okx/okxclient.py", line 55, in _request_with_params
    return self._request(method, request_path, params)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/li-xufeng/codespace/taishang/.venv/lib/python3.13/site-packages/okx/okxclient.py", line 34, in _request
    body = json.dumps(params) if method == c.POST else ""
           ~~~~~~~~~~^^^^^^^^
  File "/home/li-xufeng/.local/share/uv/python/cpython-3.13.4-linux-x86_64-gnu/lib/python3.13/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/li-xufeng/.local/share/uv/python/cpython-3.13.4-linux-x86_64-gnu/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/li-xufeng/.local/share/uv/python/cpython-3.13.4-linux-x86_64-gnu/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/li-xufeng/.local/share/uv/python/cpython-3.13.4-linux-x86_64-gnu/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type set is not JSON serializable
[auto_trader.py][10:07:15] [INFO] 下单结果: {'success': False, 'error': 'Object of type set is not JSON serializable', 'response': None}
[auto_trader.py][10:07:15] [INFO] 交易执行成功: {'success': False, 'error': 'Object of type set is not JSON serializable', 'response': None}
[auto_trader.py][10:07:30] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:07:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:07:31] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': ['-1', '-1', '-1'], 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': ['-1', '-1', '-1'], 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': ['-1', '-1', '-1'], 'sz': '22.81'}]}
[_client.py][10:07:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:07:33] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521253079'}], 'inTime': '1749521253079649', 'msg': 'All operations failed', 'outTime': '1749521253079976'}
[auto_trader.py][10:07:33] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521253079'}], 'inTime': '1749521253079649', 'msg': 'All operations failed', 'outTime': '1749521253079976'}}
[auto_trader.py][10:07:33] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdPx error', 'tag': '', 'ts': '1749521253079'}], 'inTime': '1749521253079649', 'msg': 'All operations failed', 'outTime': '1749521253079976'}}
[auto_trader.py][10:07:51] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:07:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:07:52] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '22.81'}]}
[_client.py][10:07:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:07:53] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521273084'}], 'inTime': '1749521273083108', 'msg': 'All operations failed', 'outTime': '1749521273085994'}
[auto_trader.py][10:07:53] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521273084'}], 'inTime': '1749521273083108', 'msg': 'All operations failed', 'outTime': '1749521273085994'}}
[auto_trader.py][10:07:53] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521273084'}], 'inTime': '1749521273083108', 'msg': 'All operations failed', 'outTime': '1749521273085994'}}
[auto_trader.py][10:08:20] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:08:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:08:21] [INFO] 下单参数: instrument_id=ETH-USDT-SWAP, side=buy, size=68.43, price=2690.0, leverage=100, order_type=limit, tdMode=isolated, posSide=long
[place_order.py][10:08:21] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '22.81'}]}
[_client.py][10:08:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:08:22] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521302714'}], 'inTime': '1749521302713695', 'msg': 'All operations failed', 'outTime': '1749521302716578'}
[auto_trader.py][10:08:22] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521302714'}], 'inTime': '1749521302713695', 'msg': 'All operations failed', 'outTime': '1749521302716578'}}
[auto_trader.py][10:08:22] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521302714'}], 'inTime': '1749521302713695', 'msg': 'All operations failed', 'outTime': '1749521302716578'}}
[auto_trader.py][10:09:46] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:09:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:09:47] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '22.81'}]}
[_client.py][10:09:48] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:09:48] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521388226'}], 'inTime': '1749521388225160', 'msg': 'All operations failed', 'outTime': '1749521388228257'}
[auto_trader.py][10:09:48] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521388226'}], 'inTime': '1749521388225160', 'msg': 'All operations failed', 'outTime': '1749521388228257'}}
[auto_trader.py][10:09:48] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749521388226'}], 'inTime': '1749521388225160', 'msg': 'All operations failed', 'outTime': '1749521388228257'}}
[auto_trader.py][10:21:41] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:21:42] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][10:21:43] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 400 Bad Request"
[place_order.py][10:21:43] [ERROR] 设置杠杆失败: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[auto_trader.py][10:21:43] [INFO] 下单结果: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:21:43] [INFO] 交易执行成功: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:22:30] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:22:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:22:31] [INFO] 设置持仓模式成功: {'code': '0', 'data': [{'posMode': 'long_short_mode'}], 'msg': ''}
[_client.py][10:22:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 400 Bad Request"
[place_order.py][10:22:32] [ERROR] 设置杠杆失败: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[auto_trader.py][10:22:32] [INFO] 下单结果: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:22:32] [INFO] 交易执行成功: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:23:05] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:23:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:23:06] [INFO] 设置持仓模式成功: {'code': '0', 'data': [{'posMode': 'long_short_mode'}], 'msg': ''}
[_client.py][10:23:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 400 Bad Request"
[place_order.py][10:23:06] [ERROR] 设置杠杆失败: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[auto_trader.py][10:23:06] [INFO] 下单结果: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:23:06] [INFO] 交易执行成功: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:24:04] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:24:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:24:05] [INFO] 设置持仓模式成功: {'code': '0', 'data': [{'posMode': 'long_short_mode'}], 'msg': ''}
[_client.py][10:24:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 400 Bad Request"
[place_order.py][10:24:05] [ERROR] 设置杠杆失败: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[auto_trader.py][10:24:05] [INFO] 下单结果: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:24:05] [INFO] 交易执行成功: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:24:38] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:24:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:24:39] [INFO] 设置持仓模式成功: {'code': '0', 'data': [{'posMode': 'long_short_mode'}], 'msg': ''}
[_client.py][10:24:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 400 Bad Request"
[place_order.py][10:24:39] [ERROR] 设置杠杆失败: {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}
[auto_trader.py][10:24:39] [INFO] 下单结果: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:24:39] [INFO] 交易执行成功: {'success': False, 'error': '设置杠杆失败', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][10:26:08] [INFO] 执行第1条交易指令: {'operation_comment': '在健康回调区域入场做多ETH-USDT-SWAP，等待价格回踩至支撑位。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 22.81}, {'price': 2800.0, 'size': 22.81}, {'price': 2850.0, 'size': 22.81}], 'size': 68.43, 'market': False, 'position_action': 'add_position'}
[_client.py][10:26:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:26:09] [INFO] 设置持仓模式成功: {'code': '0', 'data': [{'posMode': 'long_short_mode'}], 'msg': ''}
[_client.py][10:26:09] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:26:09] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][10:26:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:26:10] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '68.43', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '68.43'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '22.81'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '22.81'}]}
[_client.py][10:26:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:26:11] [INFO] 下单成功 - ordId: 2584361385224699904
[auto_trader.py][10:26:11] [INFO] 下单结果: {'success': True, 'order_id': '2584361385224699904', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584361385224699904', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749522371168'}], 'inTime': '1749522371166705', 'msg': '', 'outTime': '1749522371171414'}}
[auto_trader.py][10:26:11] [INFO] 交易执行成功: {'success': True, 'order_id': '2584361385224699904', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584361385224699904', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749522371168'}], 'inTime': '1749522371166705', 'msg': '', 'outTime': '1749522371171414'}}
[auto_trader.py][10:38:54] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][10:38:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:38:55] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[auto_trader.py][10:38:55] [INFO] 下单结果: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][10:38:55] [INFO] 交易执行成功: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][10:42:12] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][10:42:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:42:13] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[auto_trader.py][10:42:13] [INFO] 下单结果: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][10:42:13] [INFO] 交易执行成功: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][10:44:31] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][10:44:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][10:44:32] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[place_order.py][10:44:32] [INFO] 设置持仓模式成功: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[_client.py][10:44:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:44:32] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][10:44:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][10:44:32] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][10:44:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][10:44:33] [INFO] 下单成功 - ordId: 2584398383918481408
[auto_trader.py][10:44:33] [INFO] 下单结果: {'success': True, 'order_id': '2584398383918481408', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584398383918481408', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749523473815'}], 'inTime': '1749523473813871', 'msg': '', 'outTime': '1749523473817805'}}
[auto_trader.py][10:44:33] [INFO] 交易执行成功: {'success': True, 'order_id': '2584398383918481408', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584398383918481408', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749523473815'}], 'inTime': '1749523473813871', 'msg': '', 'outTime': '1749523473817805'}}
[auto_trader.py][11:04:36] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:04:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][11:04:37] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[place_order.py][11:04:37] [INFO] 设置持仓模式成功: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[_client.py][11:04:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:04:38] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:04:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:04:38] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:04:39] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:04:39] [INFO] 下单成功 - ordId: 2584438839289184256
[auto_trader.py][11:04:39] [INFO] 下单结果: {'success': True, 'order_id': '2584438839289184256', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584438839289184256', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749524679479'}], 'inTime': '1749524679478133', 'msg': '', 'outTime': '1749524679481927'}}
[auto_trader.py][11:04:39] [INFO] 交易执行成功: {'success': True, 'order_id': '2584438839289184256', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584438839289184256', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749524679479'}], 'inTime': '1749524679478133', 'msg': '', 'outTime': '1749524679481927'}}
[auto_trader.py][11:27:22] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[auto_trader.py][11:27:22] [ERROR] 执行交易失败: cannot access local variable 'instrument_id' where it is not associated with a value
[auto_trader.py][11:27:22] [ERROR] 清理过程中发生错误: 'TradeHistory' object has no attribute 'save'
[auto_trader.py][11:28:32] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'buy', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:28:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][11:28:33] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[place_order.py][11:28:33] [INFO] 设置持仓模式成功: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[_client.py][11:28:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:28:34] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:28:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:28:34] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:28:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:28:35] [INFO] 下单成功 - ordId: 2584487020232310784
[auto_trader.py][11:28:35] [INFO] 下单结果: {'success': True, 'order_id': '2584487020232310784', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584487020232310784', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749526115383'}], 'inTime': '1749526115382409', 'msg': '', 'outTime': '1749526115386142'}}
[auto_trader.py][11:28:35] [INFO] 交易执行成功: {'success': True, 'order_id': '2584487020232310784', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584487020232310784', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749526115383'}], 'inTime': '1749526115382409', 'msg': '', 'outTime': '1749526115386142'}}
[auto_trader.py][11:29:13] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:29:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][11:29:14] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[place_order.py][11:29:14] [INFO] 设置持仓模式成功: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[_client.py][11:29:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:29:14] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:29:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:29:15] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'close', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:29:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:29:16] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526155901'}], 'inTime': '1749526155901650', 'msg': 'All operations failed', 'outTime': '1749526155901736'}
[auto_trader.py][11:29:16] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526155901'}], 'inTime': '1749526155901650', 'msg': 'All operations failed', 'outTime': '1749526155901736'}}
[auto_trader.py][11:29:16] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526155901'}], 'inTime': '1749526155901650', 'msg': 'All operations failed', 'outTime': '1749526155901736'}}
[auto_trader.py][11:29:52] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:29:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][11:29:53] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[place_order.py][11:29:53] [INFO] 设置持仓模式成功: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[_client.py][11:29:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:29:53] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:29:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:29:54] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'close', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:29:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:29:55] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526195449'}], 'inTime': '1749526195449612', 'msg': 'All operations failed', 'outTime': '1749526195449717'}
[auto_trader.py][11:29:55] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526195449'}], 'inTime': '1749526195449612', 'msg': 'All operations failed', 'outTime': '1749526195449717'}}
[auto_trader.py][11:29:55] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526195449'}], 'inTime': '1749526195449612', 'msg': 'All operations failed', 'outTime': '1749526195449717'}}
[auto_trader.py][11:31:01] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:31:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:31:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:03] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:31:03] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:03] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'close', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:31:04] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:31:04] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526264761'}], 'inTime': '1749526264761192', 'msg': 'All operations failed', 'outTime': '1749526264761287'}
[auto_trader.py][11:31:04] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526264761'}], 'inTime': '1749526264761192', 'msg': 'All operations failed', 'outTime': '1749526264761287'}}
[auto_trader.py][11:31:04] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526264761'}], 'inTime': '1749526264761192', 'msg': 'All operations failed', 'outTime': '1749526264761287'}}
[auto_trader.py][11:31:12] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:31:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[place_order.py][11:31:13] [ERROR] 设置持仓模式失败: {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}
[auto_trader.py][11:31:13] [INFO] 下单结果: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][11:31:13] [INFO] 交易执行成功: {'success': False, 'error': '设置持仓模式失败', 'response': {'code': '59000', 'data': [], 'msg': 'Setting failed. Cancel any open orders, close positions, and stop trading bots first.'}}
[auto_trader.py][11:31:23] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:31:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:31:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:25] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:31:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:25] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'close', 'posSide': 'long', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:31:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:31:26] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526286263'}], 'inTime': '1749526286263882', 'msg': 'All operations failed', 'outTime': '1749526286263971'}
[auto_trader.py][11:31:26] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526286263'}], 'inTime': '1749526286263882', 'msg': 'All operations failed', 'outTime': '1749526286263971'}}
[auto_trader.py][11:31:26] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526286263'}], 'inTime': '1749526286263882', 'msg': 'All operations failed', 'outTime': '1749526286263971'}}
[auto_trader.py][11:31:44] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'short', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'open_position'}
[_client.py][11:31:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:31:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:45] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:31:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:31:46] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'close', 'posSide': 'short', 'ordType': 'limit', 'sz': '51.33', 'px': '2690.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '51.33'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '17.11'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '17.11'}]}
[_client.py][11:31:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:31:47] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526307165'}], 'inTime': '1749526307165160', 'msg': 'All operations failed', 'outTime': '1749526307165255'}
[auto_trader.py][11:31:47] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526307165'}], 'inTime': '1749526307165160', 'msg': 'All operations failed', 'outTime': '1749526307165255'}}
[auto_trader.py][11:31:47] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter side error', 'tag': '', 'ts': '1749526307165'}], 'inTime': '1749526307165160', 'msg': 'All operations failed', 'outTime': '1749526307165255'}}
[auto_trader.py][11:32:23] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'long', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:32:23] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:32:24] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][11:32:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][11:32:25] [INFO] 成功撤销限价订单 2584466131658866688
[place_order.py][11:32:25] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][11:32:25] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 1/1 orders', 'success_count': 1, 'total_orders': 1}}
[_client.py][11:32:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:26] [INFO] 当前持仓: 171.09 (long)
[_client.py][11:32:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:26] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][11:32:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:27] [INFO] 当前持仓:171.09, 平仓方向:sell, 平仓数量:171.09
[_client.py][11:32:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[place_order.py][11:32:27] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'ordType': 'market', 'sz': '171.09'}
[_client.py][11:32:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:32:27] [ERROR] 平仓失败: All operations failed
[auto_trader.py][11:32:27] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749526347791'}], 'inTime': '1749526347790387', 'msg': 'All operations failed', 'outTime': '1749526347793144'}}
[auto_trader.py][11:32:54] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:32:54] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:32:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:55] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:32:55] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:32:56] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:56] [INFO] 当前持仓: 171.09 (long)
[_client.py][11:32:56] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:56] [ERROR] 获取订单列表过程中发生异常: list index out of range
[_client.py][11:32:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:32:57] [INFO] 当前持仓:171.09, 平仓方向:sell, 平仓数量:171.09
[_client.py][11:32:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP&state=live "HTTP/2 200 OK"
[place_order.py][11:32:57] [INFO] 执行平仓: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'ordType': 'market', 'sz': '171.09'}
[_client.py][11:32:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:32:57] [ERROR] 平仓失败: All operations failed
[auto_trader.py][11:32:57] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1749526377631'}], 'inTime': '1749526377631004', 'msg': 'All operations failed', 'outTime': '1749526377633788'}}
[auto_trader.py][11:37:56] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:37:56] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:37:57] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:37:57] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:37:57] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:37:58] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:37:58] [INFO] 当前持仓: 171.09 (long)
[_client.py][11:37:58] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][11:37:58] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][11:39:31] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:39:31] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:39:32] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:39:32] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:39:32] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:39:33] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:39:33] [INFO] 当前持仓: 171.09 (long)
[_client.py][11:39:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][11:39:33] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][11:40:00] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:40:00] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:40:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:40:01] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:40:01] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:40:02] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:40:02] [INFO] 当前持仓: 171.09 (long)
[place_order.py][11:40:02] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][11:40:02] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][11:40:02] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][11:41:09] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:41:09] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:41:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:41:10] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:41:10] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:41:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:41:11] [INFO] 当前持仓: 171.09 (long)
[place_order.py][11:41:11] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][11:41:12] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][11:41:12] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][11:42:43] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:42:43] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:42:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:42:44] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:42:44] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:42:45] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:42:45] [INFO] 当前持仓: 171.09 (long)
[place_order.py][11:42:45] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][11:42:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][11:42:45] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][11:43:44] [INFO] 执行第1条交易指令: {'operation_comment': '开仓ETH-USDT-SWAP多头头寸，等待价格回调至入场区间。', 'side': 'close', 'posSide': 'sell', 'price': 2690.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 17.11}, {'price': 2800.0, 'size': 17.11}, {'price': 2850.0, 'size': 17.11}], 'size': 51.33, 'market': False, 'position_action': 'close_position'}
[place_order.py][11:43:44] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][11:43:45] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:43:45] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][11:43:45] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][11:43:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][11:43:46] [INFO] 当前持仓: 171.09 (long)
[place_order.py][11:43:46] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][11:43:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][11:43:46] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'long', 'tag': ''}], 'msg': ''}}
[auto_trader.py][11:47:17] [INFO] 执行第1条交易指令: {'operation_comment': '在支撑位开多ETH-USDT-SWAP，设置止损和分批止盈', 'side': 'buy', 'posSide': 'long', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 20}, {'price': 2800.0, 'size': 15}, {'price': 2850.0, 'size': 15}], 'size': 50.0, 'market': False, 'position_action': 'open_position'}
[_client.py][11:47:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:47:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:47:19] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:47:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:47:19] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '50.0', 'px': '2680.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '50.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '20'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '15'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '15'}]}
[_client.py][11:47:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:47:20] [INFO] 下单成功 - ordId: 2584524765042442240
[auto_trader.py][11:47:20] [INFO] 下单结果: {'success': True, 'order_id': '2584524765042442240', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584524765042442240', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749527240266'}], 'inTime': '1749527240265264', 'msg': '', 'outTime': '1749527240268891'}}
[auto_trader.py][11:47:20] [INFO] 交易执行成功: {'success': True, 'order_id': '2584524765042442240', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584524765042442240', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749527240266'}], 'inTime': '1749527240265264', 'msg': '', 'outTime': '1749527240268891'}}
[auto_trader.py][11:47:59] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][11:48:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:48:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:48:00] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:48:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:48:00] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '30%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '40%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '30%'}]}
[_client.py][11:48:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:48:01] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527281649'}], 'inTime': '1749527281648849', 'msg': 'All operations failed', 'outTime': '1749527281649473'}
[auto_trader.py][11:48:01] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527281649'}], 'inTime': '1749527281648849', 'msg': 'All operations failed', 'outTime': '1749527281649473'}}
[auto_trader.py][11:48:01] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527281649'}], 'inTime': '1749527281648849', 'msg': 'All operations failed', 'outTime': '1749527281649473'}}
[auto_trader.py][11:56:10] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][11:56:11] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:56:12] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:56:12] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:56:12] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:56:12] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': '-1', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '30%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '40%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '30%'}]}
[_client.py][11:56:13] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:56:13] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527773752'}], 'inTime': '1749527773751826', 'msg': 'All operations failed', 'outTime': '1749527773752378'}
[auto_trader.py][11:56:13] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527773752'}], 'inTime': '1749527773751826', 'msg': 'All operations failed', 'outTime': '1749527773752378'}}
[auto_trader.py][11:56:13] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527773752'}], 'inTime': '1749527773751826', 'msg': 'All operations failed', 'outTime': '1749527773752378'}}
[auto_trader.py][11:56:56] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][11:56:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:56:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:56:57] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:56:58] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:56:58] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '30%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '40%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '30%'}]}
[_client.py][11:56:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:56:59] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527819140'}], 'inTime': '1749527819140721', 'msg': 'All operations failed', 'outTime': '1749527819140903'}
[auto_trader.py][11:56:59] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527819140'}], 'inTime': '1749527819140721', 'msg': 'All operations failed', 'outTime': '1749527819140903'}}
[auto_trader.py][11:56:59] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527819140'}], 'inTime': '1749527819140721', 'msg': 'All operations failed', 'outTime': '1749527819140903'}}
[auto_trader.py][11:58:31] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][11:58:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:58:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:58:32] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:58:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:58:33] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '30%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '40%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '30%'}]}
[_client.py][11:58:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:58:34] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527913943'}], 'inTime': '1749527913943382', 'msg': 'All operations failed', 'outTime': '1749527913943856'}
[auto_trader.py][11:58:34] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527913943'}], 'inTime': '1749527913943382', 'msg': 'All operations failed', 'outTime': '1749527913943856'}}
[auto_trader.py][11:58:34] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527913943'}], 'inTime': '1749527913943382', 'msg': 'All operations failed', 'outTime': '1749527913943856'}}
[auto_trader.py][11:58:44] [INFO] 执行第1条交易指令: {'operation_comment': '在支撑位开多ETH-USDT-SWAP，设置止损和分批止盈', 'side': 'buy', 'posSide': 'long', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 20}, {'price': 2800.0, 'size': 15}, {'price': 2850.0, 'size': 15}], 'size': 50.0, 'market': False, 'position_action': 'open_position'}
[_client.py][11:58:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:58:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:58:45] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:58:45] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:58:45] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '50.0', 'px': '2680.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '50.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '20'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '15'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '15'}]}
[_client.py][11:58:46] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:58:46] [INFO] 下单成功 - ordId: 2584547797207220224
[auto_trader.py][11:58:46] [INFO] 下单结果: {'success': True, 'order_id': '2584547797207220224', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584547797207220224', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749527926678'}], 'inTime': '1749527926677218', 'msg': '', 'outTime': '1749527926680958'}}
[auto_trader.py][11:58:46] [INFO] 交易执行成功: {'success': True, 'order_id': '2584547797207220224', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584547797207220224', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749527926678'}], 'inTime': '1749527926677218', 'msg': '', 'outTime': '1749527926680958'}}
[auto_trader.py][11:59:04] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][11:59:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][11:59:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:59:05] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][11:59:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][11:59:05] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '30%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '40%'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '30%'}]}
[_client.py][11:59:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][11:59:06] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527946830'}], 'inTime': '1749527946830516', 'msg': 'All operations failed', 'outTime': '1749527946830965'}
[auto_trader.py][11:59:06] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527946830'}], 'inTime': '1749527946830516', 'msg': 'All operations failed', 'outTime': '1749527946830965'}}
[auto_trader.py][11:59:06] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter tpOrdSz error', 'tag': '', 'ts': '1749527946830'}], 'inTime': '1749527946830516', 'msg': 'All operations failed', 'outTime': '1749527946830965'}}
[auto_trader.py][12:04:22] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[auto_trader.py][12:04:27] [ERROR] 执行交易失败: [SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1028)
[auto_trader.py][12:05:24] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][12:05:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:05:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:05:26] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:05:26] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:05:26] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '18.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '24.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '18.0'}]}
[_client.py][12:05:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:05:27] [INFO] 下单成功 - ordId: 2584561234851266560
[auto_trader.py][12:05:27] [INFO] 下单结果: {'success': True, 'order_id': '2584561234851266560', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584561234851266560', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528327151'}], 'inTime': '1749528327149798', 'msg': '', 'outTime': '1749528327153465'}}
[auto_trader.py][12:05:27] [INFO] 交易执行成功: {'success': True, 'order_id': '2584561234851266560', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584561234851266560', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528327151'}], 'inTime': '1749528327149798', 'msg': '', 'outTime': '1749528327153465'}}
[auto_trader.py][12:06:20] [INFO] 执行第1条交易指令: {'operation_comment': '触发风控信号，强制平掉多头仓位', 'side': 'sell', 'posSide': 'long', 'price': None, 'size': None, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:06:20] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:06:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:06:21] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:06:21] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:06:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:06:22] [INFO] 当前持仓: 100.0 (long)
[place_order.py][12:06:22] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:06:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:06:22] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'long', 'tag': ''}], 'msg': ''}}
[auto_trader.py][12:06:46] [INFO] 执行第1条交易指令: {'operation_comment': '目标价位平空获利', 'side': 'buy', 'posSide': 'short', 'price': 2600.0, 'size': 30.0, 'market': False, 'position_action': 'close_position'}
[place_order.py][12:06:46] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:06:47] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:06:47] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:06:47] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:06:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:06:48] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:07:27] [INFO] 执行第1条交易指令: {'operation_comment': '在支撑位开多ETH-USDT-SWAP，设置止损和分批止盈', 'side': 'buy', 'posSide': 'long', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 20}, {'price': 2800.0, 'size': 15}, {'price': 2850.0, 'size': 15}], 'size': 50.0, 'market': True, 'position_action': 'open_position'}
[_client.py][12:07:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:07:29] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:07:29] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:07:30] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:07:30] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'market', 'sz': '50.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '50.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '20'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '15'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '15'}]}
[_client.py][12:07:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:07:31] [INFO] 下单成功 - ordId: 2584565384964079616
[auto_trader.py][12:07:31] [INFO] 下单结果: {'success': True, 'order_id': '2584565384964079616', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584565384964079616', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528450834'}], 'inTime': '1749528450833035', 'msg': '', 'outTime': '1749528450836598'}}
[auto_trader.py][12:07:31] [INFO] 交易执行成功: {'success': True, 'order_id': '2584565384964079616', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584565384964079616', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528450834'}], 'inTime': '1749528450833035', 'msg': '', 'outTime': '1749528450836598'}}
[auto_trader.py][12:07:38] [INFO] 执行第1条交易指令: {'operation_comment': '目标价位平空获利', 'side': 'buy', 'posSide': 'short', 'price': 2600.0, 'size': 30.0, 'market': False, 'position_action': 'close_position'}
[place_order.py][12:07:38] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:07:39] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:07:39] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:07:39] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:07:40] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:07:40] [INFO] 当前持仓: 50.0 (long)
[place_order.py][12:07:40] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:07:41] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:07:41] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'long', 'tag': ''}], 'msg': ''}}
[auto_trader.py][12:07:56] [INFO] 执行第1条交易指令: {'operation_comment': '等待价格回调到支撑位再开仓', 'side': 'wait', 'price': None, 'size': 0, 'market': False, 'position_action': 'wait'}
[auto_trader.py][12:07:56] [INFO] 跳过等待指令: {'operation_comment': '等待价格回调到支撑位再开仓', 'side': 'wait', 'price': None, 'size': 0, 'market': False, 'position_action': 'wait'}
[auto_trader.py][12:08:17] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:08:17] [ERROR] 执行交易失败: could not convert string to float: 'None'
[auto_trader.py][12:11:13] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:11:13] [INFO] 修改止盈止损指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[place_order.py][12:11:13] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:11:14] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:11:14] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:11:14] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:11:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:11:15] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:12:32] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:12:32] [INFO] 修改止盈止损指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[place_order.py][12:12:32] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:12:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:12:34] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:12:34] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:12:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:12:35] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:12:47] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:12:47] [INFO] 修改止盈止损指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[place_order.py][12:12:47] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:12:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:12:48] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:12:48] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:12:49] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:12:49] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:12:49] [ERROR] 执行交易失败: could not convert string to float: 'None'
[auto_trader.py][12:13:43] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:13:43] [INFO] 修改止盈止损指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[place_order.py][12:13:43] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:13:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:13:44] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:13:44] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:13:45] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:13:45] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:13:45] [ERROR] 执行交易失败: could not convert string to float: 'None'
[auto_trader.py][12:15:35] [INFO] 执行第1条交易指令: {'operation_comment': '在支撑位开多ETH-USDT-SWAP，设置止损和分批止盈', 'side': 'buy', 'posSide': 'long', 'price': 2680.0, 'stop_loss': 2650.0, 'take_profit': [{'price': 2750.0, 'size': 20}, {'price': 2800.0, 'size': 15}, {'price': 2850.0, 'size': 15}], 'size': 50.0, 'market': False, 'position_action': 'open_position'}
[_client.py][12:15:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:15:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:15:37] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:15:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:15:37] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '50.0', 'px': '2680.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2650.0', 'slOrdPx': '-1', 'sz': '50.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '20'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2800.0', 'tpOrdPx': '-1', 'sz': '15'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '15'}]}
[_client.py][12:15:38] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:15:38] [INFO] 下单成功 - ordId: 2584581758889361408
[auto_trader.py][12:15:38] [INFO] 下单结果: {'success': True, 'order_id': '2584581758889361408', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584581758889361408', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528938815'}], 'inTime': '1749528938814139', 'msg': '', 'outTime': '1749528938817759'}}
[auto_trader.py][12:15:38] [INFO] 交易执行成功: {'success': True, 'order_id': '2584581758889361408', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584581758889361408', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749528938815'}], 'inTime': '1749528938814139', 'msg': '', 'outTime': '1749528938817759'}}
[auto_trader.py][12:15:45] [INFO] 执行第1条交易指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[auto_trader.py][12:15:45] [INFO] 修改止盈止损指令: {'operation_comment': '调整现有多头仓位的止盈止损', 'side': 'buy', 'posSide': 'long', 'price': None, 'stop_loss': 2670.0, 'take_profit': [{'price': 2780.0, 'size': '50%'}, {'price': 2820.0, 'size': '50%'}], 'size': None, 'market': False, 'position_action': 'modify_tp_sl'}
[place_order.py][12:15:45] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:15:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][12:15:47] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][12:15:47] [INFO] 成功撤销限价订单 2584581758889361408
[place_order.py][12:15:47] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][12:15:47] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 1/1 orders', 'success_count': 1, 'total_orders': 1}}
[_client.py][12:15:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:15:48] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:19:58] [INFO] 执行第1条交易指令: {'operation_comment': '多头趋势良好，加仓扩大收益', 'side': 'buy', 'posSide': 'long', 'price': 2700.0, 'stop_loss': 2680.0, 'take_profit': [{'price': 2750.0, 'size': 10.0}], 'size': 10.0, 'market': False, 'position_action': 'add_position'}
[_client.py][12:19:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:19:59] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:19:59] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:20:00] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:20:00] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '10.0', 'px': '2700.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2680.0', 'slOrdPx': '-1', 'sz': '10.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '10.0'}]}
[_client.py][12:20:01] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:20:01] [INFO] 下单成功 - ordId: 2584590558673371136
[auto_trader.py][12:20:01] [INFO] 下单结果: {'success': True, 'order_id': '2584590558673371136', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584590558673371136', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749529201069'}], 'inTime': '1749529201068732', 'msg': '', 'outTime': '1749529201072394'}}
[auto_trader.py][12:20:01] [INFO] 交易执行成功: {'success': True, 'order_id': '2584590558673371136', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584590558673371136', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749529201069'}], 'inTime': '1749529201068732', 'msg': '', 'outTime': '1749529201072394'}}
[auto_trader.py][12:20:19] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'sell', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'reduce_position'}
[_client.py][12:20:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:20:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:20:21] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:20:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:20:22] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'long', 'ordType': 'market', 'sz': '15.0', 'px': None}
[_client.py][12:20:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:20:23] [INFO] 下单成功 - ordId: 2584591293347659776
[auto_trader.py][12:20:23] [INFO] 下单结果: {'success': True, 'order_id': '2584591293347659776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584591293347659776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749529222964'}], 'inTime': '1749529222963128', 'msg': '', 'outTime': '1749529222966561'}}
[auto_trader.py][12:20:23] [INFO] 交易执行成功: {'success': True, 'order_id': '2584591293347659776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584591293347659776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749529222964'}], 'inTime': '1749529222963128', 'msg': '', 'outTime': '1749529222966561'}}
[auto_trader.py][12:20:30] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'reduce_position'}
[place_order.py][12:20:30] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:20:31] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:20:31] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:20:31] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:20:33] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:20:33] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:21:11] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:21:11] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:21:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:21:12] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:21:12] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:21:13] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:21:13] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:23:26] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:23:26] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:23:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:23:27] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:23:27] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:23:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:23:28] [INFO] 获取持仓信息 - ETH-USDT-SWAP: {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749529201071', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2584361385291808768', 'posSide': 'long', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052313852', 'uTime': '1749529222965', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '1', 'availPos': '60', 'avgPx': '2689.25', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2686.5620939530236', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749528327152', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06775', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2686.0741', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2684.96', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.964614235938', 'margin': '161.355', 'markPx': '2684.84', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.59088478684431', 'mmr': '64.43616', 'nonSettleAvgPx': '', 'notionalUsd': '16114.517073600002', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06775', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052266850', 'uTime': '1749528327152', 'upl': '26.459999999999127', 'uplLastPx': '25.73999999999978', 'uplRatio': '0.1639862415171445', 'uplRatioLastPx': '0.1595240308636225', 'usdPx': '1.00034', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749521244843', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2583574188351426560', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052084828', 'uTime': '1749521518726', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749451655811', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1051714649', 'uTime': '1749499598010', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}
[auto_trader.py][12:23:28] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:24:42] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:24:42] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:24:43] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:24:43] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:24:43] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:24:44] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:24:44] [INFO] 获取持仓信息: {'success': True, 'position': 0.0, 'response': {'code': '0', 'data': [{'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749529201071', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2584361385291808768', 'posSide': 'long', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052313852', 'uTime': '1749529222965', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '1', 'availPos': '60', 'avgPx': '2689.25', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2686.5620939530236', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749528327152', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06775', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2687.7494', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2686.44', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.964614235938', 'margin': '161.355', 'markPx': '2686.5', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.451971793121988', 'mmr': '64.476', 'nonSettleAvgPx': '', 'notionalUsd': '16123.99689', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06775', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052266850', 'uTime': '1749528327152', 'upl': '16.5', 'uplLastPx': '16.859999999999673', 'uplRatio': '0.1022589941433449', 'uplRatioLastPx': '0.1044900994701115', 'usdPx': '1.00031', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749521244843', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2583574188351426560', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052084828', 'uTime': '1749521518726', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}, {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749451655811', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'cross', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2576652912609333248', 'posSide': 'net', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1051714649', 'uTime': '1749499598010', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}], 'msg': ''}}
[auto_trader.py][12:24:44] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:26:10] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:26:10] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:26:11] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:26:11] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:26:11] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:26:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:26:12] [INFO] 获取持仓信息: {"success": true, "position": 0.0, "response": {"code": "0", "data": [{"adl": "", "availPos": "", "avgPx": "", "baseBal": "", "baseBorrowed": "", "baseInterest": "", "bePx": "", "bizRefId": "", "bizRefType": "", "cTime": "1749529201071", "ccy": "USDT", "clSpotInUseAmt": "", "closeOrderAlgo": [], "deltaBS": "", "deltaPA": "", "fee": "", "fundingFee": "", "gammaBS": "", "gammaPA": "", "idxPx": "", "imr": "", "instId": "ETH-USDT-SWAP", "instType": "SWAP", "interest": "", "last": "", "lever": "", "liab": "", "liabCcy": "", "liqPenalty": "", "liqPx": "", "margin": "", "markPx": "", "maxSpotInUseAmt": "", "mgnMode": "isolated", "mgnRatio": "", "mmr": "0", "nonSettleAvgPx": "", "notionalUsd": "", "optVal": "", "pendingCloseOrdLiabVal": "", "pnl": "", "pos": "0", "posCcy": "", "posId": "2584361385291808768", "posSide": "long", "quoteBal": "", "quoteBorrowed": "", "quoteInterest": "", "realizedPnl": "", "settledPnl": "", "spotInUseAmt": "", "spotInUseCcy": "", "thetaBS": "", "thetaPA": "", "tradeId": "1052313852", "uTime": "1749529222965", "upl": "", "uplLastPx": "", "uplRatio": "", "uplRatioLastPx": "", "usdPx": "", "vegaBS": "", "vegaPA": ""}, {"adl": "1", "availPos": "60", "avgPx": "2689.25", "baseBal": "", "baseBorrowed": "", "baseInterest": "", "bePx": "2686.5620939530236", "bizRefId": "", "bizRefType": "", "cTime": "1749528327152", "ccy": "USDT", "clSpotInUseAmt": "", "closeOrderAlgo": [], "deltaBS": "", "deltaPA": "", "fee": "-8.06775", "fundingFee": "0", "gammaBS": "", "gammaPA": "", "idxPx": "2687.3117", "imr": "", "instId": "ETH-USDT-SWAP", "instType": "SWAP", "interest": "", "last": "2685.83", "lever": "100", "liab": "", "liabCcy": "", "liqPenalty": "0", "liqPx": "2703.964614235938", "margin": "161.355", "markPx": "2686.14", "maxSpotInUseAmt": "", "mgnMode": "isolated", "mgnRatio": "2.482082922789672", "mmr": "64.46736", "nonSettleAvgPx": "", "notionalUsd": "16122.158557199999", "optVal": "", "pendingCloseOrdLiabVal": "", "pnl": "0", "pos": "60", "posCcy": "", "posId": "2584561234884820992", "posSide": "short", "quoteBal": "", "quoteBorrowed": "", "quoteInterest": "", "realizedPnl": "-8.06775", "settledPnl": "", "spotInUseAmt": "", "spotInUseCcy": "", "thetaBS": "", "thetaPA": "", "tradeId": "1052266850", "uTime": "1749528327152", "upl": "18.660000000000768", "uplLastPx": "20.520000000000437", "uplRatio": "0.1156456261039329", "uplRatioLastPx": "0.127173003625547", "usdPx": "1.00033", "vegaBS": "", "vegaPA": ""}, {"adl": "", "availPos": "", "avgPx": "", "baseBal": "", "baseBorrowed": "", "baseInterest": "", "bePx": "", "bizRefId": "", "bizRefType": "", "cTime": "1749521244843", "ccy": "USDT", "clSpotInUseAmt": "", "closeOrderAlgo": [], "deltaBS": "", "deltaPA": "", "fee": "", "fundingFee": "", "gammaBS": "", "gammaPA": "", "idxPx": "", "imr": "", "instId": "ETH-USDT-SWAP", "instType": "SWAP", "interest": "", "last": "", "lever": "", "liab": "", "liabCcy": "", "liqPenalty": "", "liqPx": "", "margin": "", "markPx": "", "maxSpotInUseAmt": "", "mgnMode": "isolated", "mgnRatio": "", "mmr": "0", "nonSettleAvgPx": "", "notionalUsd": "", "optVal": "", "pendingCloseOrdLiabVal": "", "pnl": "", "pos": "0", "posCcy": "", "posId": "2583574188351426560", "posSide": "net", "quoteBal": "", "quoteBorrowed": "", "quoteInterest": "", "realizedPnl": "", "settledPnl": "", "spotInUseAmt": "", "spotInUseCcy": "", "thetaBS": "", "thetaPA": "", "tradeId": "1052084828", "uTime": "1749521518726", "upl": "", "uplLastPx": "", "uplRatio": "", "uplRatioLastPx": "", "usdPx": "", "vegaBS": "", "vegaPA": ""}, {"adl": "", "availPos": "", "avgPx": "", "baseBal": "", "baseBorrowed": "", "baseInterest": "", "bePx": "", "bizRefId": "", "bizRefType": "", "cTime": "1749451655811", "ccy": "USDT", "clSpotInUseAmt": "", "closeOrderAlgo": [], "deltaBS": "", "deltaPA": "", "fee": "", "fundingFee": "", "gammaBS": "", "gammaPA": "", "idxPx": "", "imr": "", "instId": "ETH-USDT-SWAP", "instType": "SWAP", "interest": "", "last": "", "lever": "", "liab": "", "liabCcy": "", "liqPenalty": "", "liqPx": "", "margin": "", "markPx": "", "maxSpotInUseAmt": "", "mgnMode": "cross", "mgnRatio": "", "mmr": "0", "nonSettleAvgPx": "", "notionalUsd": "", "optVal": "", "pendingCloseOrdLiabVal": "", "pnl": "", "pos": "0", "posCcy": "", "posId": "2576652912609333248", "posSide": "net", "quoteBal": "", "quoteBorrowed": "", "quoteInterest": "", "realizedPnl": "", "settledPnl": "", "spotInUseAmt": "", "spotInUseCcy": "", "thetaBS": "", "thetaPA": "", "tradeId": "1051714649", "uTime": "1749499598010", "upl": "", "uplLastPx": "", "uplRatio": "", "uplRatioLastPx": "", "usdPx": "", "vegaBS": "", "vegaPA": ""}], "msg": ""}}
[auto_trader.py][12:26:12] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:26:20] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:26:20] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:26:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:26:21] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:26:21] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:26:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:26:22] [INFO] 获取持仓信息: {
    "success": true,
    "position": 0.0,
    "response": {
        "code": "0",
        "data": [
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749529201071",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2584361385291808768",
                "posSide": "long",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052313852",
                "uTime": "1749529222965",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "1",
                "availPos": "60",
                "avgPx": "2689.25",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "2686.5620939530236",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749528327152",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "-8.06775",
                "fundingFee": "0",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "2687.6429",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "2686.31",
                "lever": "100",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "0",
                "liqPx": "2703.964614235938",
                "margin": "161.355",
                "markPx": "2686.32",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "2.467026349140156",
                "mmr": "64.47168",
                "nonSettleAvgPx": "",
                "notionalUsd": "16123.2389136",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "0",
                "pos": "60",
                "posCcy": "",
                "posId": "2584561234884820992",
                "posSide": "short",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "-8.06775",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052266850",
                "uTime": "1749528327152",
                "upl": "17.57999999999902",
                "uplLastPx": "17.640000000000327",
                "uplRatio": "0.1089523101236334",
                "uplRatioLastPx": "0.109324161011437",
                "usdPx": "1.00033",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749521244843",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2583574188351426560",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052084828",
                "uTime": "1749521518726",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749451655811",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "cross",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2576652912609333248",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1051714649",
                "uTime": "1749499598010",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            }
        ],
        "msg": ""
    }
}
[auto_trader.py][12:26:22] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:27:34] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:27:34] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:27:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:27:35] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:27:35] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:27:36] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:27:36] [INFO] 获取持仓信息: {
    "success": true,
    "position": 0.0,
    "response": {
        "code": "0",
        "data": [
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749529201071",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2584361385291808768",
                "posSide": "long",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052313852",
                "uTime": "1749529222965",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "1",
                "availPos": "60",
                "avgPx": "2689.25",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "2686.5620939530236",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749528327152",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "-8.06775",
                "fundingFee": "0",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "2686.8329",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "2685.82",
                "lever": "100",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "0",
                "liqPx": "2703.964614235938",
                "margin": "161.355",
                "markPx": "2685.65",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "2.5230804874466473",
                "mmr": "64.4556",
                "nonSettleAvgPx": "",
                "notionalUsd": "16119.539865000002",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "0",
                "pos": "60",
                "posCcy": "",
                "posId": "2584561234884820992",
                "posSide": "short",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "-8.06775",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052266850",
                "uTime": "1749528327152",
                "upl": "21.599999999999458",
                "uplLastPx": "20.579999999999018",
                "uplRatio": "0.1338663196058354",
                "uplRatioLastPx": "0.1275448545133395",
                "usdPx": "1.00035",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749521244843",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2583574188351426560",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052084828",
                "uTime": "1749521518726",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749451655811",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "cross",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2576652912609333248",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1051714649",
                "uTime": "1749499598010",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            }
        ],
        "msg": ""
    }
}
[auto_trader.py][12:27:36] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:28:16] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:28:16] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:28:17] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:28:17] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:28:17] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:28:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:28:18] [INFO] 获取持仓信息: {
    "success": true,
    "position": 0.0,
    "response": {
        "code": "0",
        "data": [
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749529201071",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2584361385291808768",
                "posSide": "long",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052313852",
                "uTime": "1749529222965",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "1",
                "availPos": "60",
                "avgPx": "2689.25",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "2686.5620939530236",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749528327152",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "-8.06775",
                "fundingFee": "0",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "2687.027",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "2685.77",
                "lever": "100",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "0",
                "liqPx": "2703.964614235938",
                "margin": "161.355",
                "markPx": "2685.83",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "2.5080184193009707",
                "mmr": "64.45992",
                "nonSettleAvgPx": "",
                "notionalUsd": "16120.620243000001",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "0",
                "pos": "60",
                "posCcy": "",
                "posId": "2584561234884820992",
                "posSide": "short",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "-8.06775",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052266850",
                "uTime": "1749528327152",
                "upl": "20.520000000000437",
                "uplLastPx": "20.880000000000113",
                "uplRatio": "0.127173003625547",
                "uplRatioLastPx": "0.1294041089523135",
                "usdPx": "1.00035",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749521244843",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2583574188351426560",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052084828",
                "uTime": "1749521518726",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749451655811",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "cross",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2576652912609333248",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1051714649",
                "uTime": "1749499598010",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            }
        ],
        "msg": ""
    }
}
[auto_trader.py][12:28:18] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:31:19] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:31:19] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:31:20] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:31:20] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:31:20] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:31:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:31:21] [INFO] 当前持仓: -60.0 (short), 均价: 2689.25, 未实现盈亏: 21.23999999999978
[auto_trader.py][12:31:21] [INFO] 获取持仓信息: {
    "success": true,
    "position": -60.0,
    "response": {
        "code": "0",
        "data": [
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749529201071",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2584361385291808768",
                "posSide": "long",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052313852",
                "uTime": "1749529222965",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "1",
                "availPos": "60",
                "avgPx": "2689.25",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "2686.5620939530236",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749528327152",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "-8.06775",
                "fundingFee": "0",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "2686.8629",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "2685.79",
                "lever": "100",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "0",
                "liqPx": "2703.964614235938",
                "margin": "161.355",
                "markPx": "2685.71",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "2.518059573735723",
                "mmr": "64.45704",
                "nonSettleAvgPx": "",
                "notionalUsd": "16119.7388484",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "0",
                "pos": "60",
                "posCcy": "",
                "posId": "2584561234884820992",
                "posSide": "short",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "-8.06775",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052266850",
                "uTime": "1749528327152",
                "upl": "21.23999999999978",
                "uplLastPx": "20.76000000000022",
                "uplRatio": "0.1316352142790689",
                "uplRatioLastPx": "0.1286604071767283",
                "usdPx": "1.00034",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749521244843",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2583574188351426560",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052084828",
                "uTime": "1749521518726",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749451655811",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "cross",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2576652912609333248",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1051714649",
                "uTime": "1749499598010",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            }
        ],
        "msg": ""
    },
    "position_info": {
        "size": 60.0,
        "direction": "short",
        "avg_price": 2689.25,
        "leverage": "100",
        "margin_mode": "isolated",
        "unrealized_pnl": 21.23999999999978,
        "realized_pnl": -8.06775,
        "margin": 161.355,
        "margin_ratio": 2.518059573735723,
        "liq_price": 2703.964614235938,
        "mark_price": 2685.71
    }
}
[place_order.py][12:31:21] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:31:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:31:21] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][12:35:52] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:35:52] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:35:53] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:35:53] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:35:53] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:35:54] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[auto_trader.py][12:35:54] [INFO] 获取持仓信息: {
    "success": true,
    "position": 0.0,
    "response": {
        "code": "0",
        "data": [
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749529201071",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2584361385291808768",
                "posSide": "long",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052313852",
                "uTime": "1749529222965",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "1",
                "availPos": "60",
                "avgPx": "2689.25",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "2686.5620939530236",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749528327152",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "-8.06775",
                "fundingFee": "0",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "2686.6111",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "2685.61",
                "lever": "100",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "0",
                "liqPx": "2703.964614235938",
                "margin": "161.355",
                "markPx": "2685.64",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "2.5239173282097975",
                "mmr": "64.45536",
                "nonSettleAvgPx": "",
                "notionalUsd": "16119.3187056",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "0",
                "pos": "60",
                "posCcy": "",
                "posId": "2584561234884820992",
                "posSide": "short",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "-8.06775",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052266850",
                "uTime": "1749528327152",
                "upl": "21.660000000000764",
                "uplLastPx": "21.839999999999236",
                "uplRatio": "0.1342381704936391",
                "uplRatioLastPx": "0.1353537231570057",
                "usdPx": "1.00034",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749521244843",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "isolated",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2583574188351426560",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1052084828",
                "uTime": "1749521518726",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            },
            {
                "adl": "",
                "availPos": "",
                "avgPx": "",
                "baseBal": "",
                "baseBorrowed": "",
                "baseInterest": "",
                "bePx": "",
                "bizRefId": "",
                "bizRefType": "",
                "cTime": "1749451655811",
                "ccy": "USDT",
                "clSpotInUseAmt": "",
                "closeOrderAlgo": [],
                "deltaBS": "",
                "deltaPA": "",
                "fee": "",
                "fundingFee": "",
                "gammaBS": "",
                "gammaPA": "",
                "idxPx": "",
                "imr": "",
                "instId": "ETH-USDT-SWAP",
                "instType": "SWAP",
                "interest": "",
                "last": "",
                "lever": "",
                "liab": "",
                "liabCcy": "",
                "liqPenalty": "",
                "liqPx": "",
                "margin": "",
                "markPx": "",
                "maxSpotInUseAmt": "",
                "mgnMode": "cross",
                "mgnRatio": "",
                "mmr": "0",
                "nonSettleAvgPx": "",
                "notionalUsd": "",
                "optVal": "",
                "pendingCloseOrdLiabVal": "",
                "pnl": "",
                "pos": "0",
                "posCcy": "",
                "posId": "2576652912609333248",
                "posSide": "net",
                "quoteBal": "",
                "quoteBorrowed": "",
                "quoteInterest": "",
                "realizedPnl": "",
                "settledPnl": "",
                "spotInUseAmt": "",
                "spotInUseCcy": "",
                "thetaBS": "",
                "thetaPA": "",
                "tradeId": "1051714649",
                "uTime": "1749499598010",
                "upl": "",
                "uplLastPx": "",
                "uplRatio": "",
                "uplRatioLastPx": "",
                "usdPx": "",
                "vegaBS": "",
                "vegaPA": ""
            }
        ],
        "msg": ""
    }
}
[auto_trader.py][12:35:54] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:36:39] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:36:39] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:36:40] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:36:40] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:36:40] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:36:41] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:36:41] [INFO] 获取到持仓信息: {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749529201071', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2584361385291808768', 'posSide': 'long', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052313852', 'uTime': '1749529222965', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}
[auto_trader.py][12:36:41] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:37:02] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:37:02] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:37:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:37:03] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:37:03] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:37:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:37:04] [INFO] 获取到持仓信息: {'adl': '', 'availPos': '', 'avgPx': '', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749529201071', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '', 'fundingFee': '', 'gammaBS': '', 'gammaPA': '', 'idxPx': '', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '', 'lever': '', 'liab': '', 'liabCcy': '', 'liqPenalty': '', 'liqPx': '', 'margin': '', 'markPx': '', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '', 'mmr': '0', 'nonSettleAvgPx': '', 'notionalUsd': '', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '', 'pos': '0', 'posCcy': '', 'posId': '2584361385291808768', 'posSide': 'long', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052313852', 'uTime': '1749529222965', 'upl': '', 'uplLastPx': '', 'uplRatio': '', 'uplRatioLastPx': '', 'usdPx': '', 'vegaBS': '', 'vegaPA': ''}
[auto_trader.py][12:37:04] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][12:37:16] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:37:16] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:37:17] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:37:17] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:37:17] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:37:18] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:37:18] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '60', 'avgPx': '2689.25', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2686.5620939530236', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749528327152', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06775', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2686.8205', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2686.09', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.964614235938', 'margin': '161.355', 'markPx': '2686.14', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.482082922789672', 'mmr': '64.46736', 'nonSettleAvgPx': '', 'notionalUsd': '16122.642062399998', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06775', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052266850', 'uTime': '1749528327152', 'upl': '18.660000000000768', 'uplLastPx': '18.959999999999127', 'uplRatio': '0.1156456261039329', 'uplRatioLastPx': '0.1175048805428958', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:37:18] [INFO] 当前持仓: -60.0 (short)
[place_order.py][12:37:18] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:37:18] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:37:18] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][12:38:19] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:38:19] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:38:20] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:38:20] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:38:20] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:38:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:38:21] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '60', 'avgPx': '2689.25', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2686.5620939530236', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749528327152', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06775', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2686.6176', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2685.31', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.964614235938', 'margin': '161.355', 'markPx': '2685.47', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.538144574734089', 'mmr': '64.45128', 'nonSettleAvgPx': '', 'notionalUsd': '16118.620615199998', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06775', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052266850', 'uTime': '1749528327152', 'upl': '22.680000000001204', 'uplLastPx': '23.640000000000327', 'uplRatio': '0.1405596355861349', 'uplRatioLastPx': '0.1465092497908382', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:38:21] [INFO] 当前持仓: -60.0 (short)
[place_order.py][12:38:21] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:38:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:38:21] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][12:39:54] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:39:54] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:39:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:39:55] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:39:55] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:39:56] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:39:56] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '10', 'avgPx': '2686.91884', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2689.6071029714853', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530390931', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-1.34345942', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.2223', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.12', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2672.0839845303867', 'margin': '26.8691884', 'markPx': '2686.99', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2280485185612453', 'mmr': '10.747959999999999', 'nonSettleAvgPx': '', 'notionalUsd': '2687.9304465', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '10', 'posCcy': '', 'posId': '2584361385291808768', 'posSide': 'long', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-1.34345942', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052333915', 'uTime': '1749530390931', 'upl': '0.0711599999999635', 'uplLastPx': '0.2011600000000726', 'uplRatio': '0.0026483866554017', 'uplRatioLastPx': '0.0074866422091091', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:39:56] [INFO] 当前持仓: 10.0 (long)
[place_order.py][12:39:56] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:39:57] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:39:57] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'long', 'tag': ''}], 'msg': ''}}
[auto_trader.py][12:40:26] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:40:26] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:40:27] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:40:27] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:40:27] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:40:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:40:28] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '60', 'avgPx': '2689.25', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2686.5620939530236', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749528327152', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06775', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2687.7164', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2686.58', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.964614235938', 'margin': '161.355', 'markPx': '2686.62', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.441936543149228', 'mmr': '64.47888', 'nonSettleAvgPx': '', 'notionalUsd': '16125.523099199998', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06775', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052266850', 'uTime': '1749528327152', 'upl': '15.780000000000657', 'uplLastPx': '16.020000000000437', 'uplRatio': '0.097796783489823', 'uplRatioLastPx': '0.0992841870410044', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:40:28] [INFO] 当前持仓: -60.0 (short)
[place_order.py][12:40:28] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:40:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:40:28] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][12:40:39] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:40:39] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:40:40] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:40:40] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:40:40] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:40:41] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:40:41] [INFO] 获取到持仓信息: None
[place_order.py][12:40:41] [ERROR] 获取持仓信息失败 - ETH-USDT-SWAP: 'NoneType' object has no attribute 'get'
[auto_trader.py][12:40:41] [ERROR] 获取持仓信息失败，无法执行平仓操作
[auto_trader.py][12:41:19] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][12:41:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:41:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:41:20] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:41:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:41:20] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '18.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '24.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '18.0'}]}
[_client.py][12:41:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:41:22] [INFO] 下单成功 - ordId: 2584633535223431168
[auto_trader.py][12:41:22] [INFO] 下单结果: {'success': True, 'order_id': '2584633535223431168', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584633535223431168', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530481870'}], 'inTime': '1749530481869201', 'msg': '', 'outTime': '1749530481872888'}}
[auto_trader.py][12:41:22] [INFO] 交易执行成功: {'success': True, 'order_id': '2584633535223431168', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584633535223431168', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530481870'}], 'inTime': '1749530481869201', 'msg': '', 'outTime': '1749530481872888'}}
[auto_trader.py][12:41:29] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:41:29] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:41:30] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:41:30] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:41:30] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:41:31] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:41:31] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '60', 'avgPx': '2687.97', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.2833733133434', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-8.06391', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.4141', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.22', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2702.6776057740167', 'margin': '161.2782', 'markPx': '2687.31', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2773454991546567', 'mmr': '64.49544', 'nonSettleAvgPx': '', 'notionalUsd': '16129.342112400001', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '60', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-8.06391', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052335183', 'uTime': '1749530481872', 'upl': '3.959999999999127', 'uplLastPx': '4.500000000000001', 'uplRatio': '0.0245538454670235', 'uplRatioLastPx': '0.0279020971216237', 'usdPx': '1.00034', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:41:31] [INFO] 当前持仓: -60.0 (short)
[place_order.py][12:41:31] [INFO] 开始平仓操作 - instrument_id: ETH-USDT-SWAP, size: None, price: None, auto_cancel: True
[_client.py][12:41:32] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[auto_trader.py][12:41:32] [INFO] 交易执行成功: {'success': True, 'error': None, 'message': '平仓操作已提交', 'response': {'code': '51023', 'data': [], 'msg': "Position doesn't exist."}}
[auto_trader.py][12:41:51] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][12:41:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:41:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:41:52] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:41:53] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:41:53] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '18.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '24.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '18.0'}]}
[_client.py][12:41:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:41:54] [INFO] 下单成功 - ordId: 2584634620172435456
[auto_trader.py][12:41:54] [INFO] 下单结果: {'success': True, 'order_id': '2584634620172435456', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584634620172435456', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530514204'}], 'inTime': '1749530514203905', 'msg': '', 'outTime': '1749530514207550'}}
[auto_trader.py][12:41:54] [INFO] 交易执行成功: {'success': True, 'order_id': '2584634620172435456', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584634620172435456', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530514204'}], 'inTime': '1749530514203905', 'msg': '', 'outTime': '1749530514207550'}}
[auto_trader.py][12:44:05] [INFO] 执行第1条交易指令: {'operation_comment': '顶部区域开空ETH-USDT-SWAP，市价入场', 'side': 'sell', 'posSide': 'short', 'price': None, 'stop_loss': 2900.0, 'take_profit': [{'price': 2650.0, 'size': '30%'}, {'price': 2600.0, 'size': '40%'}, {'price': 2550.0, 'size': '30%'}], 'size': 60.0, 'market': True, 'position_action': 'open_position'}
[_client.py][12:44:06] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:44:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:44:07] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:44:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:44:07] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'market', 'sz': '60.0', 'px': None, 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2900.0', 'slOrdPx': '-1', 'sz': '60.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2650.0', 'tpOrdPx': '-1', 'sz': '18.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2600.0', 'tpOrdPx': '-1', 'sz': '24.0'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2550.0', 'tpOrdPx': '-1', 'sz': '18.0'}]}
[_client.py][12:44:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:44:08] [INFO] 下单成功 - ordId: 2584639127673503744
[auto_trader.py][12:44:08] [INFO] 下单结果: {'success': True, 'order_id': '2584639127673503744', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584639127673503744', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530648538'}], 'inTime': '1749530648536887', 'msg': '', 'outTime': '1749530648540652'}}
[auto_trader.py][12:44:08] [INFO] 交易执行成功: {'success': True, 'order_id': '2584639127673503744', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2584639127673503744', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749530648538'}], 'inTime': '1749530648536887', 'msg': '', 'outTime': '1749530648540652'}}
[auto_trader.py][12:44:28] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:44:28] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:44:29] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:44:29] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:44:29] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:44:30] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:44:30] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.7135', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.65', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.47', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.147949017629671', 'mmr': '193.64184', 'nonSettleAvgPx': '', 'notionalUsd': '48427.403661000004', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-16.019999999997708', 'uplLastPx': '-19.260000000002947', 'uplRatio': '-0.0331029762923096', 'uplRatioLastPx': '-0.0397979602615672', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:44:30] [INFO] 当前持仓: -180.0 (short)
[_client.py][12:44:30] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:44:30] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.7299', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.65', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.5', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1454462828695893', 'mmr': '193.64400000000003', 'nonSettleAvgPx': '', 'notionalUsd': '48427.94385', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-16.56000000000131', 'uplLastPx': '-19.260000000002947', 'uplRatio': '-0.0342188069538674', 'uplRatioLastPx': '-0.0397979602615672', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:44:30] [INFO] 当前持仓: -180.0 (short)
[place_order.py][12:44:30] [INFO] 准备平仓参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'sell', 'ordType': 'market', 'sz': '180.0', 'px': None}
[_client.py][12:44:31] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:44:31] [ERROR] 平仓失败，错误信息: All operations failed
[auto_trader.py][12:44:31] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error', 'tag': '', 'ts': '1749530670983'}], 'inTime': '1749530670983052', 'msg': 'All operations failed', 'outTime': '1749530670983185'}}
[auto_trader.py][12:45:02] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:45:02] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:45:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:45:03] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:45:03] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:45:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:45:04] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.9664', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.56', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.74', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.208866110768129', 'mmr': '193.58928', 'nonSettleAvgPx': '', 'notionalUsd': '48414.74303519999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-2.879999999997381', 'uplLastPx': '0.3599999999996726', 'uplRatio': '-0.005951096861545', 'uplRatioLastPx': '0.0007438871076904', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:45:04] [INFO] 当前持仓: -180.0 (short)
[_client.py][12:45:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:45:04] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.9458', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.56', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.74', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.208866110768129', 'mmr': '193.58928', 'nonSettleAvgPx': '', 'notionalUsd': '48414.74303519999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-2.879999999997381', 'uplLastPx': '0.3599999999996726', 'uplRatio': '-0.005951096861545', 'uplRatioLastPx': '0.0007438871076904', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:45:04] [INFO] 当前持仓: -180.0 (short)
[place_order.py][12:45:04] [INFO] 准备平仓参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'sell', 'ordType': 'market', 'sz': '180.0', 'px': None}
[_client.py][12:45:05] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:45:05] [ERROR] 平仓失败，错误信息: All operations failed
[auto_trader.py][12:45:05] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error', 'tag': '', 'ts': '1749530705019'}], 'inTime': '1749530705019430', 'msg': 'All operations failed', 'outTime': '1749530705019578'}}
[auto_trader.py][12:50:26] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:50:26] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:50:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:50:28] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:50:28] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:50:29] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:50:29] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.3247', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.02', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.16', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.257289579323988', 'mmr': '193.54752000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48404.2992768', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '7.560000000001311', 'uplLastPx': '10.079999999999018', 'uplRatio': '0.0156216292615419', 'uplRatioLastPx': '0.0208288390153855', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:50:29] [INFO] 当前持仓: -180.0 (short)
[_client.py][12:50:29] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:50:29] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.3247', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.02', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.16', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.257289579323988', 'mmr': '193.54752000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48404.2992768', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '7.560000000001311', 'uplLastPx': '10.079999999999018', 'uplRatio': '0.0156216292615419', 'uplRatioLastPx': '0.0208288390153855', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:50:29] [INFO] 当前持仓: -180.0 (short)
[place_order.py][12:50:29] [INFO] 当前持仓信息: -180.0 (buy)
[place_order.py][12:50:29] [INFO] 准备平仓参数: {'instrument_id': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'sell', 'order_type': 'market', 'size': 180.0, 'take_profit': None, 'stop_loss': None, 'market': True}
[place_order.py][12:50:29] [ERROR] 平仓过程发生异常: place_order() missing 2 required positional arguments: 'side' and 'size'
Traceback (most recent call last):
  File "/home/li-xufeng/codespace/taishang/function/trade/place_order.py", line 311, in close_position
    response = place_order(order_params)
TypeError: place_order() missing 2 required positional arguments: 'side' and 'size'
[auto_trader.py][12:50:29] [INFO] 交易执行成功: {'success': False, 'error': "place_order() missing 2 required positional arguments: 'side' and 'size'", 'response': None}
[auto_trader.py][12:52:46] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:52:46] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:52:47] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:52:47] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:52:47] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:52:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:52:48] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.8447', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.94', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.87', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1145838109483224', 'mmr': '193.67064000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48434.1220044', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-23.219999999999345', 'uplLastPx': '-24.480000000002295', 'uplRatio': '-0.0479807184461611', 'uplRatioLastPx': '-0.0505843233230996', 'usdPx': '1.00034', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:52:48] [INFO] 当前持仓: -180.0 (short)
[_client.py][12:52:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:52:48] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.8423', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.94', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.87', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1145838109483224', 'mmr': '193.67064000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48434.1220044', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-23.219999999999345', 'uplLastPx': '-24.480000000002295', 'uplRatio': '-0.0479807184461611', 'uplRatioLastPx': '-0.0505843233230996', 'usdPx': '1.00034', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:52:48] [INFO] 当前持仓: -180.0 (short)
[place_order.py][12:52:48] [INFO] 当前持仓信息: -180.0 (buy)
[place_order.py][12:52:48] [INFO] 准备平仓参数: {'instrument_id': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'sell', 'order_type': 'market', 'size': 180.0, 'take_profit': None, 'stop_loss': None, 'market': True}
[place_order.py][12:52:48] [ERROR] 平仓过程发生异常: place_order() missing 2 required positional arguments: 'side' and 'size'
Traceback (most recent call last):
  File "/home/li-xufeng/codespace/taishang/function/trade/place_order.py", line 311, in close_position
    response = place_order(order_params)
TypeError: place_order() missing 2 required positional arguments: 'side' and 'size'
[auto_trader.py][12:52:48] [INFO] 交易执行成功: {'success': False, 'error': "place_order() missing 2 required positional arguments: 'side' and 'size'", 'response': None}
[auto_trader.py][12:53:32] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:53:32] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:53:34] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:53:34] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:53:34] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:53:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:53:35] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.2558', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.08', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.12', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1771517158855795', 'mmr': '193.61664000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48421.58549759999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-9.719999999999345', 'uplLastPx': '-9', 'uplRatio': '-0.0200849519077062', 'uplRatioLastPx': '-0.0185971776923033', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:53:35] [INFO] 当前持仓: -180.0 (short)
[_client.py][12:53:35] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:53:35] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.2535', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.08', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.12', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1771517158855795', 'mmr': '193.61664000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48421.58549759999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-9.719999999999345', 'uplLastPx': '-9', 'uplRatio': '-0.0200849519077062', 'uplRatioLastPx': '-0.0185971776923033', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:53:35] [INFO] 当前持仓: -180.0 (short)
[place_order.py][12:53:35] [INFO] 当前持仓信息: -180.0 (buy)
[place_order.py][12:53:35] [INFO] 准备下单参数 - instrument_id: ETH-USDT-SWAP, side: buy, size: 180.0, posSide: sell
[_client.py][12:53:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][12:53:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:53:36] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][12:53:36] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][12:53:36] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'sell', 'ordType': 'market', 'sz': '180.0', 'px': None}
[_client.py][12:53:37] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][12:53:37] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error', 'tag': '', 'ts': '1749531216854'}], 'inTime': '1749531216854803', 'msg': 'All operations failed', 'outTime': '1749531216854945'}
[place_order.py][12:53:37] [ERROR] 平仓失败，错误信息: 未知错误
[auto_trader.py][12:53:37] [INFO] 交易执行成功: {'success': False, 'error': '未知错误', 'response': {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error', 'tag': '', 'ts': '1749531216854'}], 'inTime': '1749531216854803', 'msg': 'All operations failed', 'outTime': '1749531216854945'}}}
[auto_trader.py][12:54:52] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:54:52] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:54:53] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:54:53] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:54:53] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:54:54] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:54:54] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.4117', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.33', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.14', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.1754827854919374', 'mmr': '193.61808000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48421.945627199995', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-10.079999999999018', 'uplLastPx': '-13.500000000000002', 'uplRatio': '-0.0208288390153966', 'uplRatioLastPx': '-0.0278957665384771', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:54:54] [INFO] 当前持仓: -180.0 (short)
[auto_trader.py][12:54:54] [ERROR] 执行交易失败: 'coroutine' object has no attribute 'get'
[auto_trader.py][12:58:02] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:58:02] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:58:03] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:58:03] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:58:03] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:58:05] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:58:05] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.0364', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.92', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.93', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2764977758597453', 'mmr': '193.53096000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48401.1254412', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '11.700000000001637', 'uplLastPx': '11.87999999999738', 'uplRatio': '0.0241763310000143', 'uplRatioLastPx': '0.0245482745538483', 'usdPx': '1.00038', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:58:05] [INFO] 当前持仓: -180.0 (short)
[auto_trader.py][12:58:05] [ERROR] 执行交易失败: 'coroutine' object has no attribute 'get'
[auto_trader.py][12:58:23] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:58:23] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:58:24] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:58:24] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:58:24] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:58:25] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:58:25] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.8123', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.57', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.75', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.29153257061358', 'mmr': '193.51800000000003', 'nonSettleAvgPx': '', 'notionalUsd': '48397.884210000004', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '14.939999999998692', 'uplLastPx': '18.179999999995744', 'uplRatio': '0.0308713149692386', 'uplRatioLastPx': '0.0375662989384629', 'usdPx': '1.00038', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:58:25] [INFO] 当前持仓: -180.0 (short)
[auto_trader.py][12:58:25] [ERROR] 执行交易失败: 'coroutine' object has no attribute 'get'
[auto_trader.py][12:59:25] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:59:25] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:59:26] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:59:26] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:59:26] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:59:28] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:59:28] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.7482', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.57', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.63', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2180482666306145', 'mmr': '193.58136000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48412.27836900001', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-0.9000000000032743', 'uplLastPx': '0.1799999999957436', 'uplRatio': '-0.0018597177692481', 'uplRatioLastPx': '0.0003719435538341', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:59:28] [INFO] 当前持仓: -180.0 (short)
[auto_trader.py][12:59:28] [ERROR] 执行交易失败: 'coroutine' object has no attribute 'get'
[auto_trader.py][12:59:45] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][12:59:45] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][12:59:46] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:59:46] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][12:59:46] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][12:59:47] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][12:59:47] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.3835', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688.08', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.11', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2614649946120586', 'mmr': '193.54392000000004', 'nonSettleAvgPx': '', 'notionalUsd': '48403.3989528', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '8.459999999996398', 'uplLastPx': '9', 'uplRatio': '0.0174813470307678', 'uplRatioLastPx': '0.0185971776923144', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][12:59:47] [INFO] 当前持仓: -180.0 (short)
[auto_trader.py][12:59:47] [INFO] 平仓结果: <coroutine object close_position at 0x7d9c06fbc480>
[auto_trader.py][12:59:47] [INFO] 交易执行成功: <coroutine object close_position at 0x7d9c06fbc480>
[auto_trader.py][13:00:07] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:00:07] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:00:08] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:00:08] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:00:08] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:00:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:00:10] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.7176', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.59', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.6', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.3040631046286664', 'mmr': '193.5072', 'nonSettleAvgPx': '', 'notionalUsd': '48394.21564799999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '17.640000000000327', 'uplLastPx': '17.81999999999607', 'uplRatio': '0.0364504682769384', 'uplRatioLastPx': '0.0368224118307725', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:00:10] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:00:10] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][13:00:10] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:00:10] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:00:58] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:00:58] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:01:00] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:01:00] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:01:00] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:01:01] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:01:01] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.4088', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2686.92', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.03', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.351691892783707', 'mmr': '193.46616000000003', 'nonSettleAvgPx': '', 'notionalUsd': '48384.4356198', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '27.89999999999509', 'uplLastPx': '29.879999999997384', 'uplRatio': '0.057651250846158', 'uplRatioLastPx': '0.0617426299384771', 'usdPx': '1.00037', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:01:01] [INFO] 当前持仓: -180.0 (short)
[place_order.py][13:01:01] [ERROR] 平仓过程发生异常: name 'true' is not defined
Traceback (most recent call last):
  File "/home/li-xufeng/codespace/taishang/function/trade/place_order.py", line 323, in close_position
    autoCxl=true  # 是否自动撤销未完成的平仓单
            ^^^^
NameError: name 'true' is not defined. Did you mean: 'True'?
[auto_trader.py][13:01:01] [INFO] 平仓结果: {'success': False, 'error': "name 'true' is not defined", 'response': None}
[auto_trader.py][13:01:01] [ERROR] 执行交易失败: 'NoneType' object has no attribute 'get'
[auto_trader.py][13:01:14] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:01:14] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:01:15] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:01:15] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:01:15] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:01:16] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:01:16] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.2164', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2686.93', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2686.89', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.3633932828577984', 'mmr': '193.45608000000001', 'nonSettleAvgPx': '', 'notionalUsd': '48381.43104719999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '30.420000000000986', 'uplLastPx': '29.70000000000164', 'uplRatio': '0.0628584606000238', 'uplRatioLastPx': '0.061370686384643', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:01:16] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:01:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][13:01:16] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:01:16] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:11] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:02:11] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:02:12] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:12] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:02:12] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:02:13] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:13] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.8158', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.63', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.71', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.294873909594238', 'mmr': '193.51512000000002', 'nonSettleAvgPx': '', 'notionalUsd': '48396.19636079999', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '15.659999999998035', 'uplLastPx': '17.09999999999673', 'uplRatio': '0.0323590891846193', 'uplRatioLastPx': '0.0353346376153918', 'usdPx': '1.00036', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:02:13] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:02:14] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][13:02:14] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:14] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:30] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:02:30] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:02:31] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:31] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:02:31] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:02:33] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:33] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.9347', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.75', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.85', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2831796582563935', 'mmr': '193.5252', 'nonSettleAvgPx': '', 'notionalUsd': '48398.233455', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '13.14000000000033', 'uplLastPx': '14.939999999998692', 'uplRatio': '0.0271518794307757', 'uplRatioLastPx': '0.0308713149692386', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:02:33] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:02:33] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][13:02:33] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:33] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:47] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:02:47] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:02:48] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:48] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:02:48] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:02:49] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:02:49] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2688.9652', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2687.96', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2687.96', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2739921725025574', 'mmr': '193.53312000000003', 'nonSettleAvgPx': '', 'notionalUsd': '48400.214148', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '11.159999999998037', 'uplLastPx': '11.159999999998037', 'uplRatio': '0.0230605003384676', 'uplRatioLastPx': '0.0230605003384676', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:02:49] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:02:50] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[auto_trader.py][13:02:50] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:02:50] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:03:20] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:03:20] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:03:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:03:21] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:03:21] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:03:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:03:22] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2690.1747', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2689.13', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2689.04', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.183827685716832', 'mmr': '193.61088', 'nonSettleAvgPx': '', 'notionalUsd': '48419.1769248', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '-8.280000000000655', 'uplLastPx': '-9.900000000003274', 'uplRatio': '-0.0171094034769226', 'uplRatioLastPx': '-0.0204568954615514', 'usdPx': '1.00034', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:03:22] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:03:23] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 400 Bad Request"
[place_order.py][13:03:23] [INFO] input:('ETH-USDT-SWAP', 'sell', None, None)
[auto_trader.py][13:03:23] [INFO] 平仓结果: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:03:23] [INFO] 交易执行成功: {'success': False, 'response': {'code': '51000', 'data': [], 'msg': 'Parameter posSide error'}}
[auto_trader.py][13:03:53] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:03:53] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:03:54] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:03:54] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:03:54] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:03:55] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:03:55] [INFO] 获取到持仓信息: {'adl': '1', 'availPos': '180', 'avgPx': '2688.58', 'baseBal': '', 'baseBorrowed': '', 'baseInterest': '', 'bePx': '2685.892763618191', 'bizRefId': '', 'bizRefType': '', 'cTime': '1749530481872', 'ccy': 'USDT', 'clSpotInUseAmt': '', 'closeOrderAlgo': [], 'deltaBS': '', 'deltaPA': '', 'fee': '-24.19722', 'fundingFee': '0', 'gammaBS': '', 'gammaPA': '', 'idxPx': '2689.3517', 'imr': '', 'instId': 'ETH-USDT-SWAP', 'instType': 'SWAP', 'interest': '', 'last': '2688', 'lever': '100', 'liab': '', 'liabCcy': '', 'liqPenalty': '0', 'liqPx': '2703.290945744151', 'margin': '483.9444', 'markPx': '2688.08', 'maxSpotInUseAmt': '', 'mgnMode': 'isolated', 'mgnRatio': '2.2639703183436994', 'mmr': '193.54176', 'nonSettleAvgPx': '', 'notionalUsd': '48402.374904000004', 'optVal': '', 'pendingCloseOrdLiabVal': '', 'pnl': '0', 'pos': '180', 'posCcy': '', 'posId': '2584561234884820992', 'posSide': 'short', 'quoteBal': '', 'quoteBorrowed': '', 'quoteInterest': '', 'realizedPnl': '-24.19722', 'settledPnl': '', 'spotInUseAmt': '', 'spotInUseCcy': '', 'thetaBS': '', 'thetaPA': '', 'tradeId': '1052337800', 'uTime': '1749530648539', 'upl': '9', 'uplLastPx': '10.43999999999869', 'uplRatio': '0.0185971776923144', 'uplRatioLastPx': '0.0215727261230758', 'usdPx': '1.00035', 'vegaBS': '', 'vegaPA': ''}
[place_order.py][13:03:55] [INFO] 当前持仓: -180.0 (short)
[_client.py][13:03:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/close-position "HTTP/2 200 OK"
[place_order.py][13:03:55] [INFO] input:('ETH-USDT-SWAP', 'short', None, None)
[auto_trader.py][13:03:55] [INFO] 平仓结果: {'success': True, 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'short', 'tag': ''}], 'msg': ''}}
[auto_trader.py][13:03:55] [INFO] 交易执行成功: {'success': True, 'response': {'code': '0', 'data': [{'clOrdId': '', 'instId': 'ETH-USDT-SWAP', 'posSide': 'short', 'tag': ''}], 'msg': ''}}
[auto_trader.py][13:38:08] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:38:08] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:38:09] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:38:09] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:38:09] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:38:10] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:38:10] [INFO] ETH-USDT-SWAP 当前没有有效持仓
[auto_trader.py][13:38:10] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][13:39:06] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:39:06] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:39:07] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:39:07] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:39:07] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:39:08] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:39:08] [INFO] ETH-USDT-SWAP 当前没有有效持仓
[auto_trader.py][13:39:08] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][13:42:05] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:42:05] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:42:06] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:42:06] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:42:06] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:42:07] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:42:07] [INFO] ETH-USDT-SWAP 当前没有有效持仓
[auto_trader.py][13:42:07] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][13:43:03] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:43:03] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:43:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:43:04] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:43:04] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[_client.py][13:43:05] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:43:05] [INFO] ETH-USDT-SWAP 当前没有有效持仓
[auto_trader.py][13:43:05] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][13:57:03] [INFO] 执行第1条交易指令: {'operation_comment': '获利了结一部分仓位', 'side': 'close', 'posSide': 'long', 'price': None, 'size': 15.0, 'market': True, 'position_action': 'close_position'}
[place_order.py][13:57:03] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:57:04] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:57:04] [INFO] 没有未完成的订单需要撤销 - ETH-USDT-SWAP
[auto_trader.py][13:57:04] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'no pending orders'}}
[auto_trader.py][15:30:02] [INFO] 执行第1条交易指令: {'operation_comment': '当前市场处于牛市中的健康回调阶段，短期卖压强劲且高时间框架超买，风险较高。建议等待市场企稳或出现明确的看涨反转信号后再考虑入场。', 'type': 'wait', 'price': 'N/A', 'stop_loss': 'N/A', 'take_profit': ['N/A', 'N/A', 'N/A'], 'size': 'N/A', 'market': False, 'expected_winrate': 'N/A', 'expected_return': 'N/A', 'trade_RR_ratio': 'N/A', 'signal_strength': 'N/A', 'position_action': 'N/A', 'risk_assessment': '当前市场风险中等偏高。短期内波动性较大，存在深度回调风险。高时间框架的超买状况和高FGI增加了市场脆弱性。然而，强劲的长期趋势提供了潜在的支撑。建议保持谨慎，等待更明确的入场信号。'}
[auto_trader.py][15:30:02] [ERROR] 执行交易失败: 'side'
[auto_trader.py][16:02:38] [INFO] 执行第1条交易指令: {'operation_comment': '根据H4和H1的强劲牛市趋势，在M15回调至支撑位时入场做多，以获得更好的风险回报比。', 'type': 'buy', 'price': 2650.0, 'stop_loss': 2635.0, 'take_profit': [{'price': 2700.0, 'size': 50.36}, {'price': 2725.0, 'size': 50.36}, {'price': 2750.0, 'size': 50.35}], 'size': 151.07, 'market': False, 'expected_winrate': 0.7721, 'expected_return': 0.01328, 'trade_RR_ratio': 3.333, 'signal_strength': 0.75, 'risk_management_strategy': '将单笔交易风险控制在可用保证金的2%以内，并设置严格止损。在重要宏观事件前考虑减仓或移动止损。', 'position_action': 'open_position', 'risk_assessment': '中等风险。市场波动性较高，且处于贪婪阶段，可能出现急剧回调。但强劲的潜在趋势和积极的宏观因素部分抵消了风险。建议严格遵守止损，避免过度杠杆，并考虑在TP1处部分止盈。'}
[auto_trader.py][16:02:38] [ERROR] 执行交易失败: 'side'
[auto_trader.py][16:07:20] [INFO] 执行第1条交易指令: {'operation_comment': '根据H4和H1的强劲牛市趋势，在M15回调至支撑位时入场做多，以获得更好的风险回报比。', 'type': 'buy', 'price': 2650.0, 'stop_loss': 2635.0, 'take_profit': [{'price': 2700.0, 'size': 50.36}, {'price': 2725.0, 'size': 50.36}, {'price': 2750.0, 'size': 50.35}], 'size': 151.07, 'market': False, 'expected_winrate': 0.7721, 'expected_return': 0.01328, 'trade_RR_ratio': 3.333, 'signal_strength': 0.75, 'risk_management_strategy': '将单笔交易风险控制在可用保证金的2%以内，并设置严格止损。在重要宏观事件前考虑减仓或移动止损。', 'position_action': 'open_position', 'risk_assessment': '中等风险。市场波动性较高，且处于贪婪阶段，可能出现急剧回调。但强劲的潜在趋势和积极的宏观因素部分抵消了风险。建议严格遵守止损，避免过度杠杆，并考虑在TP1处部分止盈。'}
[auto_trader.py][16:07:20] [ERROR] 执行交易失败: 'side'
[auto_trader.py][16:10:24] [INFO] 执行第1条交易指令: {'operation_comment': '根据市场分析，当前处于牛市健康回调阶段，逢低做多。入场价格选择在建议的入场区间下限，以获得更好的风险回报。', 'side': 'buy', 'posSide': 'long', 'price': 2665.0, 'stop_loss': 2645.0, 'take_profit': [{'price': 2700.0, 'size': 56.66}, {'price': 2720.0, 'size': 33.99}, {'price': 2750.0, 'size': 22.66}], 'size': 113.31, 'market': False, 'position_action': 'open_position'}
[_client.py][16:10:24] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][16:10:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][16:10:25] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][16:10:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][16:10:25] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '113.31', 'px': '2665.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2645.0', 'slOrdPx': '-1', 'sz': '113.31'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2700.0', 'tpOrdPx': '-1', 'sz': '56.66'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2720.0', 'tpOrdPx': '-1', 'sz': '33.99'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2750.0', 'tpOrdPx': '-1', 'sz': '22.66'}]}
[_client.py][16:10:25] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][16:10:25] [INFO] 下单成功 - ordId: 2585054438897885184
[auto_trader.py][16:10:25] [INFO] 下单结果: {'success': True, 'order_id': '2585054438897885184', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2585054438897885184', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749543025777'}], 'inTime': '1749543025763178', 'msg': '', 'outTime': '1749543025780033'}}
[auto_trader.py][16:10:25] [INFO] 交易执行成功: {'success': True, 'order_id': '2585054438897885184', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2585054438897885184', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749543025777'}], 'inTime': '1749543025763178', 'msg': '', 'outTime': '1749543025780033'}}
[auto_trader.py][00:38:53] [INFO] 执行第1条交易指令: {'operation_comment': '根据多周期分析，市场处于牛市回调中，H1 StochRSI超卖且K线出现长下影线，显示逢低买盘强劲，MACD顶背离预示短期动能减弱，但整体趋势仍偏多，选择在回调位限价开多。当前无ETH-USDT-SWAP持仓。', 'side': 'buy', 'posSide': 'long', 'price': 2725.0, 'stop_loss': 2670.0, 'take_profit': [{'price': 2810.0, 'size': 13.76}, {'price': 2840.0, 'size': 13.76}, {'price': 2870.0, 'size': 13.77}], 'size': 41.29, 'market': False, 'position_action': 'open_position'}
[_client.py][00:38:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][00:38:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:38:54] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][00:38:54] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][00:38:54] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '41.29', 'px': '2725.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2670.0', 'slOrdPx': '-1', 'sz': '41.29'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2810.0', 'tpOrdPx': '-1', 'sz': '13.76'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2840.0', 'tpOrdPx': '-1', 'sz': '13.76'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2870.0', 'tpOrdPx': '-1', 'sz': '13.77'}]}
[_client.py][00:38:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][00:38:55] [INFO] 下单成功 - ordId: 2586078162975592448
[auto_trader.py][00:38:55] [INFO] 下单结果: {'success': True, 'order_id': '2586078162975592448', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2586078162975592448', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749573535132'}], 'inTime': '1749573535131802', 'msg': '', 'outTime': '1749573535135378'}}
[auto_trader.py][00:38:55] [INFO] 交易执行成功: {'success': True, 'order_id': '2586078162975592448', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2586078162975592448', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749573535132'}], 'inTime': '1749573535131802', 'msg': '', 'outTime': '1749573535135378'}}
[auto_trader.py][13:33:21] [INFO] 执行第1条交易指令: {'operation_comment': '取消现有ETH-USDT-SWAP多头挂单', 'side': 'sell', 'posSide': 'long', 'price': '2780', 'stop_loss': 'N/A', 'take_profit': [{'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}, {'price': 'N/A', 'size': 'N/A'}], 'size': '75.1', 'market': False, 'position_action': 'close_position'}
[place_order.py][13:33:21] [INFO] 正在撤销所有挂单 - ETH-USDT-SWAP
[_client.py][13:33:21] [INFO] HTTP Request: GET https://www.okx.com/api/v5/trade/orders-pending?instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[_client.py][13:33:21] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/cancel-order "HTTP/2 200 OK"
[place_order.py][13:33:21] [INFO] 成功撤销限价订单 2587483571602984960
[place_order.py][13:33:21] [INFO] 成功撤销所有挂单 - ETH-USDT-SWAP
[auto_trader.py][13:33:21] [INFO] 撤销所有挂单结果: {'success': True, 'response': {'code': '0', 'msg': 'cancelled 1/1 orders', 'success_count': 1, 'total_orders': 1}}
[_client.py][13:33:22] [INFO] HTTP Request: GET https://www.okx.com/api/v5/account/positions?instType=SWAP&instId=ETH-USDT-SWAP "HTTP/2 200 OK"
[place_order.py][13:33:22] [INFO] ETH-USDT-SWAP 当前没有有效持仓
[auto_trader.py][13:33:22] [INFO] 当前没有持仓，跳过平仓操作
[auto_trader.py][13:33:22] [INFO] 执行第2条交易指令: {'operation_comment': '开空ETH-USDT-SWAP', 'side': 'sell', 'posSide': 'short', 'price': '2779.0', 'stop_loss': '2805.0', 'take_profit': [{'price': '2740.0', 'size': '28.91'}, {'price': '2690.0', 'size': '28.91'}, {'price': '2640.0', 'size': '28.92'}], 'size': '86.74', 'market': False, 'position_action': 'open_position'}
[_client.py][13:33:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][13:33:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][13:33:22] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][13:33:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][13:33:22] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'sell', 'posSide': 'short', 'ordType': 'limit', 'sz': '86.74', 'px': '2779.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2805.0', 'slOrdPx': '-1', 'sz': '86.74'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2740.0', 'tpOrdPx': '-1', 'sz': '28.91'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2690.0', 'tpOrdPx': '-1', 'sz': '28.91'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2640.0', 'tpOrdPx': '-1', 'sz': '28.92'}]}
[_client.py][13:33:22] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][13:33:22] [INFO] 下单成功 - ordId: 2587637355356491776
[auto_trader.py][13:33:22] [INFO] 下单结果: {'success': True, 'order_id': '2587637355356491776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2587637355356491776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749620002686'}], 'inTime': '1749620002684783', 'msg': '', 'outTime': '1749620002688151'}}
[auto_trader.py][13:33:22] [INFO] 交易执行成功: {'success': True, 'order_id': '2587637355356491776', 'response': {'code': '0', 'data': [{'clOrdId': '', 'ordId': '2587637355356491776', 'sCode': '0', 'sMsg': 'Order placed', 'tag': '', 'ts': '1749620002686'}], 'inTime': '1749620002684783', 'msg': '', 'outTime': '1749620002688151'}}
[auto_trader.py][18:14:55] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间周期超卖反弹信号，在支撑区域开立多头头寸。', 'side': 'buy', 'posSide': 'long', 'price': 2755, 'stop_loss': 2720, 'take_profit': [{'price': 2790, 'size': '50.0%'}, {'price': 2820, 'size': '30.0%'}, {'price': 2850, 'size': '20.0%'}], 'size': 64.36, 'market': False, 'position_action': 'open_position'}
[_client.py][18:14:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:14:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:14:55] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:14:55] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:14:55] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '64.36', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2720', 'slOrdPx': '-1', 'sz': '64.36'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '32.18'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2820.0', 'tpOrdPx': '-1', 'sz': '19.308'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2850.0', 'tpOrdPx': '-1', 'sz': '12.872'}]}
[_client.py][18:14:56] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:14:56] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749636896254'}], 'inTime': '1749636896254467', 'msg': 'All operations failed', 'outTime': '1749636896254684'}
[auto_trader.py][18:14:56] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749636896254'}], 'inTime': '1749636896254467', 'msg': 'All operations failed', 'outTime': '1749636896254684'}}
[auto_trader.py][18:14:56] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749636896254'}], 'inTime': '1749636896254467', 'msg': 'All operations failed', 'outTime': '1749636896254684'}}
[auto_trader.py][18:17:51] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:17:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:17:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:17:52] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:17:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:17:52] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:17:52] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:17:52] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637072788'}], 'inTime': '1749637072788734', 'msg': 'All operations failed', 'outTime': '1749637072788958'}
[auto_trader.py][18:17:52] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637072788'}], 'inTime': '1749637072788734', 'msg': 'All operations failed', 'outTime': '1749637072788958'}}
[auto_trader.py][18:17:52] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637072788'}], 'inTime': '1749637072788734', 'msg': 'All operations failed', 'outTime': '1749637072788958'}}
[auto_trader.py][18:19:07] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:19:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:19:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:19:07] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:19:07] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:19:07] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:19:08] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:19:08] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637148123'}], 'inTime': '1749637148123277', 'msg': 'All operations failed', 'outTime': '1749637148123523'}
[auto_trader.py][18:19:08] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637148123'}], 'inTime': '1749637148123277', 'msg': 'All operations failed', 'outTime': '1749637148123523'}}
[auto_trader.py][18:19:08] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637148123'}], 'inTime': '1749637148123277', 'msg': 'All operations failed', 'outTime': '1749637148123523'}}
[auto_trader.py][18:19:27] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:19:27] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:19:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:19:28] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:19:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:19:28] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:19:28] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:19:28] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637168582'}], 'inTime': '1749637168581869', 'msg': 'All operations failed', 'outTime': '1749637168582056'}
[auto_trader.py][18:19:28] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637168582'}], 'inTime': '1749637168581869', 'msg': 'All operations failed', 'outTime': '1749637168582056'}}
[auto_trader.py][18:19:28] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637168582'}], 'inTime': '1749637168581869', 'msg': 'All operations failed', 'outTime': '1749637168582056'}}
[auto_trader.py][18:22:34] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:22:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:22:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:22:34] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:22:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:22:34] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:22:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:22:35] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637355059'}], 'inTime': '1749637355059252', 'msg': 'All operations failed', 'outTime': '1749637355059450'}
[auto_trader.py][18:22:35] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637355059'}], 'inTime': '1749637355059252', 'msg': 'All operations failed', 'outTime': '1749637355059450'}}
[auto_trader.py][18:22:35] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637355059'}], 'inTime': '1749637355059252', 'msg': 'All operations failed', 'outTime': '1749637355059450'}}
[auto_trader.py][18:23:15] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:23:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:23:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:23:15] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:23:15] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:23:15] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.03'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.03'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03'}]}
[_client.py][18:23:16] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:23:16] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51083', 'sMsg': 'The total size of all TPs needs to equal your order size', 'tag': '', 'ts': '1749637396178'}], 'inTime': '1749637396178524', 'msg': 'All operations failed', 'outTime': '1749637396178824'}
[auto_trader.py][18:23:16] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51083', 'sMsg': 'The total size of all TPs needs to equal your order size', 'tag': '', 'ts': '1749637396178'}], 'inTime': '1749637396178524', 'msg': 'All operations failed', 'outTime': '1749637396178824'}}
[auto_trader.py][18:23:16] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51083', 'sMsg': 'The total size of all TPs needs to equal your order size', 'tag': '', 'ts': '1749637396178'}], 'inTime': '1749637396178524', 'msg': 'All operations failed', 'outTime': '1749637396178824'}}
[auto_trader.py][18:26:19] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:26:19] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:26:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:26:20] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:26:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:26:20] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:26:20] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:26:20] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637580912'}], 'inTime': '1749637580912353', 'msg': 'All operations failed', 'outTime': '1749637580912845'}
[auto_trader.py][18:26:20] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637580912'}], 'inTime': '1749637580912353', 'msg': 'All operations failed', 'outTime': '1749637580912845'}}
[auto_trader.py][18:26:20] [INFO] 交易执行成功: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637580912'}], 'inTime': '1749637580912353', 'msg': 'All operations failed', 'outTime': '1749637580912845'}}
[auto_trader.py][18:27:34] [INFO] 执行第1条交易指令: {'operation_comment': '根据多时间框架分析，H4处于强劲牛市，H1/M15回调后出现短期反转信号，逢低做多。', 'side': 'buy', 'posSide': 'long', 'price': 2755.0, 'stop_loss': 2730.0, 'take_profit': [{'price': 2790.0, 'size': '33.33%'}, {'price': 2815.0, 'size': '33.33%'}, {'price': 2830.0, 'size': '33.34%'}], 'size': 90.1, 'market': False, 'position_action': 'open_position'}
[_client.py][18:27:34] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-position-mode "HTTP/2 200 OK"
[_client.py][18:27:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:27:35] [INFO] 设置杠杆结果: {'code': '0', 'data': [{'instId': 'ETH-USDT-SWAP', 'lever': '100', 'mgnMode': 'isolated', 'posSide': 'long'}], 'msg': ''}
[_client.py][18:27:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/account/set-leverage "HTTP/2 200 OK"
[place_order.py][18:27:35] [INFO] 准备下单参数: {'instId': 'ETH-USDT-SWAP', 'tdMode': 'isolated', 'side': 'buy', 'posSide': 'long', 'ordType': 'limit', 'sz': '90.1', 'px': '2755.0', 'attachAlgoOrds': [{'algoOrdType': 'SL', 'slTriggerPx': '2730.0', 'slOrdPx': '-1', 'sz': '90.1'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2790.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2815.0', 'tpOrdPx': '-1', 'sz': '30.030329999999996'}, {'algoOrdType': 'TP', 'tpTriggerPx': '2830.0', 'tpOrdPx': '-1', 'sz': '30.03934'}]}
[_client.py][18:27:35] [INFO] HTTP Request: POST https://www.okx.com/api/v5/trade/order "HTTP/2 200 OK"
[place_order.py][18:27:35] [ERROR] 下单失败: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637655623'}], 'inTime': '1749637655623724', 'msg': 'All operations failed', 'outTime': '1749637655623898'}
[auto_trader.py][18:27:35] [INFO] 下单结果: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637655623'}], 'inTime': '1749637655623724', 'msg': 'All operations failed', 'outTime': '1749637655623898'}}
[auto_trader.py][18:27:35] [ERROR] 交易执行失败: {'success': False, 'error': 'All operations failed', 'response': {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51121', 'sMsg': 'Order quantity must be a multiple of the lot size.', 'tag': '', 'ts': '1749637655623'}], 'inTime': '1749637655623724', 'msg': 'All operations failed', 'outTime': '1749637655623898'}}
